/*! For license information please see main.46ddc0ee.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),y=0;y<o.length;++y){var m=o[y];if(!a[m]&&(!r||!r[m])&&(!v||!v[m])&&(!u||!u[m])){var g=h(n,m);try{c(t,m,g)}catch(k){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,y=n?Symbol.for("react.lazy"):60116,m=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case y:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return w(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=y,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||w(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===a},t.isLazy=function(e){return w(e)===y},t.isMemo=function(e){return w(e)===v},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===u},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===y||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===b||e.$$typeof===m)},t.typeOf=w},309:function(e,t,n){"use strict";e.exports=n(746)},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,g);y[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),x=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),N=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var M,F=Object.assign;function V(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function j(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?V(e):""}function B(e){switch(e.tag){case 5:return V(e.type);case 16:return V("Lazy");case 13:return V("Suspense");case 19:return V("SuspenseList");case 0:case 2:case 15:return e=j(e.type,!1);case 11:return e=j(e.type.render,!1);case 1:return e=j(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case I:return"Fragment";case x:return"Portal";case E:return"Profiler";case S:return"StrictMode";case A:return"Suspense";case N:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function Z(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var me=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ie=null,Se=null;function Ee(e){if(e=yi(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=gi(t),xe(e.stateNode,e.type,t))}}function _e(e){Ie?Se?Se.push(e):Se=[e]:Ie=e}function Te(){if(Ie){var e=Ie,t=Se;if(Se=Ie=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ce(e,t){return e(t)}function Ae(){}var Ne=!1;function Re(e,t,n){if(Ne)return e(t,n);Ne=!0;try{return Ce(e,t,n)}finally{Ne=!1,(null!==Ie||null!==Se)&&(Ae(),Te())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=gi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var De=!1;if(l)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(le){De=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,Ve=!1,Ue=null,je={onError:function(e){Me=!0,Fe=e}};function Be(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(je,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Je=i.unstable_now,Ze=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var gt=0;function kt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,wt,xt,It,St,Et=!1,_t=[],Tt=null,Ct=null,At=null,Nt=new Map,Rt=new Map,Pt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Ct=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Lt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=yi(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Mt(e){var t=vi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ht(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=yi(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Ut(){Et=!1,null!==Tt&&Ft(Tt)&&(Tt=null),null!==Ct&&Ft(Ct)&&(Ct=null),null!==At&&Ft(At)&&(At=null),Nt.forEach(Vt),Rt.forEach(Vt)}function jt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Ut)))}function Bt(e){function t(t){return jt(t,e)}if(0<_t.length){jt(_t[0],e);for(var n=1;n<_t.length;n++){var r=_t[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&jt(Tt,e),null!==Ct&&jt(Ct,e),null!==At&&jt(At,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Mt(n),null===n.blockedOn&&Pt.shift()}var zt=b.ReactCurrentBatchConfig;function qt(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=1,Kt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Wt(e,t,n,r){var i=gt,a=zt.transition;zt.transition=null;try{gt=4,Kt(e,t,n,r)}finally{gt=i,zt.transition=a}}function Kt(e,t,n,r){var i=Ht(e,t,n,r);if(null===i)zr(e,t,r,Gt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Lt(Tt,e,t,n,r,i),!0;case"dragenter":return Ct=Lt(Ct,e,t,n,r,i),!0;case"mouseover":return At=Lt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Nt.set(a,Lt(Nt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Lt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=yi(i);if(null!==a&&bt(a),null===(a=Ht(e,t,n,r))&&zr(e,t,r,Gt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}var Gt=null;function Ht(e,t,n,r){if(Gt=null,null!==(e=vi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Jt=null;function Zt(){if(Jt)return Jt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function $t(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function en(){return!0}function tn(){return!1}function nn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?en:tn,this.isPropagationStopped=tn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=en)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=en)},persist:function(){},isPersistent:en}),t}var rn,an,on,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sn=nn(un),cn=F({},un,{view:0,detail:0}),ln=nn(cn),fn=F({},cn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:In,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(rn=e.screenX-on.screenX,an=e.screenY-on.screenY):an=rn=0,on=e),rn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=nn(fn),dn=nn(F({},fn,{dataTransfer:0})),pn=nn(F({},cn,{relatedTarget:0})),vn=nn(F({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mn=nn(yn),gn=nn(F({},un,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=wn[e])&&!!t[e]}function In(){return xn}var Sn=F({},cn,{key:function(e){if(e.key){var t=kn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=$t(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:In,charCode:function(e){return"keypress"===e.type?$t(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?$t(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=nn(Sn),_n=nn(F({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=nn(F({},cn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:In})),Cn=nn(F({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Nn=nn(An),Rn=[9,13,27,32],Pn=l&&"CompositionEvent"in window,Dn=null;l&&"documentMode"in document&&(Dn=document.documentMode);var On=l&&"TextEvent"in window&&!Dn,Ln=l&&(!Pn||Dn&&8<Dn&&11>=Dn),Mn=String.fromCharCode(32),Fn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Un(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var jn=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new sn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Gn(e){Mr(e,0)}function Hn(e){if(H(mi(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var Jn="oninput"in document;if(!Jn){var Zn=document.createElement("div");Zn.setAttribute("oninput","return;"),Jn="function"===typeof Zn.oninput}Xn=Jn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function $n(){Wn&&(Wn.detachEvent("onpropertychange",er),Kn=Wn=null)}function er(e){if("value"===e.propertyName&&Hn(Kn)){var t=[];qn(t,Kn,e,we(e)),Re(Gn,t)}}function tr(e,t,n){"focusin"===e?($n(),Kn=n,(Wn=t).attachEvent("onpropertychange",er)):"focusout"===e&&$n()}function nr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Kn)}function rr(e,t){if("click"===e)return Hn(t)}function ir(e,t){if("input"===e||"change"===e)return Hn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function sr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function cr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?cr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function lr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=lr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&cr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=sr(n,a);var o=sr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var dr=l&&"documentMode"in document&&11>=document.documentMode,pr=null,vr=null,yr=null,mr=!1;function gr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;mr||null==pr||pr!==Q(r)||("selectionStart"in(r=pr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&or(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new sn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var br={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},wr={},xr={};function Ir(e){if(wr[e])return wr[e];if(!br[e])return e;var t,n=br[e];for(t in n)if(n.hasOwnProperty(t)&&t in xr)return wr[e]=n[t];return e}l&&(xr=document.createElement("div").style,"AnimationEvent"in window||(delete br.animationend.animation,delete br.animationiteration.animation,delete br.animationstart.animation),"TransitionEvent"in window||delete br.transitionend.transition);var Sr=Ir("animationend"),Er=Ir("animationiteration"),_r=Ir("animationstart"),Tr=Ir("transitionend"),Cr=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nr(e,t){Cr.set(e,t),s(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Pr=Ar[Rr];Nr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Nr(Sr,"onAnimationEnd"),Nr(Er,"onAnimationIteration"),Nr(_r,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(Be.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,Ve||(Ve=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Lr(i,u,c),a=s}}}if(Ve)throw e=Ue,Ve=!1,Ue=null,e}function Fr(e,t){var n=t[hi];void 0===n&&(n=t[hi]=new Set);var r=e+"__bubble";n.has(r)||(Br(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),Br(n,e,r,t)}var Ur="_reactListening"+Math.random().toString(36).slice(2);function jr(e){if(!e[Ur]){e[Ur]=!0,o.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Ur]||(t[Ur]=!0,Vr("selectionchange",!1,t))}}function Br(e,t,n,r){switch(Qt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=vi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Re((function(){var r=a,i=we(n),o=[];e:{var u=Cr.get(e);if(void 0!==u){var s=sn,c=e;switch(e){case"keypress":if(0===$t(n))break e;case"keydown":case"keyup":s=En;break;case"focusin":c="focus",s=pn;break;case"focusout":c="blur",s=pn;break;case"beforeblur":case"afterblur":s=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=dn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Tn;break;case Sr:case Er:case _r:s=vn;break;case Tr:s=Cn;break;case"scroll":s=ln;break;case"wheel":s=Nn;break;case"copy":case"cut":case"paste":s=mn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=_n}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Pe(p,h))&&l.push(qr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!vi(c)&&!c[fi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?vi(c):null)&&(c!==(f=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=hn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=_n,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:mi(s),d=null==c?u:mi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,vi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Kr(d))p++;for(d=0,v=h;v;v=Kr(v))d++;for(;0<p-d;)l=Kr(l),p--;for(;0<d-p;)h=Kr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Kr(l),h=Kr(h)}l=null}else l=null;null!==s&&Gr(o,u,s,l,!1),null!==c&&null!==f&&Gr(o,f,c,l,!0)}if("select"===(s=(u=r?mi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var y=Qn;else if(zn(u))if(Yn)y=ir;else{y=nr;var m=tr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(y=rr);switch(y&&(y=y(e,r))?qn(o,y,n,i):(m&&m(e,u,r),"focusout"===e&&(m=u._wrapperState)&&m.controlled&&"number"===u.type&&ee(u,"number",u.value)),m=r?mi(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(pr=m,vr=r,yr=null);break;case"focusout":yr=vr=pr=null;break;case"mousedown":mr=!0;break;case"contextmenu":case"mouseup":case"dragend":mr=!1,gr(o,n,i);break;case"selectionchange":if(dr)break;case"keydown":case"keyup":gr(o,n,i)}var g;if(Pn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else jn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Ln&&"ko"!==n.locale&&(jn||"onCompositionStart"!==k?"onCompositionEnd"===k&&jn&&(g=Zt()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,jn=!0)),0<(m=Wr(r,k)).length&&(k=new gn(k,e,null,n,i),o.push({event:k,listeners:m}),g?k.data=g:null!==(g=Un(n))&&(k.data=g))),(g=On?function(e,t){switch(e){case"compositionend":return Un(t);case"keypress":return 32!==t.which?null:(Fn=!0,Mn);case"textInput":return(e=t.data)===Mn&&Fn?null:e;default:return null}}(e,n):function(e,t){if(jn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=Zt(),Jt=Xt=Yt=null,jn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new gn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}Mr(o,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Pe(e,n))&&r.unshift(qr(e,a,i)),null!=(a=Pe(e,t))&&r.push(qr(e,a,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Pe(n,a))&&o.unshift(qr(n,s,u)):i||null!=(s=Pe(n,a))&&o.push(qr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Hr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Hr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(a(425))}function Jr(){}var Zr=null;function $r(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ei="function"===typeof setTimeout?setTimeout:void 0,ti="function"===typeof clearTimeout?clearTimeout:void 0,ni="function"===typeof Promise?Promise:void 0,ri="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ni?function(e){return ni.resolve(null).then(e).catch(ii)}:ei;function ii(e){setTimeout((function(){throw e}))}function ai(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function oi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var si=Math.random().toString(36).slice(2),ci="__reactFiber$"+si,li="__reactProps$"+si,fi="__reactContainer$"+si,hi="__reactEvents$"+si,di="__reactListeners$"+si,pi="__reactHandles$"+si;function vi(e){var t=e[ci];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[ci]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[ci])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function yi(e){return!(e=e[ci]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function mi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function gi(e){return e[li]||null}var ki=[],bi=-1;function wi(e){return{current:e}}function xi(e){0>bi||(e.current=ki[bi],ki[bi]=null,bi--)}function Ii(e,t){bi++,ki[bi]=e.current,e.current=t}var Si={},Ei=wi(Si),_i=wi(!1),Ti=Si;function Ci(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ai(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){xi(_i),xi(Ei)}function Ri(e,t,n){if(Ei.current!==Si)throw Error(a(168));Ii(Ei,t),Ii(_i,n)}function Pi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Di(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ti=Ei.current,Ii(Ei,e),Ii(_i,_i.current),!0}function Oi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Pi(e,t,Ti),r.__reactInternalMemoizedMergedChildContext=e,xi(_i),xi(Ei),Ii(Ei,e)):xi(_i),Ii(_i,n)}var Li=null,Mi=!1,Fi=!1;function Vi(e){null===Li?Li=[e]:Li.push(e)}function Ui(){if(!Fi&&null!==Li){Fi=!0;var e=0,t=gt;try{var n=Li;for(gt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Li=null,Mi=!1}catch(i){throw null!==Li&&(Li=Li.slice(e+1)),He($e,Ui),i}finally{gt=t,Fi=!1}}return null}var ji=b.ReactCurrentBatchConfig;function Bi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var zi=wi(null),qi=null,Wi=null,Ki=null;function Gi(){Ki=Wi=qi=null}function Hi(e){var t=zi.current;xi(zi),e._currentValue=t}function Qi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Yi(e,t){qi=e,Ki=Wi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(mu=!0),e.firstContext=null)}function Xi(e){var t=e._currentValue;if(Ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Wi){if(null===qi)throw Error(a(308));Wi=e,qi.dependencies={lanes:0,firstContext:e}}else Wi=Wi.next=e;return t}var Ji=null,Zi=!1;function $i(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ea(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ta(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function na(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,null!==gs&&0!==(1&e.mode)&&0===(2&ms)?(null===(e=n.interleaved)?(t.next=t,null===Ji?Ji=[n]:Ji.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function ia(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function aa(e,t,n,r){var i=e.updateQueue;Zi=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:Zi=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Es|=o,e.lanes=o,e.memoizedState=f}}function oa(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var ua=(new r.Component).refs;function sa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ca={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=zs(),i=qs(e),a=ta(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),na(e,a),null!==(t=Ws(e,i,r))&&ra(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=zs(),r=qs(e),i=ta(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),na(e,i),null!==(t=Ws(e,r,n))&&ra(t,e,r)}};function la(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(i,a))}function fa(e,t,n){var r=!1,i=Si,a=t.contextType;return"object"===typeof a&&null!==a?a=Xi(a):(i=Ai(t)?Ti:Ei.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ci(e,i):Si),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ca,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ha(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ca.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ua,$i(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Xi(a):(a=Ai(t)?Ti:Ei.current,i.context=Ci(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(sa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ca.enqueueReplaceState(i,i.state,null),aa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var pa=[],va=0,ya=null,ma=0,ga=[],ka=0,ba=null,wa=1,xa="";function Ia(e,t){pa[va++]=ma,pa[va++]=ya,ya=e,ma=t}function Sa(e,t,n){ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,ba=e;var r=wa;e=xa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wa=1<<32-ot(t)+i|n<<i|r,xa=a+e}else wa=1<<a|n<<i|r,xa=e}function Ea(e){null!==e.return&&(Ia(e,1),Sa(e,1,0))}function _a(e){for(;e===ya;)ya=pa[--va],pa[va]=null,ma=pa[--va],pa[va]=null;for(;e===ba;)ba=ga[--ka],ga[ka]=null,xa=ga[--ka],ga[ka]=null,wa=ga[--ka],ga[ka]=null}var Ta=null,Ca=null,Aa=!1,Na=null;function Ra(e,t){var n=bc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function Pa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Ta=e,Ca=oi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Ta=e,Ca=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==ba?{id:wa,overflow:xa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=bc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Ta=e,Ca=null,!0);default:return!1}}function Da(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Oa(e){if(Aa){var t=Ca;if(t){var n=t;if(!Pa(e,t)){if(Da(e))throw Error(a(418));t=oi(n.nextSibling);var r=Ta;t&&Pa(e,t)?Ra(r,n):(e.flags=-4097&e.flags|2,Aa=!1,Ta=e)}}else{if(Da(e))throw Error(a(418));e.flags=-4097&e.flags|2,Aa=!1,Ta=e}}}function La(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Ta=e}function Ma(e){if(e!==Ta)return!1;if(!Aa)return La(e),Aa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!$r(e.type,e.memoizedProps)),t&&(t=Ca)){if(Da(e)){for(e=Ca;e;)e=oi(e.nextSibling);throw Error(a(418))}for(;t;)Ra(e,t),t=oi(t.nextSibling)}if(La(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ca=oi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ca=null}}else Ca=Ta?oi(e.stateNode.nextSibling):null;return!0}function Fa(){Ca=Ta=null,Aa=!1}function Va(e){null===Na?Na=[e]:Na.push(e)}function Ua(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===ua&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ja(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ba(e){return(0,e._init)(e._payload)}function za(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=xc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=_c(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===I?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===P&&Ba(a)===t.type)?((r=i(t,n.props)).ref=Ua(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=Ua(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Tc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Sc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=_c(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=Ua(e,null,t),n.return=e,n;case x:return(t=Tc(t,e.mode,n)).return=e,t;case P:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Sc(t,e.mode,n,null)).return=e,t;ja(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case P:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);ja(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);ja(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,y=null;null!==f&&v<u.length;v++){f.index>v?(y=f,f=null):y=f.sibling;var m=d(i,f,u[v],s);if(null===m){null===f&&(f=y);break}e&&f&&null===m.alternate&&t(i,f),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m,f=y}if(v===u.length)return n(i,f),Aa&&Ia(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Aa&&Ia(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(y=p(f,i,v,u[v],s))&&(e&&null!==y.alternate&&f.delete(null===y.key?v:y.key),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y);return e&&f.forEach((function(e){return t(i,e)})),Aa&&Ia(i,v),c}function y(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,y=u=0,m=null,g=s.next();null!==v&&!g.done;y++,g=s.next()){v.index>y?(m=v,v=null):m=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=m);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,y),null===f?l=k:f.sibling=k,f=k,v=m}if(g.done)return n(i,v),Aa&&Ia(i,y),l;if(null===v){for(;!g.done;y++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return Aa&&Ia(i,y),l}for(v=r(i,v);!g.done;y++,g=s.next())null!==(g=p(v,i,y,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?y:g.key),u=o(g,u,y),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Aa&&Ia(i,y),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===I&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===I){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&Ba(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ua(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===I?((a=Sc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Ic(o.type,o.key,o.props,null,r.mode,s)).ref=Ua(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Tc(o,r.mode,s)).return=r,r=a}return u(r);case P:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return y(r,a,o,s);ja(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=_c(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var qa=za(!0),Wa=za(!1),Ka={},Ga=wi(Ka),Ha=wi(Ka),Qa=wi(Ka);function Ya(e){if(e===Ka)throw Error(a(174));return e}function Xa(e,t){switch(Ii(Qa,t),Ii(Ha,e),Ii(Ga,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Ga),Ii(Ga,t)}function Ja(){xi(Ga),xi(Ha),xi(Qa)}function Za(e){Ya(Qa.current);var t=Ya(Ga.current),n=se(t,e.type);t!==n&&(Ii(Ha,e),Ii(Ga,n))}function $a(e){Ha.current===e&&(xi(Ga),xi(Ha))}var eo=wi(0);function to(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var no=[];function ro(){for(var e=0;e<no.length;e++)no[e]._workInProgressVersionPrimary=null;no.length=0}var io=b.ReactCurrentDispatcher,ao=b.ReactCurrentBatchConfig,oo=0,uo=null,so=null,co=null,lo=!1,fo=!1,ho=0,po=0;function vo(){throw Error(a(321))}function yo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function mo(e,t,n,r,i,o){if(oo=o,uo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,io.current=null===e||null===e.memoizedState?$o:eu,e=n(r,i),fo){o=0;do{if(fo=!1,ho=0,25<=o)throw Error(a(301));o+=1,co=so=null,t.updateQueue=null,io.current=tu,e=n(r,i)}while(fo)}if(io.current=Zo,t=null!==so&&null!==so.next,oo=0,co=so=uo=null,lo=!1,t)throw Error(a(300));return e}function go(){var e=0!==ho;return ho=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===co?uo.memoizedState=co=e:co=co.next=e,co}function bo(){if(null===so){var e=uo.alternate;e=null!==e?e.memoizedState:null}else e=so.next;var t=null===co?uo.memoizedState:co.next;if(null!==t)co=t,so=e;else{if(null===e)throw Error(a(310));e={memoizedState:(so=e).memoizedState,baseState:so.baseState,baseQueue:so.baseQueue,queue:so.queue,next:null},null===co?uo.memoizedState=co=e:co=co.next=e}return co}function wo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=so,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((oo&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,uo.lanes|=f,Es|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ar(r,t.memoizedState)||(mu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,uo.lanes|=o,Es|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Io(e){var t=bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ar(o,t.memoizedState)||(mu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function So(){}function Eo(e,t){var n=uo,r=bo(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,mu=!0),r=r.queue,Mo(Co.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==co&&1&co.memoizedState.tag){if(n.flags|=2048,Ro(9,To.bind(null,n,r,i,t),void 0,null),null===gs)throw Error(a(349));0!==(30&oo)||_o(n,t,i)}return i}function _o(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Ws(e,1,-1)}function Co(e,t,n){return n((function(){Ao(t)&&Ws(e,1,-1)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function No(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wo,lastRenderedState:e},t.queue=e,e=e.dispatch=Ho.bind(null,uo,e),[t.memoizedState,e]}function Ro(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=uo.updateQueue)?(t={lastEffect:null,stores:null},uo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Po(){return bo().memoizedState}function Do(e,t,n,r){var i=ko();uo.flags|=e,i.memoizedState=Ro(1|t,n,void 0,void 0===r?null:r)}function Oo(e,t,n,r){var i=bo();r=void 0===r?null:r;var a=void 0;if(null!==so){var o=so.memoizedState;if(a=o.destroy,null!==r&&yo(r,o.deps))return void(i.memoizedState=Ro(t,n,a,r))}uo.flags|=e,i.memoizedState=Ro(1|t,n,a,r)}function Lo(e,t){return Do(8390656,8,e,t)}function Mo(e,t){return Oo(2048,8,e,t)}function Fo(e,t){return Oo(4,2,e,t)}function Vo(e,t){return Oo(4,4,e,t)}function Uo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function jo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Oo(4,4,Uo.bind(null,t,e),n)}function Bo(){}function zo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&yo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wo(e,t){var n=gt;gt=0!==n&&4>n?n:4,e(!0);var r=ao.transition;ao.transition={};try{e(!1),t()}finally{gt=n,ao.transition=r}}function Ko(){return bo().memoizedState}function Go(e,t,n){var r=qs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Qo(e)?Yo(t,n):(Xo(e,t,n),null!==(e=Ws(e,r,n=zs()))&&Jo(e,t,r))}function Ho(e,t,n){var r=qs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Qo(e))Yo(t,i);else{Xo(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ar(u,o))return}catch(s){}null!==(e=Ws(e,r,n=zs()))&&Jo(e,t,r)}}function Qo(e){var t=e.alternate;return e===uo||null!==t&&t===uo}function Yo(e,t){fo=lo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Xo(e,t,n){null!==gs&&0!==(1&e.mode)&&0===(2&ms)?(null===(e=t.interleaved)?(n.next=n,null===Ji?Ji=[t]:Ji.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function Jo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var Zo={readContext:Xi,useCallback:vo,useContext:vo,useEffect:vo,useImperativeHandle:vo,useInsertionEffect:vo,useLayoutEffect:vo,useMemo:vo,useReducer:vo,useRef:vo,useState:vo,useDebugValue:vo,useDeferredValue:vo,useTransition:vo,useMutableSource:vo,useSyncExternalStore:vo,useId:vo,unstable_isNewReconciler:!1},$o={readContext:Xi,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:Xi,useEffect:Lo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Do(4194308,4,Uo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Do(4194308,4,e,t)},useInsertionEffect:function(e,t){return Do(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Go.bind(null,uo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:No,useDebugValue:Bo,useDeferredValue:function(e){var t=No(e),n=t[0],r=t[1];return Lo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){var e=No(!1),t=e[0];return e=Wo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=uo,i=ko();if(Aa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===gs)throw Error(a(349));0!==(30&oo)||_o(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Lo(Co.bind(null,r,o,e),[e]),r.flags|=2048,Ro(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=gs.identifierPrefix;if(Aa){var n=xa;t=":"+t+"R"+(n=(wa&~(1<<32-ot(wa)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},eu={readContext:Xi,useCallback:zo,useContext:Xi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:xo,useRef:Po,useState:function(){return xo(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=xo(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[xo(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1},tu={readContext:Xi,useCallback:zo,useContext:Xi,useEffect:Mo,useImperativeHandle:jo,useInsertionEffect:Fo,useLayoutEffect:Vo,useMemo:qo,useReducer:Io,useRef:Po,useState:function(){return Io(wo)},useDebugValue:Bo,useDeferredValue:function(e){var t=Io(wo),n=t[0],r=t[1];return Mo((function(){var t=ao.transition;ao.transition={};try{r(e)}finally{ao.transition=t}}),[e]),n},useTransition:function(){return[Io(wo)[0],bo().memoizedState]},useMutableSource:So,useSyncExternalStore:Eo,useId:Ko,unstable_isNewReconciler:!1};function nu(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ru(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var iu,au,ou,uu="function"===typeof WeakMap?WeakMap:Map;function su(e,t,n){(n=ta(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ps||(Ps=!0,Ds=r),ru(0,t)},n}function cu(e,t,n){(n=ta(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ru(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){ru(0,t),"function"!==typeof r&&(null===Os?Os=new Set([this]):Os.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function lu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new uu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=pc.bind(null,e,t,n),t.then(e,e))}function fu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function hu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ta(-1,1)).tag=2,na(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function du(e,t){if(!Aa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function vu(e,t,n){var r=t.pendingProps;switch(_a(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pu(t),null;case 1:case 17:return Ai(t.type)&&Ni(),pu(t),null;case 3:return r=t.stateNode,Ja(),xi(_i),xi(Ei),ro(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ma(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Na&&(Ys(Na),Na=null))),pu(t),null;case 5:$a(t);var i=Ya(Qa.current);if(n=t.type,null!==e&&null!=t.stateNode)au(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return pu(t),null}if(e=Ya(Ga.current),Ma(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[ci]=t,r[li]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":X(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Fr("scroll",r)}switch(n){case"input":G(r),$(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[ci]=t,e[li]=r,iu(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?ye(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Fr("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),$(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return pu(t),null;case 6:if(e&&null!=t.stateNode)ou(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ya(Qa.current),Ya(Ga.current),Ma(t)){if(r=t.stateNode,n=t.memoizedProps,r[ci]=t,(o=r.nodeValue!==n)&&null!==(e=Ta))switch(s=0!==(1&e.mode),e.tag){case 3:Xr(r.nodeValue,n,s);break;case 5:!0!==e.memoizedProps[void 0]&&Xr(r.nodeValue,n,s)}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ci]=t,t.stateNode=r}return pu(t),null;case 13:if(xi(eo),r=t.memoizedState,Aa&&null!==Ca&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Ca;r;)r=oi(r.nextSibling);return Fa(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ma(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[ci]=t}else Fa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return pu(t),null}return null!==Na&&(Ys(Na),Na=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ma(t):n=null!==e.memoizedState,r&&!n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&eo.current)?0===Is&&(Is=3):ic())),null!==t.updateQueue&&(t.flags|=4),pu(t),null);case 4:return Ja(),null===e&&jr(t.stateNode.containerInfo),pu(t),null;case 10:return Hi(t.type._context),pu(t),null;case 19:if(xi(eo),null===(o=t.memoizedState))return pu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)du(o,!1);else{if(0!==Is||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=to(e))){for(t.flags|=128,du(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ii(eo,1&eo.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Rs&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=to(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),du(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Aa)return pu(t),null}else 2*Je()-o.renderingStartTime>Rs&&1073741824!==n&&(t.flags|=128,r=!0,du(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=eo.current,Ii(eo,r?1&n|2:1&n),t):(pu(t),null);case 22:case 23:return ec(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&ws)&&(pu(t),6&t.subtreeFlags&&(t.flags|=8192)):pu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}iu=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},au=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Ya(Ga.current);var a,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Fr("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},ou=function(e,t,n,r){n!==r&&(t.flags|=4)};var yu=b.ReactCurrentOwner,mu=!1;function gu(e,t,n,r){t.child=null===e?Wa(t,null,n,r):qa(t,e.child,n,r)}function ku(e,t,n,r,i){n=n.render;var a=t.ref;return Yi(t,i),r=mo(e,t,n,r,a,i),n=go(),null===e||mu?(Aa&&n&&Ea(t),t.flags|=1,gu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function bu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||wc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,wu(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:or)(o,r)&&e.ref===t.ref)return Uu(e,t,i)}return t.flags|=1,(e=xc(a,r)).ref=t.ref,e.return=t,t.child=e}function wu(e,t,n,r,i){if(null!==e&&or(e.memoizedProps,r)&&e.ref===t.ref){if(mu=!1,0===(e.lanes&i))return t.lanes=e.lanes,Uu(e,t,i);0!==(131072&e.flags)&&(mu=!0)}return Su(e,t,n,r,i)}function xu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null},Ii(xs,ws),ws|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null},t.updateQueue=null,Ii(xs,ws),ws|=e,null;t.memoizedState={baseLanes:0,cachePool:null},r=null!==a?a.baseLanes:n,Ii(xs,ws),ws|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ii(xs,ws),ws|=r;return gu(e,t,i,n),t.child}function Iu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Su(e,t,n,r,i){var a=Ai(n)?Ti:Ei.current;return a=Ci(t,a),Yi(t,i),n=mo(e,t,n,r,a,i),r=go(),null===e||mu?(Aa&&r&&Ea(t),t.flags|=1,gu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Uu(e,t,i))}function Eu(e,t,n,r,i){if(Ai(n)){var a=!0;Di(t)}else a=!1;if(Yi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),fa(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Xi(c):c=Ci(t,c=Ai(n)?Ti:Ei.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&ha(t,o,r,c),Zi=!1;var h=t.memoizedState;o.state=h,aa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||_i.current||Zi?("function"===typeof l&&(sa(t,n,l,r),s=t.memoizedState),(u=Zi||la(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ea(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Bi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Xi(s):s=Ci(t,s=Ai(n)?Ti:Ei.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&ha(t,o,r,s),Zi=!1,h=t.memoizedState,o.state=h,aa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||_i.current||Zi?("function"===typeof d&&(sa(t,n,d,r),p=t.memoizedState),(c=Zi||la(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return _u(e,t,n,r,a,i)}function _u(e,t,n,r,i,a){Iu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Oi(t,n,!1),Uu(e,t,a);r=t.stateNode,yu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=qa(t,e.child,null,a),t.child=qa(t,null,u,a)):gu(e,t,u,a),t.memoizedState=r.state,i&&Oi(t,n,!0),t.child}function Tu(e){var t=e.stateNode;t.pendingContext?Ri(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ri(0,t.context,!1),Xa(e,t.containerInfo)}function Cu(e,t,n,r,i){return Fa(),Va(i),t.flags|=256,gu(e,t,n,r),t.child}var Au={dehydrated:null,treeContext:null,retryLane:0};function Nu(e){return{baseLanes:e,cachePool:null}}function Ru(e,t,n){var r,i=t.pendingProps,o=eo.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ii(eo,1&o),null===e)return Oa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Ec(o,i,0,null),e=Sc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Nu(n),t.memoizedState=Au,e):Pu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Lu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Ec({mode:"visible",children:i.children},o,0,null),(u=Sc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&qa(t,e.child,null,n),t.child.memoizedState=Nu(n),t.memoizedState=Au,u);if(0===(1&t.mode))t=Lu(e,t,n,null);else if("$!"===r.data)t=Lu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),mu||i){if(null!==(i=gs)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Ws(e,i,-1))}ic(),t=Lu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=yc.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Ca=oi(r.nextSibling),Ta=t,Aa=!0,Na=null,null!==n&&(ga[ka++]=wa,ga[ka++]=xa,ga[ka++]=ba,wa=n.id,xa=n.overflow,ba=t),(t=Pu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Ou(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Nu(n):{baseLanes:o.baseLanes|n,cachePool:null},u.childLanes=e.childLanes&~n,t.memoizedState=Au,i):(n=Du(e,t,i.children,n),t.memoizedState=null,n)}function Pu(e,t){return(t=Ec({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Du(e,t,n,r){var i=e.child;return e=i.sibling,n=xc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Ou(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=xc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=xc(o,r):(r=Sc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Lu(e,t,n,r){return null!==r&&Va(r),qa(t,e.child,null,n),(e=Pu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Mu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Qi(e.return,t,n)}function Fu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function Vu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(gu(e,t,r.children,n),0!==(2&(r=eo.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Mu(e,n,t);else if(19===e.tag)Mu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ii(eo,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===to(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Fu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===to(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Fu(t,!0,n,null,a);break;case"together":Fu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Uu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Es|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=xc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=xc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ju(e,t){switch(_a(t),t.tag){case 1:return Ai(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),xi(_i),xi(Ei),ro(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $a(t),null;case 13:if(xi(eo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Fa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(eo),null;case 4:return Ja(),null;case 10:return Hi(t.type._context),null;case 22:case 23:return ec(),null;default:return null}}var Bu=!1,zu=!1,qu="function"===typeof WeakSet?WeakSet:Set,Wu=null;function Ku(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){dc(e,t,r)}else n.current=null}function Gu(e,t,n){try{n()}catch(r){dc(e,t,r)}}var Hu=!1;function Qu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Gu(t,n,a)}i=i.next}while(i!==r)}}function Yu(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Xu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function Ju(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,t)}catch(o){}switch(t.tag){case 0:case 11:case 14:case 15:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var r=e=e.next;do{var i=r,a=i.destroy;i=i.tag,void 0!==a&&(0!==(2&i)||0!==(4&i))&&Gu(t,n,a),r=r.next}while(r!==e)}break;case 1:if(Ku(t,n),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(o){dc(t,n,o)}break;case 5:Ku(t,n);break;case 4:is(e,t,n)}}function Zu(e){var t=e.alternate;null!==t&&(e.alternate=null,Zu(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ci],delete t[li],delete t[hi],delete t[di],delete t[pi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function $u(e){return 5===e.tag||3===e.tag||4===e.tag}function es(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||$u(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ts(e){e:{for(var t=e.return;null!==t;){if($u(t))break e;t=t.return}throw Error(a(160))}var n=t;switch(n.tag){case 5:t=n.stateNode,32&n.flags&&(he(t,""),n.flags&=-33),rs(e,n=es(e),t);break;case 3:case 4:t=n.stateNode.containerInfo,ns(e,n=es(e),t);break;default:throw Error(a(161))}}function ns(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ns(e,t,n),e=e.sibling;null!==e;)ns(e,t,n),e=e.sibling}function rs(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(rs(e,t,n),e=e.sibling;null!==e;)rs(e,t,n),e=e.sibling}function is(e,t,n){for(var r,i,o=t,u=!1;;){if(!u){u=o.return;e:for(;;){if(null===u)throw Error(a(160));switch(r=u.stateNode,u.tag){case 5:i=!1;break e;case 3:case 4:r=r.containerInfo,i=!0;break e}u=u.return}u=!0}if(5===o.tag||6===o.tag){e:for(var s=e,c=o,l=n,f=c;;)if(Ju(s,f,l),null!==f.child&&4!==f.tag)f.child.return=f,f=f.child;else{if(f===c)break e;for(;null===f.sibling;){if(null===f.return||f.return===c)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i?(s=r,c=o.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):r.removeChild(o.stateNode)}else if(18===o.tag)i?(s=r,c=o.stateNode,8===s.nodeType?ai(s.parentNode,c):1===s.nodeType&&ai(s,c),Bt(s)):ai(r,o.stateNode);else if(4===o.tag){if(null!==o.child){r=o.stateNode.containerInfo,i=!0,o.child.return=o,o=o.child;continue}}else if(Ju(e,o,n),null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;4===(o=o.return).tag&&(u=!1)}o.sibling.return=o.return,o=o.sibling}}function as(e,t){switch(t.tag){case 0:case 11:case 14:case 15:return Qu(3,t,t.return),Yu(3,t),void Qu(5,t,t.return);case 1:case 12:case 17:return;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps,i=null!==e?e.memoizedProps:r;e=t.type;var o=t.updateQueue;if(t.updateQueue=null,null!==o){for("input"===e&&"radio"===r.type&&null!=r.name&&J(n,r),ke(e,i),t=ke(e,r),i=0;i<o.length;i+=2){var u=o[i],s=o[i+1];"style"===u?ye(n,s):"dangerouslySetInnerHTML"===u?fe(n,s):"children"===u?he(n,s):k(n,u,s,t)}switch(e){case"input":Z(n,r);break;case"textarea":ae(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?ne(n,!!r.multiple,o,!1):e!==!!r.multiple&&(null!=r.defaultValue?ne(n,!!r.multiple,r.defaultValue,!0):ne(n,!!r.multiple,r.multiple?[]:"",!1))}n[li]=r}}return;case 6:if(null===t.stateNode)throw Error(a(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void(null!==e&&e.memoizedState.isDehydrated&&Bt(t.stateNode.containerInfo));case 13:case 19:return void os(t)}throw Error(a(163))}function os(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new qu),t.forEach((function(t){var r=mc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function us(e,t,n){Wu=e,ss(e,t,n)}function ss(e,t,n){for(var r=0!==(1&e.mode);null!==Wu;){var i=Wu,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Bu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||zu;u=Bu;var c=zu;if(Bu=o,(zu=s)&&!c)for(Wu=i;null!==Wu;)s=(o=Wu).child,22===o.tag&&null!==o.memoizedState?fs(i):null!==s?(s.return=o,Wu=s):fs(i);for(;null!==a;)Wu=a,ss(a,t,n),a=a.sibling;Wu=i,Bu=u,zu=c}cs(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,Wu=a):cs(e)}}function cs(e){for(;null!==Wu;){var t=Wu;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:zu||Yu(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!zu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Bi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&oa(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}oa(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}zu||512&t.flags&&Xu(t)}catch(d){dc(t,t.return,d)}}if(t===e){Wu=null;break}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}function ls(e){for(;null!==Wu;){var t=Wu;if(t===e){Wu=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Wu=n;break}Wu=t.return}}function fs(e){for(;null!==Wu;){var t=Wu;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Yu(4,t)}catch(s){dc(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){dc(t,i,s)}}var a=t.return;try{Xu(t)}catch(s){dc(t,a,s)}break;case 5:var o=t.return;try{Xu(t)}catch(s){dc(t,o,s)}}}catch(s){dc(t,t.return,s)}if(t===e){Wu=null;break}var u=t.sibling;if(null!==u){u.return=t.return,Wu=u;break}Wu=t.return}}var hs,ds=Math.ceil,ps=b.ReactCurrentDispatcher,vs=b.ReactCurrentOwner,ys=b.ReactCurrentBatchConfig,ms=0,gs=null,ks=null,bs=0,ws=0,xs=wi(0),Is=0,Ss=null,Es=0,_s=0,Ts=0,Cs=null,As=null,Ns=0,Rs=1/0,Ps=!1,Ds=null,Os=null,Ls=!1,Ms=null,Fs=0,Vs=0,Us=null,js=-1,Bs=0;function zs(){return 0!==(6&ms)?Je():-1!==js?js:js=Je()}function qs(e){return 0===(1&e.mode)?1:0!==(2&ms)&&0!==bs?bs&-bs:null!==ji.transition?(0===Bs&&(e=ct,0===(4194240&(ct<<=1))&&(ct=64),Bs=e),Bs):0!==(e=gt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function Ws(e,t,n){if(50<Vs)throw Vs=0,Us=null,Error(a(185));var r=Ks(e,t);return null===r?null:(yt(r,t,n),0!==(2&ms)&&r===gs||(r===gs&&(0===(2&ms)&&(_s|=t),4===Is&&Xs(r,bs)),Gs(r,n),1===t&&0===ms&&0===(1&e.mode)&&(Rs=Je()+500,Mi&&Ui())),r)}function Ks(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function Gs(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===gs?bs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Mi=!0,Vi(e)}(Js.bind(null,e)):Vi(Js.bind(null,e)),ri((function(){0===ms&&Ui()})),n=null;else{switch(kt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=gc(n,Hs.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Hs(e,t){if(js=-1,Bs=0,0!==(6&ms))throw Error(a(327));var n=e.callbackNode;if(fc()&&e.callbackNode!==n)return null;var r=ht(e,e===gs?bs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=ac(e,r);else{t=r;var i=ms;ms|=2;var o=rc();for(gs===e&&bs===t||(Rs=Je()+500,tc(e,t));;)try{uc();break}catch(s){nc(e,s)}Gi(),ps.current=o,ms=i,null!==ks?t=0:(gs=null,bs=0,t=Is)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=Qs(e,i))),1===t)throw n=Ss,tc(e,0),Xs(e,r),Gs(e,Je()),n;if(6===t)Xs(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ar(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=ac(e,r))&&(0!==(o=pt(e))&&(r=o,t=Qs(e,o))),1===t))throw n=Ss,tc(e,0),Xs(e,r),Gs(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:lc(e,As);break;case 3:if(Xs(e,r),(130023424&r)===r&&10<(t=Ns+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){zs(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ei(lc.bind(null,e,As),t);break}lc(e,As);break;case 4:if(Xs(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ds(r/1960))-r)){e.timeoutHandle=ei(lc.bind(null,e,As),r);break}lc(e,As);break;default:throw Error(a(329))}}}return Gs(e,Je()),e.callbackNode===n?Hs.bind(null,e):null}function Qs(e,t){var n=Cs;return e.current.memoizedState.isDehydrated&&(tc(e,t).flags|=256),2!==(e=ac(e,t))&&(t=As,As=n,null!==t&&Ys(t)),e}function Ys(e){null===As?As=e:As.push.apply(As,e)}function Xs(e,t){for(t&=~Ts,t&=~_s,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function Js(e){if(0!==(6&ms))throw Error(a(327));fc();var t=ht(e,0);if(0===(1&t))return Gs(e,Je()),null;var n=ac(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=Qs(e,r))}if(1===n)throw n=Ss,tc(e,0),Xs(e,t),Gs(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,lc(e,As),Gs(e,Je()),null}function Zs(e,t){var n=ms;ms|=1;try{return e(t)}finally{0===(ms=n)&&(Rs=Je()+500,Mi&&Ui())}}function $s(e){null!==Ms&&0===Ms.tag&&0===(6&ms)&&fc();var t=ms;ms|=1;var n=ys.transition,r=gt;try{if(ys.transition=null,gt=1,e)return e()}finally{gt=r,ys.transition=n,0===(6&(ms=t))&&Ui()}}function ec(){ws=xs.current,xi(xs)}function tc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ti(n)),null!==ks)for(n=ks.return;null!==n;){var r=n;switch(_a(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Ja(),xi(_i),xi(Ei),ro();break;case 5:$a(r);break;case 4:Ja();break;case 13:case 19:xi(eo);break;case 10:Hi(r.type._context);break;case 22:case 23:ec()}n=n.return}if(gs=e,ks=e=xc(e.current,null),bs=ws=t,Is=0,Ss=null,Ts=_s=Es=0,As=Cs=null,null!==Ji){for(t=0;t<Ji.length;t++)if(null!==(r=(n=Ji[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}Ji=null}return e}function nc(e,t){for(;;){var n=ks;try{if(Gi(),io.current=Zo,lo){for(var r=uo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}lo=!1}if(oo=0,co=so=uo=null,fo=!1,ho=0,vs.current=null,null===n||null===n.return){Is=1,Ss=t,ks=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=bs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=fu(u);if(null!==p){p.flags&=-257,hu(p,u,s,0,t),1&p.mode&&lu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var y=new Set;y.add(c),t.updateQueue=y}else v.add(c);break e}if(0===(1&t)){lu(o,l,t),ic();break e}c=Error(a(426))}else if(Aa&&1&s.mode){var m=fu(u);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),hu(m,u,s,0,t),Va(c);break e}}o=c,4!==Is&&(Is=2),null===Cs?Cs=[o]:Cs.push(o),c=nu(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ia(s,su(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===Os||!Os.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ia(s,cu(s,o,t));break e}}s=s.return}while(null!==s)}cc(n)}catch(b){t=b,ks===n&&null!==n&&(ks=n=n.return);continue}break}}function rc(){var e=ps.current;return ps.current=Zo,null===e?Zo:e}function ic(){0!==Is&&3!==Is&&2!==Is||(Is=4),null===gs||0===(268435455&Es)&&0===(268435455&_s)||Xs(gs,bs)}function ac(e,t){var n=ms;ms|=2;var r=rc();for(gs===e&&bs===t||tc(e,t);;)try{oc();break}catch(i){nc(e,i)}if(Gi(),ms=n,ps.current=r,null!==ks)throw Error(a(261));return gs=null,bs=0,Is}function oc(){for(;null!==ks;)sc(ks)}function uc(){for(;null!==ks&&!Ye();)sc(ks)}function sc(e){var t=hs(e.alternate,e,ws);e.memoizedProps=e.pendingProps,null===t?cc(e):ks=t,vs.current=null}function cc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=vu(n,t,ws)))return void(ks=n)}else{if(null!==(n=ju(n,t)))return n.flags&=32767,void(ks=n);if(null===e)return Is=6,void(ks=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(ks=t);ks=t=e}while(null!==t);0===Is&&(Is=5)}function lc(e,t){var n=gt,r=ys.transition;try{ys.transition=null,gt=1,function(e,t,n){do{fc()}while(null!==Ms);if(0!==(6&ms))throw Error(a(327));var r=e.finishedWork,i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===gs&&(ks=gs=null,bs=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Ls||(Ls=!0,gc(tt,(function(){return fc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=ys.transition,ys.transition=null;var u=gt;gt=1;var s=ms;ms|=4,vs.current=null,function(e,t){if(fr(e=lr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zr={focusedElem:e,selectionRange:n},Wu=t;null!==Wu;)if(e=(t=Wu).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Wu=e;else for(;null!==Wu;){t=Wu;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var y=v.memoizedProps,m=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:Bi(t.type,y),m);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var b=t.stateNode.containerInfo;if(1===b.nodeType)b.textContent="";else if(9===b.nodeType){var w=b.body;null!=w&&(w.textContent="")}break;default:throw Error(a(163))}}catch(x){dc(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Wu=e;break}Wu=t.return}v=Hu,Hu=!1}(e,r),function(e,t){for(Wu=t;null!==Wu;){var n=(t=Wu).deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{is(e,i,t);var a=i.alternate;null!==a&&(a.return=null),i.return=null}catch(S){dc(i,t,S)}}if(n=t.child,0!==(12854&t.subtreeFlags)&&null!==n)n.return=t,Wu=n;else for(;null!==Wu;){t=Wu;try{var o=t.flags;if(32&o&&he(t.stateNode,""),512&o){var u=t.alternate;if(null!==u){var s=u.ref;null!==s&&("function"===typeof s?s(null):s.current=null)}}if(8192&o)switch(t.tag){case 13:if(null!==t.memoizedState){var c=t.alternate;null!==c&&null!==c.memoizedState||(Ns=Je())}break;case 22:var l=null!==t.memoizedState,f=t.alternate,h=null!==f&&null!==f.memoizedState;e:{i=l;for(var d=null,p=r=n=t;;){if(5===p.tag){if(null===d){d=p;var v=p.stateNode;if(i){var y=v.style;"function"===typeof y.setProperty?y.setProperty("display","none","important"):y.display="none"}else{var m=p.stateNode,g=p.memoizedProps.style,k=void 0!==g&&null!==g&&g.hasOwnProperty("display")?g.display:null;m.style.display=ve("display",k)}}}else if(6===p.tag)null===d&&(p.stateNode.nodeValue=i?"":p.memoizedProps);else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===r)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===r)break;for(;null===p.sibling;){if(null===p.return||p.return===r)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}if(l&&!h&&0!==(1&n.mode)){Wu=n;for(var b=n.child;null!==b;){for(n=Wu=b;null!==Wu;){var w=(r=Wu).child;switch(r.tag){case 0:case 11:case 14:case 15:Qu(4,r,r.return);break;case 1:Ku(r,r.return);var x=r.stateNode;if("function"===typeof x.componentWillUnmount){var I=r.return;try{x.props=r.memoizedProps,x.state=r.memoizedState,x.componentWillUnmount()}catch(S){dc(r,I,S)}}break;case 5:Ku(r,r.return);break;case 22:if(null!==r.memoizedState){ls(n);continue}}null!==w?(w.return=r,Wu=w):ls(n)}b=b.sibling}}}switch(4102&o){case 2:ts(t),t.flags&=-3;break;case 6:ts(t),t.flags&=-3,as(t.alternate,t);break;case 4096:t.flags&=-4097;break;case 4100:t.flags&=-4097,as(t.alternate,t);break;case 4:as(t.alternate,t)}}catch(S){dc(t,t.return,S)}if(null!==(n=t.sibling)){n.return=t.return,Wu=n;break}Wu=t.return}}}(e,r),hr(Zr),Zr=null,e.current=r,us(r,e,i),Xe(),ms=s,gt=u,ys.transition=o}else e.current=r;if(Ls&&(Ls=!1,Ms=e,Fs=i),0===(o=e.pendingLanes)&&(Os=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),Gs(e,Je()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)n(t[r]);if(Ps)throw Ps=!1,e=Ds,Ds=null,e;0!==(1&Fs)&&0!==e.tag&&fc(),0!==(1&(o=e.pendingLanes))?e===Us?Vs++:(Vs=0,Us=e):Vs=0,Ui()}(e,t,n)}finally{ys.transition=r,gt=n}return null}function fc(){if(null!==Ms){var e=kt(Fs),t=ys.transition,n=gt;try{if(ys.transition=null,gt=16>e?16:e,null===Ms)var r=!1;else{if(e=Ms,Ms=null,Fs=0,0!==(6&ms))throw Error(a(331));var i=ms;for(ms|=4,Wu=e.current;null!==Wu;){var o=Wu,u=o.child;if(0!==(16&Wu.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for(Wu=l;null!==Wu;){var f=Wu;switch(f.tag){case 0:case 11:case 15:Qu(8,f,o)}var h=f.child;if(null!==h)h.return=f,Wu=h;else for(;null!==Wu;){var d=(f=Wu).sibling,p=f.return;if(Zu(f),f===l){Wu=null;break}if(null!==d){d.return=p,Wu=d;break}Wu=p}}}var v=o.alternate;if(null!==v){var y=v.child;if(null!==y){v.child=null;do{var m=y.sibling;y.sibling=null,y=m}while(null!==y)}}Wu=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,Wu=u;else e:for(;null!==Wu;){if(0!==(2048&(o=Wu).flags))switch(o.tag){case 0:case 11:case 15:Qu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,Wu=g;break e}Wu=o.return}}var k=e.current;for(Wu=k;null!==Wu;){var b=(u=Wu).child;if(0!==(2064&u.subtreeFlags)&&null!==b)b.return=u,Wu=b;else e:for(u=k;null!==Wu;){if(0!==(2048&(s=Wu).flags))try{switch(s.tag){case 0:case 11:case 15:Yu(9,s)}}catch(x){dc(s,s.return,x)}if(s===u){Wu=null;break e}var w=s.sibling;if(null!==w){w.return=s.return,Wu=w;break e}Wu=s.return}}if(ms=i,Ui(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{gt=n,ys.transition=t}}return!1}function hc(e,t,n){na(e,t=su(0,t=nu(n,t),1)),t=zs(),null!==(e=Ks(e,1))&&(yt(e,1,t),Gs(e,t))}function dc(e,t,n){if(3===e.tag)hc(e,e,n);else for(;null!==t;){if(3===t.tag){hc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Os||!Os.has(r))){na(t,e=cu(t,e=nu(n,e),1)),e=zs(),null!==(t=Ks(t,1))&&(yt(t,1,e),Gs(t,e));break}}t=t.return}}function pc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=zs(),e.pingedLanes|=e.suspendedLanes&n,gs===e&&(bs&n)===n&&(4===Is||3===Is&&(130023424&bs)===bs&&500>Je()-Ns?tc(e,0):Ts|=n),Gs(e,t)}function vc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=zs();null!==(e=Ks(e,t))&&(yt(e,t,n),Gs(e,n))}function yc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),vc(e,n)}function mc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),vc(e,n)}function gc(e,t){return He(e,t)}function kc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bc(e,t,n,r){return new kc(e,t,n,r)}function wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function xc(e,t){var n=e.alternate;return null===n?((n=bc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)wc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case I:return Sc(n.children,i,o,t);case S:u=8,i|=8;break;case E:return(e=bc(12,n,t,2|i)).elementType=E,e.lanes=o,e;case A:return(e=bc(13,n,t,i)).elementType=A,e.lanes=o,e;case N:return(e=bc(19,n,t,i)).elementType=N,e.lanes=o,e;case D:return Ec(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:u=10;break e;case T:u=9;break e;case C:u=11;break e;case R:u=14;break e;case P:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=bc(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Sc(e,t,n,r){return(e=bc(7,e,r,t)).lanes=n,e}function Ec(e,t,n,r){return(e=bc(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={},e}function _c(e,t,n){return(e=bc(6,e,null,t)).lanes=n,e}function Tc(e,t,n){return(t=bc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ac(e,t,n,r,i,a,o,u,s){return e=new Cc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=bc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null},$i(a),e}function Nc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Rc(e){if(!e)return Si;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ai(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ai(n))return Pi(e,n,t)}return t}function Pc(e,t,n,r,i,a,o,u,s){return(e=Ac(n,r,!0,e,0,a,0,u,s)).context=Rc(null),n=e.current,(a=ta(r=zs(),i=qs(n))).callback=void 0!==t&&null!==t?t:null,na(n,a),e.current.lanes=i,yt(e,i,r),Gs(e,r),e}function Dc(e,t,n,r){var i=t.current,a=zs(),o=qs(i);return n=Rc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ta(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),na(i,t),null!==(e=Ws(i,o,a))&&ra(e,i,o),o}function Oc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Lc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Mc(e,t){Lc(e,t),(e=e.alternate)&&Lc(e,t)}hs=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_i.current)mu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return mu=!1,function(e,t,n){switch(t.tag){case 3:Tu(t),Fa();break;case 5:Za(t);break;case 1:Ai(t.type)&&Di(t);break;case 4:Xa(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ii(zi,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ii(eo,1&eo.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ru(e,t,n):(Ii(eo,1&eo.current),null!==(e=Uu(e,t,n))?e.sibling:null);Ii(eo,1&eo.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Vu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ii(eo,eo.current),r)break;return null;case 22:case 23:return t.lanes=0,xu(e,t,n)}return Uu(e,t,n)}(e,t,n);mu=0!==(131072&e.flags)}else mu=!1,Aa&&0!==(1048576&t.flags)&&Sa(t,ma,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Ci(t,Ei.current);Yi(t,n),i=mo(null,t,r,e,i,n);var o=go();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ai(r)?(o=!0,Di(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,$i(t),i.updater=ca,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=_u(null,t,r,!0,o,n)):(t.tag=0,Aa&&o&&Ea(t),gu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=Bi(r,e),i){case 0:t=Su(null,t,r,e,n);break e;case 1:t=Eu(null,t,r,e,n);break e;case 11:t=ku(null,t,r,e,n);break e;case 14:t=bu(null,t,r,Bi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Su(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Eu(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 3:e:{if(Tu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ea(e,t),aa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Cu(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Cu(e,t,r,n,i=Error(a(424)));break e}for(Ca=oi(t.stateNode.containerInfo.firstChild),Ta=t,Aa=!0,Na=null,n=Wa(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Fa(),r===i){t=Uu(e,t,n);break e}gu(e,t,r,n)}t=t.child}return t;case 5:return Za(t),null===e&&Oa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,$r(r,i)?u=null:null!==o&&$r(r,o)&&(t.flags|=32),Iu(e,t),gu(e,t,u,n),t.child;case 6:return null===e&&Oa(t),null;case 13:return Ru(e,t,n);case 4:return Xa(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=qa(t,null,r,n):gu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,ku(e,t,r,i=t.elementType===r?i:Bi(r,i),n);case 7:return gu(e,t,t.pendingProps,n),t.child;case 8:case 12:return gu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ii(zi,r._currentValue),r._currentValue=u,null!==o)if(ar(o.value,u)){if(o.children===i.children&&!_i.current){t=Uu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ta(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Qi(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Qi(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}gu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Yi(t,n),r=r(i=Xi(i)),t.flags|=1,gu(e,t,r,n),t.child;case 14:return i=Bi(r=t.type,t.pendingProps),bu(e,t,r,i=Bi(r.type,i),n);case 15:return wu(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Bi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ai(r)?(e=!0,Di(t)):e=!1,Yi(t,n),fa(t,r,i),da(t,r,i,n),_u(null,t,r,!0,e,n);case 19:return Vu(e,t,n);case 22:return xu(e,t,n)}throw Error(a(156,t.tag))};var Fc="function"===typeof reportError?reportError:function(e){console.error(e)};function Vc(e){this._internalRoot=e}function Uc(e){this._internalRoot=e}function jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Bc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function zc(){}function qc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Oc(o);u.call(e)}}Dc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Oc(o);a.call(e)}}var o=Pc(t,r,e,0,null,!1,0,"",zc);return e._reactRootContainer=o,e[fi]=o.current,jr(8===e.nodeType?e.parentNode:e),$s(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Oc(s);u.call(e)}}var s=Ac(e,0,!1,null,0,!1,0,"",zc);return e._reactRootContainer=s,e[fi]=s.current,jr(8===e.nodeType?e.parentNode:e),$s((function(){Dc(t,s,n,r)})),s}(n,t,e,i,r);return Oc(o)}Uc.prototype.render=Vc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Dc(e,t,null,null)},Uc.prototype.unmount=Vc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;$s((function(){Dc(null,e,null,null)})),t[fi]=null}},Uc.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Mt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),Gs(t,Je()),0===(6&ms)&&(Rs=Je()+500,Ui()))}break;case 13:var r=zs();$s((function(){return Ws(e,1,r)})),Mc(e,1)}},wt=function(e){13===e.tag&&(Ws(e,134217728,zs()),Mc(e,134217728))},xt=function(e){if(13===e.tag){var t=zs(),n=qs(e);Ws(e,n,t),Mc(e,n)}},It=function(){return gt},St=function(e,t){var n=gt;try{return gt=e,t()}finally{gt=n}},xe=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=gi(r);if(!i)throw Error(a(90));H(r),Z(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=Zs,Ae=$s;var Wc={usingClientEntryPoint:!1,Events:[yi,mi,gi,_e,Te,Zs]},Kc={findFiberByHostInstance:vi,bundleType:0,version:"18.0.0-fc46dba67-20220329",rendererPackageName:"react-dom"},Gc={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Hc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Hc.isDisabled&&Hc.supportsFiber)try{it=Hc.inject(Gc),at=Hc}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Wc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!jc(t))throw Error(a(200));return Nc(e,t,null,n)},t.createRoot=function(e,t){if(!jc(e))throw Error(a(299));var n=!1,r="",i=Fc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ac(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,jr(8===e.nodeType?e.parentNode:e),new Vc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return $s(e)},t.hydrate=function(e,t,n){if(!Bc(t))throw Error(a(200));return qc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Fc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Pc(t,null,e,1,null!=n?n:null,i,0,o,u),e[fi]=t.current,jr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Uc(t)},t.render=function(e,t,n){if(!Bc(t))throw Error(a(200));return qc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Bc(e))throw Error(a(40));return!!e._reactRootContainer&&($s((function(){qc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=Zs,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Bc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return qc(e,t,n,!1,r)},t.version="18.0.0-fc46dba67-20220329"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,y={};function m(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=m.prototype;var b=k.prototype=new g;b.constructor=k,v(b,m.prototype),b.isPureReactComponent=!0;var w=Array.isArray,x=Object.prototype.hasOwnProperty,I={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!S.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:I.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(o,t,i,"",(function(e){return e}))):null!=o&&(_(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",w(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=A(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=A(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function N(e,t,n){if(null==e)return e;var r=[],i=0;return A(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},D={transition:null},O={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:D,ReactCurrentOwner:I};t.Children={map:N,forEach:function(e,t,n){N(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return N(e,(function(){t++})),t},toArray:function(e){return N(e,(function(e){return e}))||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=I.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.0.0-fc46dba67-20220329"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(R){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return N()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=E(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(R){return{type:"throw",arg:R}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function y(){}function m(){}function g(){}var k={};s(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(A([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=y.prototype=Object.create(k);function I(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function E(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,E(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function A(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:N}}function N(){return{value:t,done:!0}}return m.prototype=g,s(x,"constructor",g),s(g,"constructor",m),m.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},I(S.prototype),s(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},I(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:A(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,y=!1,m="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function w(e){if(y=!1,b(e),!v)if(null!==r(c))v=!0,D(x);else{var t=r(l);null!==t&&O(w,t.startTime-e)}}function x(e,n){v=!1,y&&(y=!1,g(_),_=-1),p=!0;var a=d;try{for(b(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!A());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),b(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&O(w,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var I,S=!1,E=null,_=-1,T=5,C=-1;function A(){return!(t.unstable_now()-C<T)}function N(){if(null!==E){var e=t.unstable_now();C=e;var n=!0;try{n=E(!0,e)}finally{n?I():(S=!1,E=null)}}else S=!1}if("function"===typeof k)I=function(){k(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,I=function(){P.postMessage(null)}}else I=function(){m(N,0)};function D(e){E=e,S||(S=!0,I())}function O(e,n){_=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(y?(g(_),_=-1):y=!0,O(w,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,D(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},221:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo.0d6e364bb6a4f07d7804.png"},371:function(e,t,n){"use strict";e.exports=n.p+"static/media/logo1.771bd932e253e558aba9.png"},592:function(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAABICAYAAACHtCxzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAj4UlEQVR4Xu1dB3xUVda/r07JZJKQ3ntCIAiiYq9rrys2dFXUb9G1IK69t8UuoWMXxIKKNF0FlI6ggqCAoQgJNYUkpGfam3n3+98XhAAB5k0CInvfb7OYzC3n/e+5555z7jlnCOEPR4AjwBHgCHAEOAIcAY4AR4AjwBHgCHAEOAIcAY4AR4AjwBHgCHAEOAIcAY4AR4AjwBHgCHAEOAIcAY4AR4AjwBHgCHAEOAIcAY4AR4AjwBHgCHAEOAIcAY4AR4AjwBHgCHAEOAIcAY4AR4AjwBHgCHAEOAIcAY4AR4AjwBHgCHAEOAIcAY4AR4AjwBHgCHAEOAIcgZAREEWRSErI3XlHjgBHgCPwV0TAqtpiLIQoRCXSX5F+TjNHgCPw5yAg/DnTdtqsKhFJAiHyjsTj+/SUctKz3JoWYZdVhRKxWfXpWp0ieiS/h8p2q0Pc1lhRPm/Bt0SvD3QaBXwgjgBHgCPwJyHgIIrkSBn0yK1JXtc2mVKfQHUqUDeVfV4q6JSKehO1US+1QQiGU432Xrmk7k+ilU/LEeAIHGEIiEcYPWbJaSZaoJk21P+SJKllXQipTCYCiYIlHCfLJAyjRQgUf1GJR7KQZr9MVvU4JjL/kUcfMjsRb88R4AhwBI54BJzde0bGHNcnI/K003vaex9/RuaLRW8Sbwt10ACNqa2jhFKavWxJ7RH/IpxAjgBHgCPQEQRwIyJl/rTSMIUzt66nBSOHj7HBRI4ONFJis/7V/Z8dgYb35QhwBI52BOKIbM/WfVSC1pf6yZgvoonFEuan8BFSmj/k+SFH+/vz9+MIcAT+VxEQiZDz8ecb2KVIBi5EogW4AsUwa17pSkMgphSvof+r0PD35ghwBFoR+Ktfgux/HXWLEjjvlGyq60RZW1y7A94/SaEiWbR0SkAnpEvXDBjIETxwmu8EjgBH4OhDIOu2e+4PC+hUhbaXOfiZ54w3hBYYd+xJZ8TgbxKtp4nvv/Pl0ffm/I04AhyB/3kEMhYuCFg1SnNbWvYwdWUiiOnbq6EPemlmyUaqEvno1YL/57mAA8ARODAC8lEJkBJm9Z50gujF27kXLVjX9h39EhV8c2cuINfdcAZNgRnc45hCsvqXVSRAD4NP0GGN6XveOc7Cbj29DptD39ZQ7l+1bGn13DlLDss6yFZr/CVnnCFFhEd5y2u31s76eTklfi88IbgRb4Fj4NA9suyU/P7GABFkgVD/vlgLYfDRShIJNPoPHRV7jSyqCqGIGxX9pC4Q0A7bvH/BiURJEfSAdhj2yF8QnCON5GNGjHpLweWHBaZu4uV9LyGCIisSNh4eOwzhhFPPviASn8m6n3b9aPzEjtCf9o8bL459d/SU/AWztqZuK6G5mpdmvTPqo3Ai7AqzcVx0+UXZC2Zv6e3RaIQHm9+rwQTXjWyVONCR3lhD06d9NIcQW+eG5og2JebhZwYXzJ33W+aOGpqDuRwQ9AJ+RMRFRuP3pMatNHnJwh097nvuQYiCTveJxkK4Zj1y/z2Jn36xovvSn2jqIw89zdajLeZdiEOOf3PkZzk/LqmOqy6jKc11tJvPR7NB3wlVm2na66+M6cga7eorqFJu0StF6QvmVmRsKKXxdcDE1UTj6htpVmkVzf1hSW3mmCFjbIJD7ZT52htEsMipl11xvu2jMcvSFy5oSFlZQjPWrKcp64pp4m/LaNakqQtzbr7nFiLYOy2vvWu/2/o6e51S2Jac7GuuPS97xsezU+cv2J4++YvZFjXGqcr78l+cEKMkjhsxocc3sxb1nDz96/ABd94uECe3mg4Zg3R0YMWiJm7bBAEToN22baWyYeLKEjbdbuEiKUrytlJKAl6aXrkJMYFR4WandZ51dmGWfxtiDP0QJq3ClMDktnooTfttDvQKeBylCDFr0fcVMVo1lakLZrefxvooTW5x05iaClrYUEUjmEBCfwUmeY+KdTSORHdYK1eJTUy59rYbU6rX0XAtYGBBQJ+NCVuEAeXh3wR/AAeEl1r8LVRBqBBBymB+1RaaNuDOfwKvDjG4pc9ZXfNXLNaSGrZQh7eJiv56vB80bD1AM9cspaooGJtbwVrlfjvjl8xAE2iEdoF0RYI0RsXAykUt3gCw9dOeFSUd0zyESDVr8sT5kZgH6ZKYhx0AjB63ERhPGD44uFSsBfs8z++n2Qunr7aIcab54kB8lPHaC0MzqkppHEvTxJyMZ9gPe0dGgwTesIGHLCxlc9taGn3GBWeZ5cvwk89JKxz91siEZXNoXvkvNA38yLAv9NRQK2ndA92nf/NbFxzALBqC8R7RG2mG1kQjH7v/BdRUMtae8VD8B6OmxPg8RjuGE8PMBjoLF875USTOTj8szb4rb98OAvFXn9cvnAkU3UPz3vt4MpGJCImChXcYC2vH5rYLqpo5dfKPBBu/S8BFUy+8/HKzYCafflHvfL+LJmCuguKNNOnrmcvDqrYbDJW8Zi6F8CsoLCmmNi+0UFzGpMz9tiL3vnvu3nueqL+dc1zO4h/X2LEpCQK207atgfDsGHPljRv5eTITIiwXGpsrBVpV1ntvv59wa7/rd82vhIkpV112cdLb732SVF1p0M1+UnUXzRn77ufEHhVlFpM/2icNG/EhoXXUCoHChG63HQ1UamimFnY4rP8Nfldiz7j/9vsy3a1zMqGT2eilyXPnb8wbNXJszFOPvZh82b8GRm9Za3zevQyHVIhPzAkXnphf9TsV/BDEDF/MmbBxA43/asry7kWj3kj9z6PPZxUNG5HxybQF+atKfDbqo2GeRuNwSPP4aK/br70nxKn36Nbjt2WVTLhb8T5xoCO3pIzGL1pMkyZOXp716YTv0j6fMCd+/ry6lCb4rHUcBuxwxoGRn5/f28z82TUb6hjmu4V8k8EHebj0U6SEjO5fTVnN6Eh0e2jS4sUNuQt+WhcPwWtcFtJmmnL6+eARRcr66JOlzEpSgUdeaWkgfsGsdellOPDZ2L5G2mPip1PM0MXbHg4EZEnInjm1lG2oRJxU8SLCfEQBEYFiqzlhZWE/FviaiJhw2mmXRzGtA8yR/d+ZP3eIPNnCjlY5delqg0FSVhfTwh+W1so4zfPWTas+2NiSaJW7LZr+neRpwgZx0+wni145WJ/9fZ7zxvuTYxmTQvjEQAimjnxs+MHGkgRViBk97N0kXz21QyOJhJmeMf6j6Qfrt9/PFUU5ZviTryS9dP/gcKTcWIhiSV46Z0cENppzUzFN6Xfb0DBD8/DQ3LW/0cz7Bj5IVAsqmhHkbzMzzIJji0ixW9dRS8BDj9lc0hwKLY4z/35GF9pgaC9hWGccSFtjzj3/gAIlSg5TChbPXslwsOFQslIP1uPVDgXN9ypeU8eykcK9Xpry1vDPdh9Cigie3MPt4SRWMXf8sLftgVbtNGs9tF/Erwb7/sdP+fybrutW0IxZ362LLRozrvCNse8wDTAF2NtPPfFxJzS/7r+toFaYRn+MGX5Ct/QkHAxMw8td8n1F4iXX3huLgzMCQjN70MBH2s6dt3z+Kra/2MEfSZRD5yoI9oV5u90ISKLdkgRGUzU/TVuxFlqYCsEHJmMbao8HTn9HVHQaTGQmsHruqKY2YuuYSi+qcuz636ndhw2H+gwChE+3efNLgl+fWFscbYE2hMDtlStD0niS+156WQI2LBPqCWDg9Lsf24N5D0ZL7C0Dbg9jAgMbPxqHQ+qNV/U/WJ/gPlekpF8WAxcI1+oKmltXR1P9bppT9Po4kUS2b/JLopSwtgK0aLSwutw0HjLWPa9pG7DwGVpoysLvlgZHK1oJViH2vbe+imRmqgc+XV8djT/zoiuC7t+mYer/3d1f0r1U9vppZk05zFC7LZhxenw3a6HihYXibqRx115zczB9drURLIa1wyyfpKIXith6MoUg89elvrzNa+EWioArfM+nx2dfzWCHZrzXTRM2r6FJcNvEnXv1TXu3i7nimtPDwNtMk819e/hYU3TxxocOAYSzCN1effl15odzQgjkPPnUy8Rq3b8jGXpgwYQPp6pgcFughUbfeuvtIVMHD6MsWtS4jWtoJIXJASGWXbzO9KbNXr3KxZiway1Of7OPZFW7b1qx05+IVL+x474wPQS047x3Ro8VvK1+n6yKUgSPR0WYHWeP9jZcBkELTy0uhobhphZNA0Ywte97+Pm9x4UCv9v3KEhSVgkEBtwHvTaZ9wGmzPxkuQAhzt4j9/dVG6Wd/q9g30WRHWrel1O+ZQekoRlBU1WELoaWaubp+vEHM9llHAkEaPqm9VhXpX2eFGVBkHcX9HUQixQLXmJz502ZMMPMnG3b5gz7T5Hhw4MLgPkeE07526V7j2UXRDHzjjsGGH5a5pKA+Z03avin7c2Jg0XId8FSYFrgDwvKQ6WL9+tsBGDoxm5eDZ+FRpOba4ISIF0uv/wfKnNAw+eSNX/276GShH1rbNzU31cZAijOp9GMsy8+x+x4vWbOXcpO61TGiCaf6H/e9C8H/FaE+dmqa1EDLJJVAzP/SIpcsGOjoQUyv1D+/909UBWlDl2KMCLi1qxuvXhgY06c+t0BCZNxaY/1jCsaPCG1Yj2NHv1au5txf2NEQchkuuuMtUjCbbLz2ONONA8E6yGLCe5mw0dpxaEWc/3NuCAy93QfUfQGu2BhWnn6lzNXwd0QNJZpm7YbF2u5pavdcOOEFCHQ69VXhzLc2QVL0oqfEfK054P7eAhkWUjo1bur07gsw8Hnxr+CbQ+zG6qEaCcWw0pK2Q7+QruuG0JzTZhDkLcOCoH4U846KxmLIsGRmz59xjzWSZTYgkE4qVabJKtw/u08faGxYXVxS2uLyqxCZRgwSHZDAy4fOnD7Ca9V4vrWyjORTZWmBRjck0KP72avYLSwTJWgXnpnIxbMnTxj0np26SDjJ2nShwipCf3JG/fhJLbp2QVK4ewZywWYo6GPZggSIXrlUmPTpDRDsBLnPiZYu+NDc5RJFOTvATT5djomDXt2OBPeErAoWLZ4RUdozxr/wZcsZIkJkbSFX241O5aFWOXkX2fTXFy8OBIzk8z0T168vJkdRFlN9VRC5IKZvkZbHCLHvTp8hGgUCQb9Q14c3+4YUqv7Jw4aOtMWExb/UtVuO+wh9nfHlirjgMyp2GqKT03Tfxg6dDjk4jDQGNQU0tNPvFdhxJ6EEbnWRyKHDR0VRry65hMlqqioka/7RZ1ouPwPtBCPpro8/vCAZGkuq4K3PZyUOJ0k8/5BD24aOuQ1pqcENWnbRrpVlFQrkdAzgkqk3uQAGkwLr12OZOpBDA2QGhP9fcSvR2T2zClDKLNC3ET+atonJrrv07T5k6lvRd74j741kodU5aYfS1lCdQceOwmT2PFDBDchAcQ6W10+4gliQB2LRup8xMQXGESRMFXuferN1Iep4KJv+n7GAiKEqYS24C/mH+2DD4fE33D9ZeWwzu35PVJYVAHxk6Dx8BKPv7L3xWqAOGWiVwOAAzwWBGZr4CDZTR0+kXbxVBeXi6QPtTnhGfGbQKF1Diuo9Goej45dISO83FeyafU+s0vQLHEZb7THa2GfkPDali2VezdEChUTqOzPFl0jLTgScTvDfmV/M79fzC/FIelx1AjAsDNPzbJhwV1Yk5IbLjiTUPVMF5Ic/IoFiodu5DqIWKYA1pqyX9A2HG391IO/aUQS8J1K119/Fy0a8mooSDt1iy55MR/1EovX/OVYAFQQUfezndUc/P7aRao7JgGOSBR5IDayZdwX74byDn/0Kf920re5kk5qcZiEJ2aSekmSfUgDCHVMP/EEJA1f3wJvQ0D0wh2GyxBorfUQ3KGOub9+dRZNsKWkR4pYAgE46l9OnyJSC86+lpCm2jp71vx4SGD4vojLmUAkPyL2TI4U0L3ArnpP/JhWDaoYiZaAVQ4/Nr+nPS2/q56RmWeJikyUnQlpNDG3D+J3EFKPhTVpFTASPeAFj1O2oig6YdeBQl3TvueqKgmyW/MrOIDZt4qxc8nla9xnrSUm5ny6HxGcoihohuijgQPLc5Mw/SnNjwoB2PW5Z55cZ7UREasXpddB4NmIrDeDWXGnoODvWC0RnKZ5PUSy2LEJVawlJdH4wI1IGBWSsBlM4u7RPR18LhMNZ7zJp5G4aJQSYGY38XhDYQw/An+1OnaWymBFs09DF2i+6BSG8L/OeJqAnS6EE4tPJj4Nwk+B70rzhSSwfAQ+MERgigI2JK1l+54eCuFnvLfX57WFRxAcRSSnWSTls5fOBdEdA6XRR8QIK9Gg4bPI6PoOABzFfNVDRr/nOb7bVXJcV6ea0IU0OVXo7S5SxtRLI4RegqmCWC2RySEfkQIQv4ogaT5qii+BNrH54ZQBACz0XNW1fQ8xtwYtG4oAtHTXzsgY3eJXBZUI0KJ34QYOgF2D6PkA6IIWzz6waO6QtOoOwNfpXY8KAdhy9bWPIamTxEO7aHAm2Bo1XzAGFmkCnFaFSGkfvj+24Zr+N23BMZn/xOAXNj43+Ekf9ZjUeDT4iSIN3c0uhLZF/LIazhLo/AGzOgbjYA/RZJjgTGOQRGS6dcxslZnMQsCGsDujr0PMB2e7X5eobNPVDgmQYIhw63Zm9BF/WDNxsa9KhY8gmH7ttpFskrOlnmyHi0QSdOKVEdbo9wTFX23Hi4iMjUqZOX1tzfHHxv3OghxxKDPHagAOmUhoXjFVIJRWEFJbR2K2VJdqVVuaAn369NyW3424cR4KPgFMYU6Ou6E2wm1nRL8yAHyIVGj3HRVRtGoi3g7WN7OQvAhCZHbzXhPieGemky5ZWGIRPpQguf/iT9A3Ukfqe6qJGWlKbpZdYS6KZT/8Gqzw++N9IOYCFQ+/+kw8jjsJhoB+2UX9fZInAJ40devGYj06AaOQ1yPc5cYG8hE3/Nmw0WBO7x37aI46wcYCHmAOSV6iyDDXQtT+9jcrs8jMURR8axk+KvY0QON0BgQoMw7T4Su7ZhPcekMEuusBEgGtzC15TAvT1IH33hFWs6G2+Ljj4hrFJpLftJ0kzpm8JOmlV96LvuzSK+tVSfk93iLWpeRYmnqcbFtz4fm5JTff1juyrBwXOAJ8c0yAmRN+bdA6OM7weSOQYRfvwdoOebLgV+nIaBnyhjsyyCck/aWnny1FEZEWdiJN/GxcKHQ1VZSUhddUIFUXp2Tv3vFyAMnwbdT/UMY8nH1siirZymD6w1dUh4mTrznvGknXQlAjW6lOOufic5AlDE9AM/HUbIMHrFP2Q6cMEgyuYgOyzrCWzOsXeVvfAVjKgwuB/Q0MyRMdHk8kBBC4ccgYtrWJxyo6VO+IV94sDzhJFKR+l3EfTF8XnWnb9rdrTtr0xDN3Vk2fNzVgWKE69ft9Pk/ABe1Sx7Ut1DLqsLFFZMRD9ob+DgejF/JOsCgWpgHqrbNADTxYp6Pj87+2AJTCrdKll94qexWS6naTLcPfHml6WZimFwgELFNmfQyFgZTDek4fNngkK55qeqyOdwjp6NU1Qfdu27KJeTpd8G1a+17SL4ANFRI5sqrar7v2nmocKjJuPiOL1y9DVljIwrQNDYeH11RJsmwq+UWCc0f2ScRy8vnnELnFpDujlWqWRBn/7zsGbcB/sws0fdtm05Amf/YeciGtcLXoJOH11z4ru3XQxSTgZkKO1aTcP12CTWp2BCJwR8IuHzBvSKzBBNou3Nk7tPuwd7MpVhb8YBwVzGu4VyQELoGN/YD//zP2hWncg+1weJgyWGpMtsu+c8AdG6JjDF+VPnfWHGPhzD5M00OYR8Wdj93JgtM0nNKeC879p0hZCt1hf0ISWl5cMtRN/nyUgzGoXyD+M6+4UhYcNlzomH8HXaDCJaddyTrKOi6QJn07oZNQ6GAsYZBU+AKB5mnfIP/VT1zMZ3fuhVcJuiziOwBNb1wmBsKv6PcA68gklbx8+dQgqdjVzFeQdxb7JamplpQ89ET/oPpLSJ/RvXpYS9N65oZjB1EHHqPzTuHXPn8hPpPYVHj2WqUe2jK5GxIvdoDOP6Vrh5D9UyjeOamKoGbfLdc8hot5AhFItJdGvMA+kpCWgUMvmPfavSFY8SWyo1ndsA6j4iIhIxe3fXCmKSijFfxjeoO1Hbq1Yk3bx5xPsf6dt4YlblxDdDjMKxPTSFLRM69g15o6EBSUQMouGjyyKrY1XrdLXRkpfmfsqOAhaKflfgSPaY++CSLK3vng/fRaXCjgVr4sOYmkPvnYC6zQlokhjKaJBQXZzaedleqHSzgHsSQlNw7aJzf2YGPaIiKtFhi4ruYm4rPsXyu3sHqVCnwYqBEGDRESCdqhP7D7ltU09a2UodsuHmbhMPt7qFUxMvZYDxYDf7D3Yp931gVZMHMdqjZBveihmrwj4/pwZNHefeLZzb28dWVT9Y/z5rHxkHIJd8lOZpfbjZ5ngmafGy4PdPyIud+8h3g8UonLsvBRg5HCZD74NNR3Yi7MnXT9MYQ5gRqAl/655/tHI0aL1e113XfXwJir+l2N3PughTi97JJ+DYPuuMOrsssDD/E/+/RA1IrbJ33K1DuGIHhMjd9eY7/L2zz0zZcTsJY69r/26P0PJZKkLmbGVUlKWNisiRu2Az2rVSPq9EnTKKkxX5XGpWusMnkgPAyalYgAp53X6oh4gYqO8Do4F0UiQ9pJqAUYwE2WcWh1ccTFVpzSE+mU8NAw1oCbDqrgbp6wBbWurH3bSI/d+51V5m77qPJOAYg/IvFlT6x2HsZCqyrKBF8nBQeYWRLeti0CXce+/o7EUt+QkpM04uXxjInC2L2lGoZ6m0YUhITQWxMC3qbGKmpGjrs1bSilbCNFTd6ghQf7zs3MUtStQ9+u6LurBFeQywYuVQq+n7eK9U9BQU4YIuaDATFX93cnz5CQwmakPnkqac4Tdz1IrLaDpp7FPPXos7koiur0o1I1Usiyv/jyhyBJP3Cz1r0iZq7dYFShTkL1ZcSk7Y3rH4eSOaF/oJmFKEvq4qUaS2EzvhumorQp8oScExCOCDXLdkC+UFE9KGftzz6WAoekIRpXsyVE/Qta5Ny5G9mpHIU87eTjjuuDrJTWdWVhfgJCVFrzK5Ca2WptyMSuJr/0yugMXxVl5dRYIdtcBK3iwz0wO6nvFVeGR0XGHmSNhGPGjP6QpSDaWBridf+4pW17Y5/sfNTCHr2iUASBFfJImDBx4V4CECmJzCMKNRV9kstRRQn7rmCrgYuJPdYpHNWpg/xl4gCdKQWR8T9+U+dXY5Gh0EiqI53sRo7oiBGwXXX7TflX3ngTan8gd8GBw7KJNE/7dMymex++F2o//ren6cEq4yZ+P8sTkVCg7rB5SQS+DkOEmbMD+2IrotSg/xFPdAKJ3VDlF5rLqY51b7p90Bl138/ezRiKLKc+9fhQz4UX3G2v06tQ0ziqJQH8SBtJWZidRM2e1xzn0ra6bf5kcfbcYZtefPmJtisXd+X1N4Tdcv1TiCx1EdUeVt+iid7Mglwr7i5rfS6iTJq8JquRbqmJpMdELV06bMOLLw0OZuWL77jp4u7WUZ/XX3/VVZWWeEIGj34ts/9Dr3m++KKo5t2xw4XStVt9wENG9Rh7akqK418DHrRe/fc7K7PyjPS7aKmJFH46bdKv1990dTDz7d0mPqkghg64cpAKB5xb1OWwgEfzuKSA245gYq2euGWdRA94/mmn3a3VCTs0pUX3KFQSmyRdtLrg+MLtBZJOWgIz5k5vqNy4T0ZW0DTROu/WU05Qeq5ctmVNj8LUDQmZjrgl65cUTPp0auXAh+7yVG2vclMckBKMcc2vQfLg5tNq6frWqHH636+87vcuCHmGQpbvXUzKY/4e9EG4N33WkW8+nXzasePLSASJ+WrqIiW3Txpxt1QiBwaqHsKLUUcIXtuAx+YXU59/9jV6wz3/Lk+KJhkwCWK/n1e3/ayzohoVXGyJSnyLrpUT2arkvPv2f7f1v+n82FU/kqaepyPuyb/PzbSFyIpX8Mu4yBfxbR6QUjCq15Uj/x3/CcXYhhxlN90d0uNz2B2omQj1DomiLi9Mbws86zsj+hEGBU+TaMdtNTKtBKdPIGU67nH89T7kDTihvdb/8d5MqLLrnaDXiTcMDoHCx598Wtbqd1YuZsUiUXbK+G4LwK2jii5KWrHoAaYRsnLq3SpW+RQxut1AzajjTuuTaoyFem++FsrqtRnl0TX8oH4cSwg3KpcwTQz/OlBRpPDz979pSymqNtu61UPTo42oAeim4c2oO8ecyfhhtdJUnPgSq80H+gr0PYsjoCKInFnyCyrrItgkAI2IVW9G6XHRqxvly1vLlPswRmsSfjdXFXXIyUEXxbQhxyXt7gfuT/ZBi0V/Gyt/jjQCVig1C1pFerMHNe5QGgnVsLEHKatGzbSdpMYKmvjQgw8FtyLttyrcuA7vALrdrWXejXJSeC9DE2PvxoqMoko2+11EVWL2jgRl+1nxBaQeoBpzqwae3wLMhPCOH9CSQ8mfMmlWPPsulp3rk41/k/GVBMnFKMb60xJvwi/LaELpRpqHiinWnW3SsB75S35YIRoJkx14EF+XMGtaOUGVIgX8mu9Gpen1a2jy11+XZH095dfMRT/4clatNqo/M0wElP/qun0bjbzkogfiCHGy74xha5iBqt2pi5bTnLoWtPPRcNCa+On4EqZJtqUuZuC/H0+t3kiTG+pobFUlTXe7WvkJ655cWU2Ttm+m6VXlNP2NMfOhdO7Ct8vxp5/cyiuoRlTuo/nlm2nuto2wZjbTnBFDJ6OoA+7XobvDdI+qqTXWK6oOFaSx3qmbttC40vU07q1RP7PDvANoHfaunWdyHAbSc4cUfeCPi4/VVL9fU9Qwmy8C4VLNLbaA4PEqSrgg2yyNAbfo0JrrvBOmjSybPHHu/shKGz18ppKWnUpUGHyKpFJZVJD+6lM1waVQwQO+FaCYWNyi30Zb3Prmy/sf6/VX73ZKWyQh4ZH7hoZdcPVAXUbdEUVSNITeWanYgq/P8iKuyumRdNmC7Azl80nPr3n+mWfa0pJ79wPP6f+8+WkKL5ALRlEAscbsa0VEWSYqXDBI5oAuqBE7rCSy9KcVW6/u18s0xBAg0cOeG598zpnneHJy4yus0GwxCPYaDCoKPVck2R43Ka3cSMInzx+35YFnBiFntdH0PG06pP33szLpzLOTnCie1KK7ia5Gw/cFBQt5oz5FIxYoXC5rmOGjsCDwHMFuxM1KBiIiXYamoyDUTkPtAntlMfk1ubDT+DP8oosvi3364dHuk05JrcL1uAEBRodyRPwi0wK9UJUsJJUljpQUE9vo8Q+XDn31tY5gsauvEBvW7aPRE+v6nXvRDjEcgYSsooKRBoy0QFawvNUpnbe9msiffvTZrw88fDMq8SC4SSRpH4+ep/QdcMbviNIjFB5EBHmneXYQafTUiZseHXQjWHaPdLQT3xz7zYo7rrnIi9AIpuzhLhxjq0iDg54JHkOBbVb1gBQULyNrCk+BZqsZPkdBCFe7Baq8xfBSgvtAmYvYEV7mQm3V41f+TH7ueaYqiV5/AJprfuVWui4uBb3gsvRjTIYlVI1jSzeTn7OPgQBsdHUKbodhkE5jsMNA61E3hSQ48QVtKMd1OB7RrjpP63Oq45iuvWSrLQzpTv6a5WtX6T/M+9ar+0KKk9sv2Q5UNWkOYkzkt0qofiIZCbAQRNjwOhNGMJMRiN4ZsYftkGiRM+66/T795BPO9kU54+xWp6VRr5djaqpKAr8WLy0Z9tFw3VfXcCiWJNweGx1V9OgQqWvPU6gzOlV26y1uV01t+Jp1SzZ/OfUz96yFsDL2CmCHfIy8oO/lUdddcLPfao0IlGxYVflE0eMo7tB+wrnisGc9cu9/BJsjwi8hwJoivxPOV8Wne0TVqvi8fp8VXw276dmiZz1aZT1OIIDemjaZOXDgv63H9TwRrOFLcAc89apqwZJYqsaNe7f2+0Wz/sDEdv7Zf8u9of+tTVZB9XtlWbNINrunpbFh5pzpjROmjketGFPRB4cCaz4mR4AjcIQiIIp2kSiOkP2KR+hrcbI4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEeAIcAQ4AhwBjgBHgCPAEdiNwP8DESQa6bH4QFsAAAAASUVORK5CYII="},828:function(e,t,n){"use strict";e.exports=n.p+"static/media/ryv.a6be9ea81073a36341d0.png"},902:function(e,t,n){"use strict";e.exports=n.p+"static/media/scriptiez.17481b6a5f931cba25f3.png"},462:function(e,t,n){"use strict";e.exports=n.p+"static/media/scriptiez1.8e196c1498611dd3ddf3.png"}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".a4b0e75e.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="sz-anoroam:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var u,s;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){u=f;break}}u||(s=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+a),u.src=r),e[r]=[i];var h=function(t,n){u.onerror=u.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=h.bind(null,u.onerror),u.onload=h.bind(null,u.onload),s&&document.head.appendChild(u)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/anoroamryv/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),u=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",u.name="ChunkLoadError",u.type=a,u.request=o,i[1](u)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],u=r[1],s=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(s)s(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunksz_anoroam=self.webpackChunksz_anoroam||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return xi},SDK_VERSION:function(){return ba},_DEFAULT_ENTRY_NAME:function(){return ua},_addComponent:function(){return fa},_addOrOverwriteComponent:function(){return ha},_apps:function(){return ca},_clearComponents:function(){return ya},_components:function(){return la},_getProvider:function(){return pa},_registerComponent:function(){return da},_removeServiceInstance:function(){return va},deleteApp:function(){return Sa},getApp:function(){return xa},getApps:function(){return Ia},initializeApp:function(){return wa},onLog:function(){return Ta},registerVersion:function(){return _a},setLogLevel:function(){return Ca}});var t=n(791),r=n(164);function i(e){if(Array.isArray(e))return e}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(e,t){return i(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||o(e,t)||u()}function c(){return c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function l(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function f(e,t){if(null==e)return{};var n,r,i=l(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function h(e){var t,n,r="";if("string"===typeof e||"number"===typeof e)r+=e;else if("object"===typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=h(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function d(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=h(e))&&(r&&(r+=" "),r+=t);return r}var p=n(110),v=n.n(p),y="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m="object"===("undefined"===typeof window?"undefined":y(window))&&"object"===("undefined"===typeof document?"undefined":y(document))&&9===document.nodeType;function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function b(e,t){return b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},b(e,t)}function w(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,b(e,t)}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var I={}.constructor;function S(e){if(null==e||"object"!==typeof e)return e;if(Array.isArray(e))return e.map(S);if(e.constructor!==I)return e;var t={};for(var n in e)t[n]=S(e[n]);return t}function E(e,t,n){void 0===e&&(e="unnamed");var r=n.jss,i=S(t),a=r.plugins.onCreateRule(e,i,n);return a||(e[0],null)}var _=function(e,t){for(var n="",r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=t),n+=e[r];return n},T=function(e,t){if(void 0===t&&(t=!1),!Array.isArray(e))return e;var n="";if(Array.isArray(e[0]))for(var r=0;r<e.length&&"!important"!==e[r];r++)n&&(n+=", "),n+=_(e[r]," ");else n=_(e,", ");return t||"!important"!==e[e.length-1]||(n+=" !important"),n};function C(e){return e&&!1===e.format?{linebreak:"",space:""}:{linebreak:"\n",space:" "}}function A(e,t){for(var n="",r=0;r<t;r++)n+="  ";return n+e}function N(e,t,n){void 0===n&&(n={});var r="";if(!t)return r;var i=n.indent,a=void 0===i?0:i,o=t.fallbacks;!1===n.format&&(a=-1/0);var u=C(n),s=u.linebreak,c=u.space;if(e&&a++,o)if(Array.isArray(o))for(var l=0;l<o.length;l++){var f=o[l];for(var h in f){var d=f[h];null!=d&&(r&&(r+=s),r+=A(h+":"+c+T(d)+";",a))}}else for(var p in o){var v=o[p];null!=v&&(r&&(r+=s),r+=A(p+":"+c+T(v)+";",a))}for(var y in t){var m=t[y];null!=m&&"fallbacks"!==y&&(r&&(r+=s),r+=A(y+":"+c+T(m)+";",a))}return(r||n.allowEmpty)&&e?(r&&(r=""+s+r+s),A(""+e+c+"{"+r,--a)+A("}",a)):r}var R=/([[\].#*$><+~=|^:(),"'`\s])/g,P="undefined"!==typeof CSS&&CSS.escape,D=function(e){return P?P(e):e.replace(R,"\\$1")},O=function(){function e(e,t,n){this.type="style",this.isProcessed=!1;var r=n.sheet,i=n.Renderer;this.key=e,this.options=n,this.style=t,r?this.renderer=r.renderer:i&&(this.renderer=new i)}return e.prototype.prop=function(e,t,n){if(void 0===t)return this.style[e];var r=!!n&&n.force;if(!r&&this.style[e]===t)return this;var i=t;n&&!1===n.process||(i=this.options.jss.plugins.onChangeValue(t,e,this));var a=null==i||!1===i,o=e in this.style;if(a&&!o&&!r)return this;var u=a&&o;if(u?delete this.style[e]:this.style[e]=i,this.renderable&&this.renderer)return u?this.renderer.removeProperty(this.renderable,e):this.renderer.setProperty(this.renderable,e,i),this;var s=this.options.sheet;return s&&s.attached,this},e}(),L=function(e){function t(t,n,r){var i;i=e.call(this,t,n,r)||this;var a=r.selector,o=r.scoped,u=r.sheet,s=r.generateId;return a?i.selectorText=a:!1!==o&&(i.id=s(x(x(i)),u),i.selectorText="."+D(i.id)),i}w(t,e);var n=t.prototype;return n.applyTo=function(e){var t=this.renderer;if(t){var n=this.toJSON();for(var r in n)t.setProperty(e,r,n[r])}return this},n.toJSON=function(){var e={};for(var t in this.style){var n=this.style[t];"object"!==typeof n?e[t]=n:Array.isArray(n)&&(e[t]=T(n))}return e},n.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return N(this.selectorText,this.style,n)},k(t,[{key:"selector",set:function(e){if(e!==this.selectorText){this.selectorText=e;var t=this.renderer,n=this.renderable;if(n&&t)t.setSelector(n,e)||t.replaceRule(n,this)}},get:function(){return this.selectorText}}]),t}(O),M={onCreateRule:function(e,t,n){return"@"===e[0]||n.parent&&"keyframes"===n.parent.type?null:new L(e,t,n)}},F={indent:1,children:!0},V=/@([\w-]+)/,U=function(){function e(e,t,n){this.type="conditional",this.isProcessed=!1,this.key=e;var r=e.match(V);for(var i in this.at=r?r[1]:"unknown",this.query=n.name||"@"+this.at,this.options=n,this.rules=new ce(c({},n,{parent:this})),t)this.rules.add(i,t[i]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.indexOf=function(e){return this.rules.indexOf(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r?(this.options.jss.plugins.onProcessRule(r),r):null},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.toString=function(e){void 0===e&&(e=F);var t=C(e).linebreak;if(null==e.indent&&(e.indent=F.indent),null==e.children&&(e.children=F.children),!1===e.children)return this.query+" {}";var n=this.rules.toString(e);return n?this.query+" {"+t+n+t+"}":""},e}(),j=/@media|@supports\s+/,B={onCreateRule:function(e,t,n){return j.test(e)?new U(e,t,n):null}},z={indent:1,children:!0},q=/@keyframes\s+([\w-]+)/,W=function(){function e(e,t,n){this.type="keyframes",this.at="@keyframes",this.isProcessed=!1;var r=e.match(q);r&&r[1]?this.name=r[1]:this.name="noname",this.key=this.type+"-"+this.name,this.options=n;var i=n.scoped,a=n.sheet,o=n.generateId;for(var u in this.id=!1===i?this.name:D(o(this,a)),this.rules=new ce(c({},n,{parent:this})),t)this.rules.add(u,t[u],c({},n,{parent:this}));this.rules.process()}return e.prototype.toString=function(e){void 0===e&&(e=z);var t=C(e).linebreak;if(null==e.indent&&(e.indent=z.indent),null==e.children&&(e.children=z.children),!1===e.children)return this.at+" "+this.id+" {}";var n=this.rules.toString(e);return n&&(n=""+t+n+t),this.at+" "+this.id+" {"+n+"}"},e}(),K=/@keyframes\s+/,G=/\$([\w-]+)/g,H=function(e,t){return"string"===typeof e?e.replace(G,(function(e,n){return n in t?t[n]:e})):e},Q=function(e,t,n){var r=e[t],i=H(r,n);i!==r&&(e[t]=i)},Y={onCreateRule:function(e,t,n){return"string"===typeof e&&K.test(e)?new W(e,t,n):null},onProcessStyle:function(e,t,n){return"style"===t.type&&n?("animation-name"in e&&Q(e,"animation-name",n.keyframes),"animation"in e&&Q(e,"animation",n.keyframes),e):e},onChangeValue:function(e,t,n){var r=n.options.sheet;if(!r)return e;switch(t){case"animation":case"animation-name":return H(e,r.keyframes);default:return e}}},X=function(e){function t(){return e.apply(this,arguments)||this}return w(t,e),t.prototype.toString=function(e){var t=this.options.sheet,n=!!t&&t.options.link?c({},e,{allowEmpty:!0}):e;return N(this.key,this.style,n)},t}(O),J={onCreateRule:function(e,t,n){return n.parent&&"keyframes"===n.parent.type?new X(e,t,n):null}},Z=function(){function e(e,t,n){this.type="font-face",this.at="@font-face",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){var t=C(e).linebreak;if(Array.isArray(this.style)){for(var n="",r=0;r<this.style.length;r++)n+=N(this.at,this.style[r]),this.style[r+1]&&(n+=t);return n}return N(this.at,this.style,e)},e}(),$=/@font-face/,ee={onCreateRule:function(e,t,n){return $.test(e)?new Z(e,t,n):null}},te=function(){function e(e,t,n){this.type="viewport",this.at="@viewport",this.isProcessed=!1,this.key=e,this.style=t,this.options=n}return e.prototype.toString=function(e){return N(this.key,this.style,e)},e}(),ne={onCreateRule:function(e,t,n){return"@viewport"===e||"@-ms-viewport"===e?new te(e,t,n):null}},re=function(){function e(e,t,n){this.type="simple",this.isProcessed=!1,this.key=e,this.value=t,this.options=n}return e.prototype.toString=function(e){if(Array.isArray(this.value)){for(var t="",n=0;n<this.value.length;n++)t+=this.key+" "+this.value[n]+";",this.value[n+1]&&(t+="\n");return t}return this.key+" "+this.value+";"},e}(),ie={"@charset":!0,"@import":!0,"@namespace":!0},ae={onCreateRule:function(e,t,n){return e in ie?new re(e,t,n):null}},oe=[M,B,Y,J,ee,ne,ae],ue={process:!0},se={force:!0,process:!0},ce=function(){function e(e){this.map={},this.raw={},this.index=[],this.counter=0,this.options=e,this.classes=e.classes,this.keyframes=e.keyframes}var t=e.prototype;return t.add=function(e,t,n){var r=this.options,i=r.parent,a=r.sheet,o=r.jss,u=r.Renderer,s=r.generateId,l=r.scoped,f=c({classes:this.classes,parent:i,sheet:a,jss:o,Renderer:u,generateId:s,scoped:l,name:e,keyframes:this.keyframes,selector:void 0},n),h=e;e in this.raw&&(h=e+"-d"+this.counter++),this.raw[h]=t,h in this.classes&&(f.selector="."+D(this.classes[h]));var d=E(h,t,f);if(!d)return null;this.register(d);var p=void 0===f.index?this.index.length:f.index;return this.index.splice(p,0,d),d},t.replace=function(e,t,n){var r=this.get(e),i=this.index.indexOf(r);r&&this.remove(r);var a=n;return-1!==i&&(a=c({},n,{index:i})),this.add(e,t,a)},t.get=function(e){return this.map[e]},t.remove=function(e){this.unregister(e),delete this.raw[e.key],this.index.splice(this.index.indexOf(e),1)},t.indexOf=function(e){return this.index.indexOf(e)},t.process=function(){var e=this.options.jss.plugins;this.index.slice(0).forEach(e.onProcessRule,e)},t.register=function(e){this.map[e.key]=e,e instanceof L?(this.map[e.selector]=e,e.id&&(this.classes[e.key]=e.id)):e instanceof W&&this.keyframes&&(this.keyframes[e.name]=e.id)},t.unregister=function(e){delete this.map[e.key],e instanceof L?(delete this.map[e.selector],delete this.classes[e.key]):e instanceof W&&delete this.keyframes[e.name]},t.update=function(){var e,t,n;if("string"===typeof(arguments.length<=0?void 0:arguments[0])?(e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2]):(t=arguments.length<=0?void 0:arguments[0],n=arguments.length<=1?void 0:arguments[1],e=null),e)this.updateOne(this.get(e),t,n);else for(var r=0;r<this.index.length;r++)this.updateOne(this.index[r],t,n)},t.updateOne=function(t,n,r){void 0===r&&(r=ue);var i=this.options,a=i.jss.plugins,o=i.sheet;if(t.rules instanceof e)t.rules.update(n,r);else{var u=t.style;if(a.onUpdate(n,t,o,r),r.process&&u&&u!==t.style){for(var s in a.onProcessStyle(t.style,t,o),t.style){var c=t.style[s];c!==u[s]&&t.prop(s,c,se)}for(var l in u){var f=t.style[l],h=u[l];null==f&&f!==h&&t.prop(l,null,se)}}}},t.toString=function(e){for(var t="",n=this.options.sheet,r=!!n&&n.options.link,i=C(e).linebreak,a=0;a<this.index.length;a++){var o=this.index[a].toString(e);(o||r)&&(t&&(t+=i),t+=o)}return t},e}(),le=function(){function e(e,t){for(var n in this.attached=!1,this.deployed=!1,this.classes={},this.keyframes={},this.options=c({},t,{sheet:this,parent:this,classes:this.classes,keyframes:this.keyframes}),t.Renderer&&(this.renderer=new t.Renderer(this)),this.rules=new ce(this.options),e)this.rules.add(n,e[n]);this.rules.process()}var t=e.prototype;return t.attach=function(){return this.attached||(this.renderer&&this.renderer.attach(),this.attached=!0,this.deployed||this.deploy()),this},t.detach=function(){return this.attached?(this.renderer&&this.renderer.detach(),this.attached=!1,this):this},t.addRule=function(e,t,n){var r=this.queue;this.attached&&!r&&(this.queue=[]);var i=this.rules.add(e,t,n);return i?(this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(r?r.push(i):(this.insertRule(i),this.queue&&(this.queue.forEach(this.insertRule,this),this.queue=void 0)),i):i:(this.deployed=!1,i)):null},t.replaceRule=function(e,t,n){var r=this.rules.get(e);if(!r)return this.addRule(e,t,n);var i=this.rules.replace(e,t,n);return i&&this.options.jss.plugins.onProcessRule(i),this.attached?this.deployed?(this.renderer&&(i?r.renderable&&this.renderer.replaceRule(r.renderable,i):this.renderer.deleteRule(r)),i):i:(this.deployed=!1,i)},t.insertRule=function(e){this.renderer&&this.renderer.insertRule(e)},t.addRules=function(e,t){var n=[];for(var r in e){var i=this.addRule(r,e[r],t);i&&n.push(i)}return n},t.getRule=function(e){return this.rules.get(e)},t.deleteRule=function(e){var t="object"===typeof e?e:this.rules.get(e);return!(!t||this.attached&&!t.renderable)&&(this.rules.remove(t),!(this.attached&&t.renderable&&this.renderer)||this.renderer.deleteRule(t.renderable))},t.indexOf=function(e){return this.rules.indexOf(e)},t.deploy=function(){return this.renderer&&this.renderer.deploy(),this.deployed=!0,this},t.update=function(){var e;return(e=this.rules).update.apply(e,arguments),this},t.updateOne=function(e,t,n){return this.rules.updateOne(e,t,n),this},t.toString=function(e){return this.rules.toString(e)},e}(),fe=function(){function e(){this.plugins={internal:[],external:[]},this.registry={}}var t=e.prototype;return t.onCreateRule=function(e,t,n){for(var r=0;r<this.registry.onCreateRule.length;r++){var i=this.registry.onCreateRule[r](e,t,n);if(i)return i}return null},t.onProcessRule=function(e){if(!e.isProcessed){for(var t=e.options.sheet,n=0;n<this.registry.onProcessRule.length;n++)this.registry.onProcessRule[n](e,t);e.style&&this.onProcessStyle(e.style,e,t),e.isProcessed=!0}},t.onProcessStyle=function(e,t,n){for(var r=0;r<this.registry.onProcessStyle.length;r++)t.style=this.registry.onProcessStyle[r](t.style,t,n)},t.onProcessSheet=function(e){for(var t=0;t<this.registry.onProcessSheet.length;t++)this.registry.onProcessSheet[t](e)},t.onUpdate=function(e,t,n,r){for(var i=0;i<this.registry.onUpdate.length;i++)this.registry.onUpdate[i](e,t,n,r)},t.onChangeValue=function(e,t,n){for(var r=e,i=0;i<this.registry.onChangeValue.length;i++)r=this.registry.onChangeValue[i](r,t,n);return r},t.use=function(e,t){void 0===t&&(t={queue:"external"});var n=this.plugins[t.queue];-1===n.indexOf(e)&&(n.push(e),this.registry=[].concat(this.plugins.external,this.plugins.internal).reduce((function(e,t){for(var n in t)n in e&&e[n].push(t[n]);return e}),{onCreateRule:[],onProcessRule:[],onProcessStyle:[],onProcessSheet:[],onChangeValue:[],onUpdate:[]}))},e}(),he=function(){function e(){this.registry=[]}var t=e.prototype;return t.add=function(e){var t=this.registry,n=e.options.index;if(-1===t.indexOf(e))if(0===t.length||n>=this.index)t.push(e);else for(var r=0;r<t.length;r++)if(t[r].options.index>n)return void t.splice(r,0,e)},t.reset=function(){this.registry=[]},t.remove=function(e){var t=this.registry.indexOf(e);this.registry.splice(t,1)},t.toString=function(e){for(var t=void 0===e?{}:e,n=t.attached,r=l(t,["attached"]),i=C(r).linebreak,a="",o=0;o<this.registry.length;o++){var u=this.registry[o];null!=n&&u.attached!==n||(a&&(a+=i),a+=u.toString(r))}return a},k(e,[{key:"index",get:function(){return 0===this.registry.length?0:this.registry[this.registry.length-1].options.index}}]),e}(),de=new he,pe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window&&window.Math===Math?window:"undefined"!==typeof self&&self.Math===Math?self:Function("return this")(),ve="2f1acc6c3a606b082e5eef5e54414ffb";null==pe[ve]&&(pe[ve]=0);var ye=pe[ve]++,me=function(e){void 0===e&&(e={});var t=0;return function(n,r){t+=1;var i="",a="";return r&&(r.options.classNamePrefix&&(a=r.options.classNamePrefix),null!=r.options.jss.id&&(i=String(r.options.jss.id))),e.minify?""+(a||"c")+ye+i+t:a+n.key+"-"+ye+(i?"-"+i:"")+"-"+t}},ge=function(e){var t;return function(){return t||(t=e()),t}},ke=function(e,t){try{return e.attributeStyleMap?e.attributeStyleMap.get(t):e.style.getPropertyValue(t)}catch(n){return""}},be=function(e,t,n){try{var r=n;if(Array.isArray(n)&&(r=T(n,!0),"!important"===n[n.length-1]))return e.style.setProperty(t,r,"important"),!0;e.attributeStyleMap?e.attributeStyleMap.set(t,r):e.style.setProperty(t,r)}catch(i){return!1}return!0},we=function(e,t){try{e.attributeStyleMap?e.attributeStyleMap.delete(t):e.style.removeProperty(t)}catch(n){}},xe=function(e,t){return e.selectorText=t,e.selectorText===t},Ie=ge((function(){return document.querySelector("head")}));function Se(e){var t=de.registry;if(t.length>0){var n=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.attached&&r.options.index>t.index&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e);if(n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element};if(n=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e[n];if(r.attached&&r.options.insertionPoint===t.insertionPoint)return r}return null}(t,e),n&&n.renderer)return{parent:n.renderer.element.parentNode,node:n.renderer.element.nextSibling}}var r=e.insertionPoint;if(r&&"string"===typeof r){var i=function(e){for(var t=Ie(),n=0;n<t.childNodes.length;n++){var r=t.childNodes[n];if(8===r.nodeType&&r.nodeValue.trim()===e)return r}return null}(r);if(i)return{parent:i.parentNode,node:i.nextSibling}}return!1}var Ee=ge((function(){var e=document.querySelector('meta[property="csp-nonce"]');return e?e.getAttribute("content"):null})),_e=function(e,t,n){try{"insertRule"in e?e.insertRule(t,n):"appendRule"in e&&e.appendRule(t)}catch(r){return!1}return e.cssRules[n]},Te=function(e,t){var n=e.cssRules.length;return void 0===t||t>n?n:t},Ce=function(){function e(e){this.getPropertyValue=ke,this.setProperty=be,this.removeProperty=we,this.setSelector=xe,this.hasInsertedRules=!1,this.cssRules=[],e&&de.add(e),this.sheet=e;var t=this.sheet?this.sheet.options:{},n=t.media,r=t.meta,i=t.element;this.element=i||function(){var e=document.createElement("style");return e.textContent="\n",e}(),this.element.setAttribute("data-jss",""),n&&this.element.setAttribute("media",n),r&&this.element.setAttribute("data-meta",r);var a=Ee();a&&this.element.setAttribute("nonce",a)}var t=e.prototype;return t.attach=function(){if(!this.element.parentNode&&this.sheet){!function(e,t){var n=t.insertionPoint,r=Se(t);if(!1!==r&&r.parent)r.parent.insertBefore(e,r.node);else if(n&&"number"===typeof n.nodeType){var i=n,a=i.parentNode;a&&a.insertBefore(e,i.nextSibling)}else Ie().appendChild(e)}(this.element,this.sheet.options);var e=Boolean(this.sheet&&this.sheet.deployed);this.hasInsertedRules&&e&&(this.hasInsertedRules=!1,this.deploy())}},t.detach=function(){if(this.sheet){var e=this.element.parentNode;e&&e.removeChild(this.element),this.sheet.options.link&&(this.cssRules=[],this.element.textContent="\n")}},t.deploy=function(){var e=this.sheet;e&&(e.options.link?this.insertRules(e.rules):this.element.textContent="\n"+e.toString()+"\n")},t.insertRules=function(e,t){for(var n=0;n<e.index.length;n++)this.insertRule(e.index[n],n,t)},t.insertRule=function(e,t,n){if(void 0===n&&(n=this.element.sheet),e.rules){var r=e,i=n;if("conditional"===e.type||"keyframes"===e.type){var a=Te(n,t);if(!1===(i=_e(n,r.toString({children:!1}),a)))return!1;this.refCssRule(e,a,i)}return this.insertRules(r.rules,i),i}var o=e.toString();if(!o)return!1;var u=Te(n,t),s=_e(n,o,u);return!1!==s&&(this.hasInsertedRules=!0,this.refCssRule(e,u,s),s)},t.refCssRule=function(e,t,n){e.renderable=n,e.options.parent instanceof le&&this.cssRules.splice(t,0,n)},t.deleteRule=function(e){var t=this.element.sheet,n=this.indexOf(e);return-1!==n&&(t.deleteRule(n),this.cssRules.splice(n,1),!0)},t.indexOf=function(e){return this.cssRules.indexOf(e)},t.replaceRule=function(e,t){var n=this.indexOf(e);return-1!==n&&(this.element.sheet.deleteRule(n),this.cssRules.splice(n,1),this.insertRule(t,n))},t.getRules=function(){return this.element.sheet.cssRules},e}(),Ae=0,Ne=function(){function e(e){this.id=Ae++,this.version="10.9.0",this.plugins=new fe,this.options={id:{minify:!1},createGenerateId:me,Renderer:m?Ce:null,plugins:[]},this.generateId=me({minify:!1});for(var t=0;t<oe.length;t++)this.plugins.use(oe[t],{queue:"internal"});this.setup(e)}var t=e.prototype;return t.setup=function(e){return void 0===e&&(e={}),e.createGenerateId&&(this.options.createGenerateId=e.createGenerateId),e.id&&(this.options.id=c({},this.options.id,e.id)),(e.createGenerateId||e.id)&&(this.generateId=this.options.createGenerateId(this.options.id)),null!=e.insertionPoint&&(this.options.insertionPoint=e.insertionPoint),"Renderer"in e&&(this.options.Renderer=e.Renderer),e.plugins&&this.use.apply(this,e.plugins),this},t.createStyleSheet=function(e,t){void 0===t&&(t={});var n=t.index;"number"!==typeof n&&(n=0===de.index?0:de.index+1);var r=new le(e,c({},t,{jss:this,generateId:t.generateId||this.generateId,insertionPoint:this.options.insertionPoint,Renderer:this.options.Renderer,index:n}));return this.plugins.onProcessSheet(r),r},t.removeStyleSheet=function(e){return e.detach(),de.remove(e),this},t.createRule=function(e,t,n){if(void 0===t&&(t={}),void 0===n&&(n={}),"object"===typeof e)return this.createRule(void 0,e,t);var r=c({},n,{name:e,jss:this,Renderer:this.options.Renderer});r.generateId||(r.generateId=this.generateId),r.classes||(r.classes={}),r.keyframes||(r.keyframes={});var i=E(e,t,r);return i&&this.plugins.onProcessRule(i),i},t.use=function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return n.forEach((function(t){e.plugins.use(t)})),this},e}(),Re=function(e){return new Ne(e)},Pe="object"===typeof CSS&&null!=CSS&&"number"in CSS;function De(e){var t=null;for(var n in e){var r=e[n],i=typeof r;if("function"===i)t||(t={}),t[n]=r;else if("object"===i&&null!==r&&!Array.isArray(r)){var a=De(r);a&&(t||(t={}),t[n]=a)}}return t}Re();function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.baseClasses,n=e.newClasses;e.Component;if(!n)return t;var r=c({},t);return Object.keys(n).forEach((function(e){n[e]&&(r[e]="".concat(t[e]," ").concat(n[e]))})),r}var Le={set:function(e,t,n,r){var i=e.get(t);i||(i=new Map,e.set(t,i)),i.set(n,r)},get:function(e,t,n){var r=e.get(t);return r?r.get(n):void 0},delete:function(e,t,n){e.get(t).delete(n)}},Me=Le;var Fe=t.createContext(null);function Ve(){return t.useContext(Fe)}var Ue="function"===typeof Symbol&&Symbol.for?Symbol.for("mui.nested"):"__THEME_NESTED__",je=["checked","disabled","error","focused","focusVisible","required","expanded","selected"];var Be=Date.now(),ze="fnValues"+Be,qe="fnStyle"+ ++Be,We=function(){return{onCreateRule:function(e,t,n){if("function"!==typeof t)return null;var r=E(e,{},n);return r[qe]=t,r},onProcessStyle:function(e,t){if(ze in t||qe in t)return e;var n={};for(var r in e){var i=e[r];"function"===typeof i&&(delete e[r],n[r]=i)}return t[ze]=n,e},onUpdate:function(e,t,n,r){var i=t,a=i[qe];a&&(i.style=a(e)||{});var o=i[ze];if(o)for(var u in o)i.prop(u,o[u](e),r)}}},Ke="@global",Ge="@global ",He=function(){function e(e,t,n){for(var r in this.type="global",this.at=Ke,this.isProcessed=!1,this.key=e,this.options=n,this.rules=new ce(c({},n,{parent:this})),t)this.rules.add(r,t[r]);this.rules.process()}var t=e.prototype;return t.getRule=function(e){return this.rules.get(e)},t.addRule=function(e,t,n){var r=this.rules.add(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.replaceRule=function(e,t,n){var r=this.rules.replace(e,t,n);return r&&this.options.jss.plugins.onProcessRule(r),r},t.indexOf=function(e){return this.rules.indexOf(e)},t.toString=function(e){return this.rules.toString(e)},e}(),Qe=function(){function e(e,t,n){this.type="global",this.at=Ke,this.isProcessed=!1,this.key=e,this.options=n;var r=e.substr(Ge.length);this.rule=n.jss.createRule(r,t,c({},n,{parent:this}))}return e.prototype.toString=function(e){return this.rule?this.rule.toString(e):""},e}(),Ye=/\s*,\s*/g;function Xe(e,t){for(var n=e.split(Ye),r="",i=0;i<n.length;i++)r+=t+" "+n[i].trim(),n[i+1]&&(r+=", ");return r}var Je=function(){return{onCreateRule:function(e,t,n){if(!e)return null;if(e===Ke)return new He(e,t,n);if("@"===e[0]&&e.substr(0,Ge.length)===Ge)return new Qe(e,t,n);var r=n.parent;return r&&("global"===r.type||r.options.parent&&"global"===r.options.parent.type)&&(n.scoped=!1),n.selector||!1!==n.scoped||(n.selector=e),null},onProcessRule:function(e,t){"style"===e.type&&t&&(function(e,t){var n=e.options,r=e.style,i=r?r[Ke]:null;if(i){for(var a in i)t.addRule(a,i[a],c({},n,{selector:Xe(a,e.selector)}));delete r[Ke]}}(e,t),function(e,t){var n=e.options,r=e.style;for(var i in r)if("@"===i[0]&&i.substr(0,Ke.length)===Ke){var a=Xe(i.substr(Ke.length),e.selector);t.addRule(a,r[i],c({},n,{selector:a})),delete r[i]}}(e,t))}}},Ze=/\s*,\s*/g,$e=/&/g,et=/\$([\w-]+)/g;var tt=function(){function e(e,t){return function(n,r){var i=e.getRule(r)||t&&t.getRule(r);return i?i.selector:r}}function t(e,t){for(var n=t.split(Ze),r=e.split(Ze),i="",a=0;a<n.length;a++)for(var o=n[a],u=0;u<r.length;u++){var s=r[u];i&&(i+=", "),i+=-1!==s.indexOf("&")?s.replace($e,o):o+" "+s}return i}function n(e,t,n){if(n)return c({},n,{index:n.index+1});var r=e.options.nestingLevel;r=void 0===r?1:r+1;var i=c({},e.options,{nestingLevel:r,index:t.indexOf(e)+1});return delete i.name,i}return{onProcessStyle:function(r,i,a){if("style"!==i.type)return r;var o,u,s=i,l=s.options.parent;for(var f in r){var h=-1!==f.indexOf("&"),d="@"===f[0];if(h||d){if(o=n(s,l,o),h){var p=t(f,s.selector);u||(u=e(l,a)),p=p.replace(et,u);var v=s.key+"-"+f;"replaceRule"in l?l.replaceRule(v,r[f],c({},o,{selector:p})):l.addRule(v,r[f],c({},o,{selector:p}))}else d&&l.addRule(f,{},o).addRule(s.key,r[f],{selector:s.selector});delete r[f]}}return r}}},nt=/[A-Z]/g,rt=/^ms-/,it={};function at(e){return"-"+e.toLowerCase()}var ot=function(e){if(it.hasOwnProperty(e))return it[e];var t=e.replace(nt,at);return it[e]=rt.test(t)?"-"+t:t};function ut(e){var t={};for(var n in e){t[0===n.indexOf("--")?n:ot(n)]=e[n]}return e.fallbacks&&(Array.isArray(e.fallbacks)?t.fallbacks=e.fallbacks.map(ut):t.fallbacks=ut(e.fallbacks)),t}var st=function(){return{onProcessStyle:function(e){if(Array.isArray(e)){for(var t=0;t<e.length;t++)e[t]=ut(e[t]);return e}return ut(e)},onChangeValue:function(e,t,n){if(0===t.indexOf("--"))return e;var r=ot(t);return t===r?e:(n.prop(r,e),null)}}},ct=Pe&&CSS?CSS.px:"px",lt=Pe&&CSS?CSS.ms:"ms",ft=Pe&&CSS?CSS.percent:"%";function ht(e){var t=/(-[a-z])/g,n=function(e){return e[1].toUpperCase()},r={};for(var i in e)r[i]=e[i],r[i.replace(t,n)]=e[i];return r}var dt=ht({"animation-delay":lt,"animation-duration":lt,"background-position":ct,"background-position-x":ct,"background-position-y":ct,"background-size":ct,border:ct,"border-bottom":ct,"border-bottom-left-radius":ct,"border-bottom-right-radius":ct,"border-bottom-width":ct,"border-left":ct,"border-left-width":ct,"border-radius":ct,"border-right":ct,"border-right-width":ct,"border-top":ct,"border-top-left-radius":ct,"border-top-right-radius":ct,"border-top-width":ct,"border-width":ct,"border-block":ct,"border-block-end":ct,"border-block-end-width":ct,"border-block-start":ct,"border-block-start-width":ct,"border-block-width":ct,"border-inline":ct,"border-inline-end":ct,"border-inline-end-width":ct,"border-inline-start":ct,"border-inline-start-width":ct,"border-inline-width":ct,"border-start-start-radius":ct,"border-start-end-radius":ct,"border-end-start-radius":ct,"border-end-end-radius":ct,margin:ct,"margin-bottom":ct,"margin-left":ct,"margin-right":ct,"margin-top":ct,"margin-block":ct,"margin-block-end":ct,"margin-block-start":ct,"margin-inline":ct,"margin-inline-end":ct,"margin-inline-start":ct,padding:ct,"padding-bottom":ct,"padding-left":ct,"padding-right":ct,"padding-top":ct,"padding-block":ct,"padding-block-end":ct,"padding-block-start":ct,"padding-inline":ct,"padding-inline-end":ct,"padding-inline-start":ct,"mask-position-x":ct,"mask-position-y":ct,"mask-size":ct,height:ct,width:ct,"min-height":ct,"max-height":ct,"min-width":ct,"max-width":ct,bottom:ct,left:ct,top:ct,right:ct,inset:ct,"inset-block":ct,"inset-block-end":ct,"inset-block-start":ct,"inset-inline":ct,"inset-inline-end":ct,"inset-inline-start":ct,"box-shadow":ct,"text-shadow":ct,"column-gap":ct,"column-rule":ct,"column-rule-width":ct,"column-width":ct,"font-size":ct,"font-size-delta":ct,"letter-spacing":ct,"text-decoration-thickness":ct,"text-indent":ct,"text-stroke":ct,"text-stroke-width":ct,"word-spacing":ct,motion:ct,"motion-offset":ct,outline:ct,"outline-offset":ct,"outline-width":ct,perspective:ct,"perspective-origin-x":ft,"perspective-origin-y":ft,"transform-origin":ft,"transform-origin-x":ft,"transform-origin-y":ft,"transform-origin-z":ft,"transition-delay":lt,"transition-duration":lt,"vertical-align":ct,"flex-basis":ct,"shape-margin":ct,size:ct,gap:ct,grid:ct,"grid-gap":ct,"row-gap":ct,"grid-row-gap":ct,"grid-column-gap":ct,"grid-template-rows":ct,"grid-template-columns":ct,"grid-auto-rows":ct,"grid-auto-columns":ct,"box-shadow-x":ct,"box-shadow-y":ct,"box-shadow-blur":ct,"box-shadow-spread":ct,"font-line-height":ct,"text-shadow-x":ct,"text-shadow-y":ct,"text-shadow-blur":ct});function pt(e,t,n){if(null==t)return t;if(Array.isArray(t))for(var r=0;r<t.length;r++)t[r]=pt(e,t[r],n);else if("object"===typeof t)if("fallbacks"===e)for(var i in t)t[i]=pt(i,t[i],n);else for(var a in t)t[a]=pt(e+"-"+a,t[a],n);else if("number"===typeof t&&!1===isNaN(t)){var o=n[e]||dt[e];return!o||0===t&&o===ct?t.toString():"function"===typeof o?o(t).toString():""+t+o}return t}var vt=function(e){void 0===e&&(e={});var t=ht(e);return{onProcessStyle:function(e,n){if("style"!==n.type)return e;for(var r in e)e[r]=pt(r,e[r],t);return e},onChangeValue:function(e,n){return pt(n,e,t)}}};function yt(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function mt(e){return function(e){if(Array.isArray(e))return a(e)}(e)||yt(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var gt="",kt="",bt="",wt="",xt=m&&"ontouchstart"in document.documentElement;if(m){var It={Moz:"-moz-",ms:"-ms-",O:"-o-",Webkit:"-webkit-"},St=document.createElement("p").style;for(var Et in It)if(Et+"Transform"in St){gt=Et,kt=It[Et];break}"Webkit"===gt&&"msHyphens"in St&&(gt="ms",kt=It.ms,wt="edge"),"Webkit"===gt&&"-apple-trailing-word"in St&&(bt="apple")}var _t=gt,Tt=kt,Ct=bt,At=wt,Nt=xt;var Rt={noPrefill:["appearance"],supportedProperty:function(e){return"appearance"===e&&("ms"===_t?"-webkit-"+e:Tt+e)}},Pt={noPrefill:["color-adjust"],supportedProperty:function(e){return"color-adjust"===e&&("Webkit"===_t?Tt+"print-"+e:e)}},Dt=/[-\s]+(.)?/g;function Ot(e,t){return t?t.toUpperCase():""}function Lt(e){return e.replace(Dt,Ot)}function Mt(e){return Lt("-"+e)}var Ft,Vt={noPrefill:["mask"],supportedProperty:function(e,t){if(!/^mask/.test(e))return!1;if("Webkit"===_t){var n="mask-image";if(Lt(n)in t)return e;if(_t+Mt(n)in t)return Tt+e}return e}},Ut={noPrefill:["text-orientation"],supportedProperty:function(e){return"text-orientation"===e&&("apple"!==Ct||Nt?e:Tt+e)}},jt={noPrefill:["transform"],supportedProperty:function(e,t,n){return"transform"===e&&(n.transform?e:Tt+e)}},Bt={noPrefill:["transition"],supportedProperty:function(e,t,n){return"transition"===e&&(n.transition?e:Tt+e)}},zt={noPrefill:["writing-mode"],supportedProperty:function(e){return"writing-mode"===e&&("Webkit"===_t||"ms"===_t&&"edge"!==At?Tt+e:e)}},qt={noPrefill:["user-select"],supportedProperty:function(e){return"user-select"===e&&("Moz"===_t||"ms"===_t||"apple"===Ct?Tt+e:e)}},Wt={supportedProperty:function(e,t){return!!/^break-/.test(e)&&("Webkit"===_t?"WebkitColumn"+Mt(e)in t&&Tt+"column-"+e:"Moz"===_t&&("page"+Mt(e)in t&&"page-"+e))}},Kt={supportedProperty:function(e,t){if(!/^(border|margin|padding)-inline/.test(e))return!1;if("Moz"===_t)return e;var n=e.replace("-inline","");return _t+Mt(n)in t&&Tt+n}},Gt={supportedProperty:function(e,t){return Lt(e)in t&&e}},Ht={supportedProperty:function(e,t){var n=Mt(e);return"-"===e[0]||"-"===e[0]&&"-"===e[1]?e:_t+n in t?Tt+e:"Webkit"!==_t&&"Webkit"+n in t&&"-webkit-"+e}},Qt={supportedProperty:function(e){return"scroll-snap"===e.substring(0,11)&&("ms"===_t?""+Tt+e:e)}},Yt={supportedProperty:function(e){return"overscroll-behavior"===e&&("ms"===_t?Tt+"scroll-chaining":e)}},Xt={"flex-grow":"flex-positive","flex-shrink":"flex-negative","flex-basis":"flex-preferred-size","justify-content":"flex-pack",order:"flex-order","align-items":"flex-align","align-content":"flex-line-pack"},Jt={supportedProperty:function(e,t){var n=Xt[e];return!!n&&(_t+Mt(n)in t&&Tt+n)}},Zt={flex:"box-flex","flex-grow":"box-flex","flex-direction":["box-orient","box-direction"],order:"box-ordinal-group","align-items":"box-align","flex-flow":["box-orient","box-direction"],"justify-content":"box-pack"},$t=Object.keys(Zt),en=function(e){return Tt+e},tn={supportedProperty:function(e,t,n){var r=n.multiple;if($t.indexOf(e)>-1){var i=Zt[e];if(!Array.isArray(i))return _t+Mt(i)in t&&Tt+i;if(!r)return!1;for(var a=0;a<i.length;a++)if(!(_t+Mt(i[0])in t))return!1;return i.map(en)}return!1}},nn=[Rt,Pt,Vt,Ut,jt,Bt,zt,qt,Wt,Kt,Gt,Ht,Qt,Yt,Jt,tn],rn=nn.filter((function(e){return e.supportedProperty})).map((function(e){return e.supportedProperty})),an=nn.filter((function(e){return e.noPrefill})).reduce((function(e,t){return e.push.apply(e,mt(t.noPrefill)),e}),[]),on={};if(m){Ft=document.createElement("p");var un=window.getComputedStyle(document.documentElement,"");for(var sn in un)isNaN(sn)||(on[un[sn]]=un[sn]);an.forEach((function(e){return delete on[e]}))}function cn(e,t){if(void 0===t&&(t={}),!Ft)return e;if(null!=on[e])return on[e];"transition"!==e&&"transform"!==e||(t[e]=e in Ft.style);for(var n=0;n<rn.length&&(on[e]=rn[n](e,Ft.style,t),!on[e]);n++);try{Ft.style[e]=""}catch(r){return!1}return on[e]}var ln,fn={},hn={transition:1,"transition-property":1,"-webkit-transition":1,"-webkit-transition-property":1},dn=/(^\s*[\w-]+)|, (\s*[\w-]+)(?![^()]*\))/g;function pn(e,t,n){if("var"===t)return"var";if("all"===t)return"all";if("all"===n)return", all";var r=t?cn(t):", "+cn(n);return r||(t||n)}function vn(e,t){var n=t;if(!ln||"content"===e)return t;if("string"!==typeof n||!isNaN(parseInt(n,10)))return n;var r=e+n;if(null!=fn[r])return fn[r];try{ln.style[e]=n}catch(i){return fn[r]=!1,!1}if(hn[e])n=n.replace(dn,pn);else if(""===ln.style[e]&&("-ms-flex"===(n=Tt+n)&&(ln.style[e]="-ms-flexbox"),ln.style[e]=n,""===ln.style[e]))return fn[r]=!1,!1;return ln.style[e]="",fn[r]=n,fn[r]}m&&(ln=document.createElement("p"));var yn=function(){function e(t){for(var n in t){var r=t[n];if("fallbacks"===n&&Array.isArray(r))t[n]=r.map(e);else{var i=!1,a=cn(n);a&&a!==n&&(i=!0);var o=!1,u=vn(a,T(r));u&&u!==r&&(o=!0),(i||o)&&(i&&delete t[n],t[a||n]=u||r)}}return t}return{onProcessRule:function(e){if("keyframes"===e.type){var t=e;t.at=function(e){return"-"===e[1]||"ms"===_t?e:"@"+Tt+"keyframes"+e.substr(10)}(t.at)}},onProcessStyle:function(t,n){return"style"!==n.type?t:e(t)},onChangeValue:function(e,t){return vn(t,T(e))||e}}};var mn=function(){var e=function(e,t){return e.length===t.length?e>t?1:-1:e.length-t.length};return{onProcessStyle:function(t,n){if("style"!==n.type)return t;for(var r={},i=Object.keys(t).sort(e),a=0;a<i.length;a++)r[i[a]]=t[i[a]];return r}}};var gn=Re({plugins:[We(),Je(),tt(),st(),vt(),"undefined"===typeof window?null:yn(),mn()]}),kn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.disableGlobal,n=void 0!==t&&t,r=e.productionPrefix,i=void 0===r?"jss":r,a=e.seed,o=void 0===a?"":a,u=""===o?"":"".concat(o,"-"),s=0,c=function(){return s+=1};return function(e,t){var r=t.options.name;if(r&&0===r.indexOf("Mui")&&!t.options.link&&!n){if(-1!==je.indexOf(e.key))return"Mui-".concat(e.key);var a="".concat(u).concat(r,"-").concat(e.key);return t.options.theme[Ue]&&""===o?"".concat(a,"-").concat(c()):a}return"".concat(u).concat(i).concat(c())}}(),bn={disableGeneration:!1,generateClassName:kn,jss:gn,sheetsCache:null,sheetsManager:new Map,sheetsRegistry:null},wn=t.createContext(bn);var xn=-1e9;function In(){return xn+=1}function Sn(e){return Sn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sn(e)}function En(e){return e&&"object"===Sn(e)&&e.constructor===Object}function _n(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0},r=n.clone?c({},e):e;return En(e)&&En(t)&&Object.keys(t).forEach((function(i){"__proto__"!==i&&(En(t[i])&&i in e?r[i]=_n(e[i],t[i],n):r[i]=t[i])})),r}function Tn(e){var t="function"===typeof e;return{create:function(n,r){var i;try{i=t?e(n):e}catch(u){throw u}if(!r||!n.overrides||!n.overrides[r])return i;var a=n.overrides[r],o=c({},i);return Object.keys(a).forEach((function(e){o[e]=_n(o[e],a[e])})),o},options:{}}}var Cn={};function An(e,t,n){var r=e.state;if(e.stylesOptions.disableGeneration)return t||{};r.cacheClasses||(r.cacheClasses={value:null,lastProp:null,lastJSS:{}});var i=!1;return r.classes!==r.cacheClasses.lastJSS&&(r.cacheClasses.lastJSS=r.classes,i=!0),t!==r.cacheClasses.lastProp&&(r.cacheClasses.lastProp=t,i=!0),i&&(r.cacheClasses.value=Oe({baseClasses:r.cacheClasses.lastJSS,newClasses:t,Component:n})),r.cacheClasses.value}function Nn(e,t){var n=e.state,r=e.theme,i=e.stylesOptions,a=e.stylesCreator,o=e.name;if(!i.disableGeneration){var u=Me.get(i.sheetsManager,a,r);u||(u={refs:0,staticSheet:null,dynamicStyles:null},Me.set(i.sheetsManager,a,r,u));var s=c({},a.options,i,{theme:r,flip:"boolean"===typeof i.flip?i.flip:"rtl"===r.direction});s.generateId=s.serverGenerateClassName||s.generateClassName;var l=i.sheetsRegistry;if(0===u.refs){var f;i.sheetsCache&&(f=Me.get(i.sheetsCache,a,r));var h=a.create(r,o);f||((f=i.jss.createStyleSheet(h,c({link:!1},s))).attach(),i.sheetsCache&&Me.set(i.sheetsCache,a,r,f)),l&&l.add(f),u.staticSheet=f,u.dynamicStyles=De(h)}if(u.dynamicStyles){var d=i.jss.createStyleSheet(u.dynamicStyles,c({link:!0},s));d.update(t),d.attach(),n.dynamicSheet=d,n.classes=Oe({baseClasses:u.staticSheet.classes,newClasses:d.classes}),l&&l.add(d)}else n.classes=u.staticSheet.classes;u.refs+=1}}function Rn(e,t){var n=e.state;n.dynamicSheet&&n.dynamicSheet.update(t)}function Pn(e){var t=e.state,n=e.theme,r=e.stylesOptions,i=e.stylesCreator;if(!r.disableGeneration){var a=Me.get(r.sheetsManager,i,n);a.refs-=1;var o=r.sheetsRegistry;0===a.refs&&(Me.delete(r.sheetsManager,i,n),r.jss.removeStyleSheet(a.staticSheet),o&&o.remove(a.staticSheet)),t.dynamicSheet&&(r.jss.removeStyleSheet(t.dynamicSheet),o&&o.remove(t.dynamicSheet))}}function Dn(e,n){var r,i=t.useRef([]),a=t.useMemo((function(){return{}}),n);i.current!==a&&(i.current=a,r=e()),t.useEffect((function(){return function(){r&&r()}}),[a])}function On(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.name,i=n.classNamePrefix,a=n.Component,o=n.defaultTheme,u=void 0===o?Cn:o,s=f(n,["name","classNamePrefix","Component","defaultTheme"]),l=Tn(e),h=r||i||"makeStyles";l.options={index:In(),name:r,meta:h,classNamePrefix:h};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ve()||u,i=c({},t.useContext(wn),s),o=t.useRef(),f=t.useRef();Dn((function(){var t={name:r,state:{},stylesCreator:l,stylesOptions:i,theme:n};return Nn(t,e),f.current=!1,o.current=t,function(){Pn(t)}}),[n,l]),t.useEffect((function(){f.current&&Rn(o.current,e),f.current=!0}));var h=An(o.current,e.classes,a);return h};return d}function Ln(e){var t=e.theme,n=e.name,r=e.props;if(!t||!t.props||!t.props[n])return r;var i,a=t.props[n];for(i in a)void 0===r[i]&&(r[i]=a[i]);return r}var Mn=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(r){var i=n.defaultTheme,a=n.withTheme,o=void 0!==a&&a,u=n.name,s=f(n,["defaultTheme","withTheme","name"]);var l=u,h=On(e,c({defaultTheme:i,Component:r,name:u||r.displayName,classNamePrefix:l},s)),d=t.forwardRef((function(e,n){e.classes;var a,s=e.innerRef,l=f(e,["classes","innerRef"]),d=h(c({},r.defaultProps,e)),p=l;return("string"===typeof u||o)&&(a=Ve()||i,u&&(p=Ln({theme:a,name:u,props:l})),o&&!p.theme&&(p.theme=a)),t.createElement(r,c({ref:s||n,classes:d},p))}));return v()(d,r),d}},Fn=["xs","sm","md","lg","xl"];function Vn(e){var t=e.values,n=void 0===t?{xs:0,sm:600,md:960,lg:1280,xl:1920}:t,r=e.unit,i=void 0===r?"px":r,a=e.step,o=void 0===a?5:a,u=f(e,["values","unit","step"]);function s(e){var t="number"===typeof n[e]?n[e]:e;return"@media (min-width:".concat(t).concat(i,")")}function l(e,t){var r=Fn.indexOf(t);return r===Fn.length-1?s(e):"@media (min-width:".concat("number"===typeof n[e]?n[e]:e).concat(i,") and ")+"(max-width:".concat((-1!==r&&"number"===typeof n[Fn[r+1]]?n[Fn[r+1]]:t)-o/100).concat(i,")")}return c({keys:Fn,values:n,up:s,down:function(e){var t=Fn.indexOf(e)+1,r=n[Fn[t]];return t===Fn.length?s("xs"):"@media (max-width:".concat(("number"===typeof r&&t>0?r:e)-o/100).concat(i,")")},between:l,only:function(e){return l(e,e)},width:function(e){return n[e]}},u)}function Un(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jn(e,t,n){var r;return c({gutters:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return console.warn(["Material-UI: theme.mixins.gutters() is deprecated.","You can use the source of the mixin directly:","\n      paddingLeft: theme.spacing(2),\n      paddingRight: theme.spacing(2),\n      [theme.breakpoints.up('sm')]: {\n        paddingLeft: theme.spacing(3),\n        paddingRight: theme.spacing(3),\n      },\n      "].join("\n")),c({paddingLeft:t(2),paddingRight:t(2)},n,Un({},e.up("sm"),c({paddingLeft:t(3),paddingRight:t(3)},n[e.up("sm")])))},toolbar:(r={minHeight:56},Un(r,"".concat(e.up("xs")," and (orientation: landscape)"),{minHeight:48}),Un(r,e.up("sm"),{minHeight:64}),r)},n)}function Bn(e){for(var t="https://mui.com/production-error/?code="+e,n=1;n<arguments.length;n+=1)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified Material-UI error #"+e+"; visit "+t+" for the full message."}var zn={black:"#000",white:"#fff"},qn={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#d5d5d5",A200:"#aaaaaa",A400:"#303030",A700:"#616161"},Wn={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},Kn={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},Gn={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Hn={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Qn={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Yn={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"};function Xn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return Math.min(Math.max(t,e),n)}function Jn(e){if(e.type)return e;if("#"===e.charAt(0))return Jn(function(e){e=e.substr(1);var t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g"),n=e.match(t);return n&&1===n[0].length&&(n=n.map((function(e){return e+e}))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map((function(e,t){return t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3})).join(", "),")"):""}(e));var t=e.indexOf("("),n=e.substring(0,t);if(-1===["rgb","rgba","hsl","hsla"].indexOf(n))throw new Error(Bn(3,e));var r=e.substring(t+1,e.length-1).split(",");return{type:n,values:r=r.map((function(e){return parseFloat(e)}))}}function Zn(e){var t=e.type,n=e.values;return-1!==t.indexOf("rgb")?n=n.map((function(e,t){return t<3?parseInt(e,10):e})):-1!==t.indexOf("hsl")&&(n[1]="".concat(n[1],"%"),n[2]="".concat(n[2],"%")),"".concat(t,"(").concat(n.join(", "),")")}function $n(e){var t="hsl"===(e=Jn(e)).type?Jn(function(e){var t=(e=Jn(e)).values,n=t[0],r=t[1]/100,i=t[2]/100,a=r*Math.min(i,1-i),o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-a*Math.max(Math.min(t-3,9-t,1),-1)},u="rgb",s=[Math.round(255*o(0)),Math.round(255*o(8)),Math.round(255*o(4))];return"hsla"===e.type&&(u+="a",s.push(t[3])),Zn({type:u,values:s})}(e)).values:e.values;return t=t.map((function(e){return(e/=255)<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4)})),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function er(e,t){return e=Jn(e),t=Xn(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),e.values[3]=t,Zn(e)}function tr(e,t){if(e=Jn(e),t=Xn(t),-1!==e.type.indexOf("hsl"))e.values[2]*=1-t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]*=1-t;return Zn(e)}function nr(e,t){if(e=Jn(e),t=Xn(t),-1!==e.type.indexOf("hsl"))e.values[2]+=(100-e.values[2])*t;else if(-1!==e.type.indexOf("rgb"))for(var n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;return Zn(e)}var rr={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",hint:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:zn.white,default:qn[50]},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},ir={text:{primary:zn.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",hint:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:qn[800],default:"#303030"},action:{active:zn.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function ar(e,t,n,r){var i=r.light||r,a=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=nr(e.main,i):"dark"===t&&(e.dark=tr(e.main,a)))}function or(e){var t=e.primary,n=void 0===t?{light:Wn[300],main:Wn[500],dark:Wn[700]}:t,r=e.secondary,i=void 0===r?{light:Kn.A200,main:Kn.A400,dark:Kn.A700}:r,a=e.error,o=void 0===a?{light:Gn[300],main:Gn[500],dark:Gn[700]}:a,u=e.warning,s=void 0===u?{light:Hn[300],main:Hn[500],dark:Hn[700]}:u,l=e.info,h=void 0===l?{light:Qn[300],main:Qn[500],dark:Qn[700]}:l,d=e.success,p=void 0===d?{light:Yn[300],main:Yn[500],dark:Yn[700]}:d,v=e.type,y=void 0===v?"light":v,m=e.contrastThreshold,g=void 0===m?3:m,k=e.tonalOffset,b=void 0===k?.2:k,w=f(e,["primary","secondary","error","warning","info","success","type","contrastThreshold","tonalOffset"]);function x(e){var t=function(e,t){var n=$n(e),r=$n(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ir.text.primary)>=g?ir.text.primary:rr.text.primary;return t}var I=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:700;if(!(e=c({},e)).main&&e[t]&&(e.main=e[t]),!e.main)throw new Error(Bn(4,t));if("string"!==typeof e.main)throw new Error(Bn(5,JSON.stringify(e.main)));return ar(e,"light",n,b),ar(e,"dark",r,b),e.contrastText||(e.contrastText=x(e.main)),e},S={dark:ir,light:rr};return _n(c({common:zn,type:y,primary:I(n),secondary:I(i,"A400","A200","A700"),error:I(o),warning:I(s),info:I(h),success:I(p),grey:qn,contrastThreshold:g,getContrastText:x,augmentColor:I,tonalOffset:b},S[y]),w)}function ur(e){return Math.round(1e5*e)/1e5}function sr(e){return ur(e)}var cr={textTransform:"uppercase"},lr='"Roboto", "Helvetica", "Arial", sans-serif';function fr(e,t){var n="function"===typeof t?t(e):t,r=n.fontFamily,i=void 0===r?lr:r,a=n.fontSize,o=void 0===a?14:a,u=n.fontWeightLight,s=void 0===u?300:u,l=n.fontWeightRegular,h=void 0===l?400:l,d=n.fontWeightMedium,p=void 0===d?500:d,v=n.fontWeightBold,y=void 0===v?700:v,m=n.htmlFontSize,g=void 0===m?16:m,k=n.allVariants,b=n.pxToRem,w=f(n,["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"]);var x=o/14,I=b||function(e){return"".concat(e/g*x,"rem")},S=function(e,t,n,r,a){return c({fontFamily:i,fontWeight:e,fontSize:I(t),lineHeight:n},i===lr?{letterSpacing:"".concat(ur(r/t),"em")}:{},a,k)},E={h1:S(s,96,1.167,-1.5),h2:S(s,60,1.2,-.5),h3:S(h,48,1.167,0),h4:S(h,34,1.235,.25),h5:S(h,24,1.334,0),h6:S(p,20,1.6,.15),subtitle1:S(h,16,1.75,.15),subtitle2:S(p,14,1.57,.1),body1:S(h,16,1.5,.15),body2:S(h,14,1.43,.15),button:S(p,14,1.75,.4,cr),caption:S(h,12,1.66,.4),overline:S(h,12,2.66,1,cr)};return _n(c({htmlFontSize:g,pxToRem:I,round:sr,fontFamily:i,fontSize:o,fontWeightLight:s,fontWeightRegular:h,fontWeightMedium:p,fontWeightBold:y},E),w,{clone:!1})}function hr(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}var dr=["none",hr(0,2,1,-1,0,1,1,0,0,1,3,0),hr(0,3,1,-2,0,2,2,0,0,1,5,0),hr(0,3,3,-2,0,3,4,0,0,1,8,0),hr(0,2,4,-1,0,4,5,0,0,1,10,0),hr(0,3,5,-1,0,5,8,0,0,1,14,0),hr(0,3,5,-1,0,6,10,0,0,1,18,0),hr(0,4,5,-2,0,7,10,1,0,2,16,1),hr(0,5,5,-3,0,8,10,1,0,3,14,2),hr(0,5,6,-3,0,9,12,1,0,3,16,2),hr(0,6,6,-3,0,10,14,1,0,4,18,3),hr(0,6,7,-4,0,11,15,1,0,4,20,3),hr(0,7,8,-4,0,12,17,2,0,5,22,4),hr(0,7,8,-4,0,13,19,2,0,5,24,4),hr(0,7,9,-4,0,14,21,2,0,5,26,4),hr(0,8,9,-5,0,15,22,2,0,6,28,5),hr(0,8,10,-5,0,16,24,2,0,6,30,5),hr(0,8,11,-5,0,17,26,2,0,6,32,5),hr(0,9,11,-5,0,18,28,2,0,7,34,6),hr(0,9,12,-6,0,19,29,2,0,7,36,6),hr(0,10,13,-6,0,20,31,3,0,8,38,7),hr(0,10,13,-6,0,21,33,3,0,8,40,7),hr(0,10,14,-6,0,22,35,3,0,8,42,7),hr(0,11,14,-7,0,23,36,3,0,9,44,8),hr(0,11,15,-7,0,24,38,3,0,9,46,8)],pr={borderRadius:4},vr={xs:0,sm:600,md:960,lg:1280,xl:1920},yr={keys:["xs","sm","md","lg","xl"],up:function(e){return"@media (min-width:".concat(vr[e],"px)")}};var mr=function(e,t){return t?_n(e,t,{clone:!1}):e};var gr={m:"margin",p:"padding"},kr={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},br={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},wr=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}((function(e){if(e.length>2){if(!br[e])return[e];e=br[e]}var t=s(e.split(""),2),n=t[0],r=t[1],i=gr[n],a=kr[r]||"";return Array.isArray(a)?a.map((function(e){return i+e})):[i+a]})),xr=["m","mt","mr","mb","ml","mx","my","p","pt","pr","pb","pl","px","py","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY"];function Ir(e){var t=e.spacing||8;return"number"===typeof t?function(e){return t*e}:Array.isArray(t)?function(e){return t[e]}:"function"===typeof t?t:function(){}}function Sr(e,t){return function(n){return e.reduce((function(e,r){return e[r]=function(e,t){if("string"===typeof t||null==t)return t;var n=e(Math.abs(t));return t>=0?n:"number"===typeof n?-n:"-".concat(n)}(t,n),e}),{})}}function Er(e){var t=Ir(e.theme);return Object.keys(e).map((function(n){if(-1===xr.indexOf(n))return null;var r=Sr(wr(n),t),i=e[n];return function(e,t,n){if(Array.isArray(t)){var r=e.theme.breakpoints||yr;return t.reduce((function(e,i,a){return e[r.up(r.keys[a])]=n(t[a]),e}),{})}if("object"===Sn(t)){var i=e.theme.breakpoints||yr;return Object.keys(t).reduce((function(e,r){return e[i.up(r)]=n(t[r]),e}),{})}return n(t)}(e,i,r)})).reduce(mr,{})}Er.propTypes={},Er.filterProps=xr;function _r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8;if(e.mui)return e;var t=Ir({spacing:e}),n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 0===n.length?t(1):1===n.length?t(n[0]):n.map((function(e){if("string"===typeof e)return e;var n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return Object.defineProperty(n,"unit",{get:function(){return e}}),n.mui=!0,n}var Tr={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Cr={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function Ar(e){return"".concat(Math.round(e),"ms")}var Nr={easing:Tr,duration:Cr,create:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.duration,r=void 0===n?Cr.standard:n,i=t.easing,a=void 0===i?Tr.easeInOut:i,o=t.delay,u=void 0===o?0:o;f(t,["duration","easing","delay"]);return(Array.isArray(e)?e:[e]).map((function(e){return"".concat(e," ").concat("string"===typeof r?r:Ar(r)," ").concat(a," ").concat("string"===typeof u?u:Ar(u))})).join(",")},getAutoHeightDuration:function(e){if(!e)return 0;var t=e/36;return Math.round(10*(4+15*Math.pow(t,.25)+t/5))}},Rr={mobileStepper:1e3,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function Pr(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.breakpoints,n=void 0===t?{}:t,r=e.mixins,i=void 0===r?{}:r,a=e.palette,o=void 0===a?{}:a,u=e.spacing,s=e.typography,c=void 0===s?{}:s,l=f(e,["breakpoints","mixins","palette","spacing","typography"]),h=or(o),d=Vn(n),p=_r(u),v=_n({breakpoints:d,direction:"ltr",mixins:jn(d,p,i),overrides:{},palette:h,props:{},shadows:dr,typography:fr(h,c),spacing:p,shape:pr,transitions:Nr,zIndex:Rr},l),y=arguments.length,m=new Array(y>1?y-1:0),g=1;g<y;g++)m[g-1]=arguments[g];return v=m.reduce((function(e,t){return _n(e,t)}),v)}var Dr=Pr();var Or=function(e,t){return Mn(e,c({defaultTheme:Dr},t))};function Lr(e){if("string"!==typeof e)throw new Error(Bn(7));return e.charAt(0).toUpperCase()+e.slice(1)}var Mr=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,u=void 0===o?"inherit":o,s=e.component,l=void 0===s?"svg":s,h=e.fontSize,p=void 0===h?"medium":h,v=e.htmlColor,y=e.titleAccess,m=e.viewBox,g=void 0===m?"0 0 24 24":m,k=f(e,["children","classes","className","color","component","fontSize","htmlColor","titleAccess","viewBox"]);return t.createElement(l,c({className:d(i.root,a,"inherit"!==u&&i["color".concat(Lr(u))],"default"!==p&&"medium"!==p&&i["fontSize".concat(Lr(p))]),focusable:"false",viewBox:g,color:v,"aria-hidden":!y||void 0,role:y?"img":void 0,ref:n},k),r,y?t.createElement("title",null,y):null)}));Mr.muiName="SvgIcon";var Fr=Or((function(e){return{root:{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,fontSize:e.typography.pxToRem(24),transition:e.transitions.create("fill",{duration:e.transitions.duration.shorter})},colorPrimary:{color:e.palette.primary.main},colorSecondary:{color:e.palette.secondary.main},colorAction:{color:e.palette.action.active},colorError:{color:e.palette.error.main},colorDisabled:{color:e.palette.action.disabled},fontSizeInherit:{fontSize:"inherit"},fontSizeSmall:{fontSize:e.typography.pxToRem(20)},fontSizeLarge:{fontSize:e.typography.pxToRem(35)}}}),{name:"MuiSvgIcon"})(Mr);function Vr(e,n){var r=function(n,r){return t.createElement(Fr,c({ref:r},n),e)};return r.muiName=Fr.muiName,t.memo(t.forwardRef(r))}var Ur=Vr(t.createElement("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));var jr=t.forwardRef((function(e,n){var r=e.alt,i=e.children,a=e.classes,o=e.className,u=e.component,s=void 0===u?"div":u,l=e.imgProps,h=e.sizes,p=e.src,v=e.srcSet,y=e.variant,m=void 0===y?"circular":y,g=f(e,["alt","children","classes","className","component","imgProps","sizes","src","srcSet","variant"]),k=null,b=function(e){var n=e.src,r=e.srcSet,i=t.useState(!1),a=i[0],o=i[1];return t.useEffect((function(){if(n||r){o(!1);var e=!0,t=new Image;return t.src=n,t.srcSet=r,t.onload=function(){e&&o("loaded")},t.onerror=function(){e&&o("error")},function(){e=!1}}}),[n,r]),a}({src:p,srcSet:v}),w=p||v,x=w&&"error"!==b;return k=x?t.createElement("img",c({alt:r,src:p,srcSet:v,sizes:h,className:a.img},l)):null!=i?i:w&&r?r[0]:t.createElement(Ur,{className:a.fallback}),t.createElement(s,c({className:d(a.root,a.system,a[m],o,!x&&a.colorDefault),ref:n},g),k)})),Br=Or((function(e){return{root:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},colorDefault:{color:e.palette.background.default,backgroundColor:"light"===e.palette.type?e.palette.grey[400]:e.palette.grey[600]},circle:{},circular:{},rounded:{borderRadius:e.shape.borderRadius},square:{borderRadius:0},img:{width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4},fallback:{width:"75%",height:"75%"}}}),{name:"MuiAvatar"})(jr),zr=n(184),qr=(0,t.createContext)(),Wr=function(e){var n=e.reducer,r=e.initialState,i=e.children;return(0,zr.jsx)(qr.Provider,{value:(0,t.useReducer)(n,r),children:i})},Kr=function(){return(0,t.useContext)(qr)};var Gr=function(){var e=s(Kr(),2),t=e[0].user;return e[1],(0,zr.jsxs)("div",{className:"header",children:[(0,zr.jsxs)("div",{className:"header_left",children:[(0,zr.jsx)("img",{src:n(221),alt:""}),(0,zr.jsx)("div",{className:"header_input",children:(0,zr.jsx)("img",{src:n(592),alt:""})})]}),(0,zr.jsx)("div",{className:"header_center",children:(0,zr.jsx)("div",{className:"header_option",children:(0,zr.jsx)("img",{src:n(828),alt:""})})}),(0,zr.jsx)("div",{className:"header_right",children:(0,zr.jsxs)("div",{className:"header_info",children:[(0,zr.jsx)(Br,{src:t.photoURL}),(0,zr.jsx)("h4",{children:t.displayName})]})})]})};var Hr=function(e){var t=e.src,n=e.Icon,r=e.title;return(0,zr.jsxs)("div",{className:"sidebarRow",children:[t&&(0,zr.jsx)(Br,{src:t}),n&&(0,zr.jsx)(n,{}),(0,zr.jsx)("h4",{children:r})]})},Qr=Vr(t.createElement("path",{d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6-1.41-1.41z"}));var Yr=function(){var e=s(Kr(),2),t=e[0].user;return e[1],(0,zr.jsxs)("div",{className:"sidebar",children:[(0,zr.jsx)(Hr,{src:t.photoURL,title:"Raise Your Voice"}),(0,zr.jsx)(Hr,{Icon:Qr,title:"Racism is prohibited"}),(0,zr.jsx)(Hr,{Icon:Qr,title:"Scamming is prohibited"}),(0,zr.jsx)(Hr,{Icon:Qr,title:"Use appropriate language"}),(0,zr.jsx)(Hr,{Icon:Qr,title:"Do not spam anything"}),(0,zr.jsx)(Hr,{Icon:Qr,title:"Do not impersonate"}),(0,zr.jsx)(Hr,{Icon:Qr,title:"No NSFW allowed"}),(0,zr.jsx)(Hr,{Icon:Qr,title:"Keep personal information to yourself"}),(0,zr.jsx)(Hr,{Icon:Qr,title:"Use appropriate conversation in appropriate channel"})]})};function Xr(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Jr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=o(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return u=e.done,e},e:function(e){s=!0,a=e},f:function(){try{u||null==n.return||n.return()}finally{if(s)throw a}}}}function Zr(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function $r(e){return $r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},$r(e)}function ei(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function ti(e,t){if(t&&("object"===Sn(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return x(e)}function ni(e){var t=ei();return function(){var n,r=$r(e);if(t){var i=$r(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ti(this,n)}}function ri(e,t,n){return ri=ei()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&b(i,n.prototype),i},ri.apply(null,arguments)}function ii(e){var t="function"===typeof Map?new Map:void 0;return ii=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return ri(e,arguments,$r(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),b(n,e)},ii(e)}var ai=n(757),oi=n.n(ai),ui=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},si={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(ui(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ci=function(e){return function(e){var t=ui(e);return si.encodeByteArray(t,!0)}(e).replace(/\./g,"")},li=function(e){try{return si.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function fi(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&hi(n)&&(e[n]=fi(e[n],t[n]));return e}function hi(e){return"__proto__"!==e}var di=function(){function e(){var t=this;Xr(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return k(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function pi(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ci(JSON.stringify({alg:"none",type:"JWT"})),ci(JSON.stringify(a)),""].join(".")}function vi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function yi(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(vi())}function mi(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function gi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function ki(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function bi(){var e=vi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function wi(){return"object"===typeof indexedDB}var xi=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(x(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(x(a),Ii.prototype.create),a}return k(n)}(ii(Error)),Ii=function(){function e(t,n,r){Xr(this,e),this.service=t,this.serviceName=n,this.errors=r}return k(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Si(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new xi(n,a,t);return o}}]),e}();function Si(e,t){return e.replace(Ei,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Ei=/\{\$([^}]+)}/g;function _i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ti(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Ci(u)&&Ci(s)){if(!Ti(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Ci(e){return null!==e&&"object"===typeof e}function Ai(e){for(var t=[],n=function(){var e=s(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Ni(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=s(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Ri(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function Pi(e,t){var n=new Di(e,t);return n.subscribe.bind(n)}var Di=function(){function e(t,n){var r=this;Xr(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return k(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=Jr(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Oi),void 0===r.error&&(r.error=Oi),void 0===r.complete&&(r.complete=Oi);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Oi(){}function Li(e){return e&&e._delegate?e._delegate:e}function Mi(e,t){return new Promise((function(n,r){e.onsuccess=function(e){n(e.target.result)},e.onerror=function(e){var n;r("".concat(t,": ").concat(null===(n=e.target.error)||void 0===n?void 0:n.message))}}))}var Fi=function(){function e(t){Xr(this,e),this._db=t,this.objectStoreNames=this._db.objectStoreNames}return k(e,[{key:"transaction",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"readonly";return new Vi(this._db.transaction.call(this._db,e,t))}},{key:"createObjectStore",value:function(e,t){return new Ui(this._db.createObjectStore(e,t))}},{key:"close",value:function(){this._db.close()}}]),e}(),Vi=function(){function e(t){var n=this;Xr(this,e),this._transaction=t,this.complete=new Promise((function(e,t){n._transaction.oncomplete=function(){e()},n._transaction.onerror=function(){t(n._transaction.error)},n._transaction.onabort=function(){t(n._transaction.error)}}))}return k(e,[{key:"objectStore",value:function(e){return new Ui(this._transaction.objectStore(e))}}]),e}(),Ui=function(){function e(t){Xr(this,e),this._store=t}return k(e,[{key:"index",value:function(e){return new ji(this._store.index(e))}},{key:"createIndex",value:function(e,t,n){return new ji(this._store.createIndex(e,t,n))}},{key:"get",value:function(e){return Mi(this._store.get(e),"Error reading from IndexedDB")}},{key:"put",value:function(e,t){return Mi(this._store.put(e,t),"Error writing to IndexedDB")}},{key:"delete",value:function(e){return Mi(this._store.delete(e),"Error deleting from IndexedDB")}},{key:"clear",value:function(){return Mi(this._store.clear(),"Error clearing IndexedDB object store")}}]),e}(),ji=function(){function e(t){Xr(this,e),this._index=t}return k(e,[{key:"get",value:function(e){return Mi(this._index.get(e),"Error reading from IndexedDB")}}]),e}();function Bi(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function zi(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Bi(a,r,i,o,u,"next",e)}function u(e){Bi(a,r,i,o,u,"throw",e)}o(void 0)}))}}var qi=function(){function e(t,n,r){Xr(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return k(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Wi="[DEFAULT]",Ki=function(){function e(t,n){Xr(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return k(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new di;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Wi})}catch(c){}var t,n=Jr(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=s(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(c){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=zi(ai.mark((function e(){var t;return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(mt(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),mt(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=Jr(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=s(i.value,2),c=u[0],l=u[1],f=this.normalizeInstanceIdentifier(c);r===f&&l.resolve(a)}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=Jr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(T_){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Wi?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(T_){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wi;return this.component?this.component.multipleInstances?e:Wi:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Gi,Hi,Qi=function(){function e(t){Xr(this,e),this.name=t,this.providers=new Map}return k(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ki(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Yi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Hi||(Hi={}));var Xi,Ji,Zi={debug:Hi.DEBUG,verbose:Hi.VERBOSE,info:Hi.INFO,warn:Hi.WARN,error:Hi.ERROR,silent:Hi.SILENT},$i=Hi.INFO,ea=(Un(Gi={},Hi.DEBUG,"log"),Un(Gi,Hi.VERBOSE,"log"),Un(Gi,Hi.INFO,"info"),Un(Gi,Hi.WARN,"warn"),Un(Gi,Hi.ERROR,"error"),Gi),ta=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=ea[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},na=function(){function e(t){Xr(this,e),this.name=t,this._logLevel=$i,this._logHandler=ta,this._userLogHandler=null,Yi.push(this)}return k(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Hi))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Zi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.DEBUG].concat(t)),this._logHandler.apply(this,[this,Hi.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Hi.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.INFO].concat(t)),this._logHandler.apply(this,[this,Hi.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.WARN].concat(t)),this._logHandler.apply(this,[this,Hi.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Hi.ERROR].concat(t)),this._logHandler.apply(this,[this,Hi.ERROR].concat(t))}}]),e}();var ra=function(){function e(t){Xr(this,e),this.container=t}return k(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ia="@firebase/app",aa="0.7.21",oa=new na("@firebase/app"),ua="[DEFAULT]",sa=(Un(Xi={},ia,"fire-core"),Un(Xi,"@firebase/app-compat","fire-core-compat"),Un(Xi,"@firebase/analytics","fire-analytics"),Un(Xi,"@firebase/analytics-compat","fire-analytics-compat"),Un(Xi,"@firebase/app-check","fire-app-check"),Un(Xi,"@firebase/app-check-compat","fire-app-check-compat"),Un(Xi,"@firebase/auth","fire-auth"),Un(Xi,"@firebase/auth-compat","fire-auth-compat"),Un(Xi,"@firebase/database","fire-rtdb"),Un(Xi,"@firebase/database-compat","fire-rtdb-compat"),Un(Xi,"@firebase/functions","fire-fn"),Un(Xi,"@firebase/functions-compat","fire-fn-compat"),Un(Xi,"@firebase/installations","fire-iid"),Un(Xi,"@firebase/installations-compat","fire-iid-compat"),Un(Xi,"@firebase/messaging","fire-fcm"),Un(Xi,"@firebase/messaging-compat","fire-fcm-compat"),Un(Xi,"@firebase/performance","fire-perf"),Un(Xi,"@firebase/performance-compat","fire-perf-compat"),Un(Xi,"@firebase/remote-config","fire-rc"),Un(Xi,"@firebase/remote-config-compat","fire-rc-compat"),Un(Xi,"@firebase/storage","fire-gcs"),Un(Xi,"@firebase/storage-compat","fire-gcs-compat"),Un(Xi,"@firebase/firestore","fire-fst"),Un(Xi,"@firebase/firestore-compat","fire-fst-compat"),Un(Xi,"fire-js","fire-js"),Un(Xi,"firebase","fire-js-all"),Xi),ca=new Map,la=new Map;function fa(e,t){try{e.container.addComponent(t)}catch(n){oa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ha(e,t){e.container.addOrOverwriteComponent(t)}function da(e){var t=e.name;if(la.has(t))return oa.debug("There were multiple attempts to register component ".concat(t,".")),!1;la.set(t,e);var n,r=Jr(ca.values());try{for(r.s();!(n=r.n()).done;){fa(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function pa(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function va(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ua;pa(e,t).clearInstance(n)}function ya(){la.clear()}var ma=(Un(Ji={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Un(Ji,"bad-app-name","Illegal App name: '{$appName}"),Un(Ji,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Un(Ji,"app-deleted","Firebase App named '{$appName}' already deleted"),Un(Ji,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Un(Ji,"invalid-log-argument","First argument to `onLog` must be null or a function."),Un(Ji,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Un(Ji,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Un(Ji,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Un(Ji,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),Ji),ga=new Ii("app","Firebase",ma),ka=function(){function e(t,n,r){var i=this;Xr(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qi("app",(function(){return i}),"PUBLIC"))}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ga.create("app-deleted",{appName:this._name})}}]),e}(),ba="9.6.11";function wa(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:ua,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ga.create("bad-app-name",{appName:String(i)});var a=ca.get(i);if(a){if(Ti(e,a.options)&&Ti(r,a.config))return a;throw ga.create("duplicate-app",{appName:i})}var o,u=new Qi(i),s=Jr(la.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new ka(e,r,u);return ca.set(i,l),l}function xa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ua,t=ca.get(e);if(!t)throw ga.create("no-app",{appName:e});return t}function Ia(){return Array.from(ca.values())}function Sa(e){return Ea.apply(this,arguments)}function Ea(){return Ea=zi(ai.mark((function e(t){var n;return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!ca.has(n)){e.next=6;break}return ca.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)}))),Ea.apply(this,arguments)}function _a(e,t,n){var r,i=null!==(r=sa[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void oa.warn(u.join(" "))}da(new qi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function Ta(e,t){if(null!==e&&"function"!==typeof e)throw ga.create("invalid-log-argument");!function(e,t){var n,r=Jr(Yi);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=Zi[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Hi[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ca(e){var t;t=e,Yi.forEach((function(e){e.setLogLevel(t)}))}var Aa="firebase-heartbeat-store",Na=null;function Ra(){var e,t,n;return Na||(Na=(e="firebase-heartbeat-database",t=1,n=function(e,t){0===t&&e.createObjectStore(Aa)},new Promise((function(r,i){try{var a=indexedDB.open(e,t);a.onsuccess=function(e){r(new Fi(e.target.result))},a.onerror=function(e){var t;i("Error opening indexedDB: ".concat(null===(t=e.target.error)||void 0===t?void 0:t.message))},a.onupgradeneeded=function(e){n(new Fi(a.result),e.oldVersion,e.newVersion,new Vi(a.transaction))}}catch(o){i("Error opening indexedDB: ".concat(o.message))}}))).catch((function(e){throw ga.create("storage-open",{originalErrorMessage:e.message})}))),Na}function Pa(e){return Da.apply(this,arguments)}function Da(){return Da=zi(ai.mark((function e(t){var n;return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ra();case 3:return n=e.sent,e.abrupt("return",n.transaction(Aa).objectStore(Aa).get(Ma(t)));case 7:throw e.prev=7,e.t0=e.catch(0),ga.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Da.apply(this,arguments)}function Oa(e,t){return La.apply(this,arguments)}function La(){return La=zi(ai.mark((function e(t,n){var r,i,a;return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Ra();case 3:return r=e.sent,i=r.transaction(Aa,"readwrite"),a=i.objectStore(Aa),e.next=8,a.put(n,Ma(t));case 8:return e.abrupt("return",i.complete);case 11:throw e.prev=11,e.t0=e.catch(0),ga.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),La.apply(this,arguments)}function Ma(e){return"".concat(e.name,"!").concat(e.options.appId)}var Fa=function(){function e(t){var n=this;Xr(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new za(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return k(e,[{key:"triggerHeartbeat",value:function(){var e=zi(ai.mark((function e(){var t,n,r;return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Va(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=zi(ai.mark((function e(){var t,n,r,i,a;return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Va(),n=Ua(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ci(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Va(){return(new Date).toISOString().substring(0,10)}function Ua(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=Jr(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),qa(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),qa(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var ja,Ba,za=function(){function e(t){Xr(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return k(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=zi(ai.mark((function e(){return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(wi()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=zi(ai.mark((function e(){var t;return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Pa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=zi(ai.mark((function e(t){var n,r;return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Oa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=zi(ai.mark((function e(t){var n,r;return ai.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Oa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(mt(r.heartbeats),mt(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function qa(e){return ci(JSON.stringify({version:2,heartbeats:e})).length}ja="",da(new qi("platform-logger",(function(e){return new ra(e)}),"PRIVATE")),da(new qi("heartbeat",(function(e){return new Fa(e)}),"PRIVATE")),_a(ia,aa,ja),_a(ia,aa,"esm2017"),_a("fire-js","");var Wa=function(){function e(t,n){var r=this;Xr(this,e),this._delegate=t,this.firebase=n,fa(t,new qi("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return k(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Sa(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ua;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){fa(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){ha(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),Ka=(Un(Ba={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Un(Ba,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Ba),Ga=new Ii("app-compat","Firebase",Ka);var Ha=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=wa(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(_i(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:_a,setLogLevel:Ca,onLog:Ta,apps:null,SDK_VERSION:ba,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(da(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw Ga.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&fi(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!_i(n,e=e||ua))throw Ga.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(Wa);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){fi(n,e)},createSubscribe:Pi,ErrorFactory:Ii,deepExtend:fi}),n}(),Qa=new na("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){Qa.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var Ya=self.firebase.SDK_VERSION;Ya&&Ya.indexOf("LITE")>=0&&Qa.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var Xa=Ha;!function(e){_a("@firebase/app-compat","0.1.22",e)}();function Ja(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=$r(e)););return e}function Za(){return Za="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=Ja(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},Za.apply(this,arguments)}Xa.registerVersion("firebase","9.6.11","app-compat");function $a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var eo;Object.create;var to="facebook.com",no="github.com",ro="google.com",io="password",ao="twitter.com",oo="EMAIL_SIGNIN",uo="PASSWORD_RESET",so="RECOVER_EMAIL",co="REVERT_SECOND_FACTOR_ADDITION",lo="VERIFY_AND_CHANGE_EMAIL",fo="VERIFY_EMAIL";function ho(){return Un({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var po=function(){var e;return Un(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Un(e,"argument-error",""),Un(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Un(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Un(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Un(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Un(e,"cordova-not-ready","Cordova framework is not ready."),Un(e,"cors-unsupported","This browser is not supported."),Un(e,"credential-already-in-use","This credential is already associated with a different user account."),Un(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Un(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Un(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Un(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Un(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Un(e,"email-already-in-use","The email address is already in use by another account."),Un(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Un(e,"expired-action-code","The action code has expired."),Un(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Un(e,"internal-error","An internal AuthError has occurred."),Un(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Un(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Un(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Un(e,"invalid-auth-event","An internal AuthError has occurred."),Un(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Un(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Un(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Un(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Un(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Un(e,"invalid-email","The email address is badly formatted."),Un(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Un(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Un(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Un(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Un(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Un(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Un(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Un(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Un(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Un(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Un(e,"wrong-password","The password is invalid or the user does not have a password."),Un(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Un(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Un(e,"invalid-provider-id","The specified provider ID is invalid."),Un(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Un(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Un(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Un(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Un(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Un(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Un(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Un(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Un(e,"missing-continue-uri","A continue URL must be provided in the request."),Un(e,"missing-iframe-start","An internal AuthError has occurred."),Un(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Un(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Un(e,"missing-multi-factor-info","No second factor identifier is provided."),Un(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Un(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Un(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Un(e,"app-deleted","This instance of FirebaseApp has been deleted."),Un(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Un(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Un(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Un(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Un(e,"no-auth-event","An internal AuthError has occurred."),Un(e,"no-such-provider","User was not linked to an account with the given provider."),Un(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Un(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Un(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Un(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Un(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Un(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Un(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Un(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Un(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Un(e,"rejected-credential","The request contains malformed or mismatching credentials."),Un(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Un(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Un(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Un(e,"timeout","The operation has timed out."),Un(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Un(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Un(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Un(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Un(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Un(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Un(e,"unverified-email","The operation requires a verified email."),Un(e,"user-cancelled","The user did not grant your application the permissions it requested."),Un(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Un(e,"user-disabled","The user account has been disabled by an administrator."),Un(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Un(e,"user-signed-out",""),Un(e,"weak-password","The password must be 6 characters long or more."),Un(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Un(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},vo=ho,yo=new Ii("auth","Firebase",ho()),mo=new na("@firebase/auth");function go(e){if(mo.logLevel<=Hi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mo.error.apply(mo,["Auth (".concat(ba,"): ").concat(e)].concat(n))}}function ko(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Io.apply(void 0,[e].concat(n))}function bo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Io.apply(void 0,[e].concat(n))}function wo(e,t,n){var r=Object.assign(Object.assign({},vo()),Un({},t,n));return new Ii("auth","Firebase",r).create(t,{appName:e.name})}function xo(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&ko(e,"argument-error"),wo(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Io(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=mt(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(mt(o)))}return yo.create.apply(yo,[e].concat(n))}function So(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Io.apply(void 0,[t].concat(r))}}function Eo(e){var t="INTERNAL ASSERTION FAILED: "+e;throw go(t),new Error(t)}function _o(e,t){e||Eo(t)}var To=new Map;function Co(e){_o(e instanceof Function,"Expected a class definition");var t=To.get(e);return t?(_o(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,To.set(e,t),t)}function Ao(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function No(){return"http:"===Ro()||"https:"===Ro()}function Ro(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Po=function(){function e(t,n){Xr(this,e),this.shortDelay=t,this.longDelay=n,_o(n>t,"Short delay should be less than long delay!"),this.isMobile=yi()||ki()}return k(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(No()||gi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Do(e,t){_o(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Oo=function(){function e(){Xr(this,e)}return k(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Eo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Eo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Eo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Lo=(Un(eo={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Un(eo,"MISSING_CUSTOM_TOKEN","internal-error"),Un(eo,"INVALID_IDENTIFIER","invalid-email"),Un(eo,"MISSING_CONTINUE_URI","internal-error"),Un(eo,"INVALID_PASSWORD","wrong-password"),Un(eo,"MISSING_PASSWORD","internal-error"),Un(eo,"EMAIL_EXISTS","email-already-in-use"),Un(eo,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Un(eo,"INVALID_IDP_RESPONSE","invalid-credential"),Un(eo,"INVALID_PENDING_TOKEN","invalid-credential"),Un(eo,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Un(eo,"MISSING_REQ_TYPE","internal-error"),Un(eo,"EMAIL_NOT_FOUND","user-not-found"),Un(eo,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Un(eo,"EXPIRED_OOB_CODE","expired-action-code"),Un(eo,"INVALID_OOB_CODE","invalid-action-code"),Un(eo,"MISSING_OOB_CODE","internal-error"),Un(eo,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Un(eo,"INVALID_ID_TOKEN","invalid-user-token"),Un(eo,"TOKEN_EXPIRED","user-token-expired"),Un(eo,"USER_NOT_FOUND","user-token-expired"),Un(eo,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Un(eo,"INVALID_CODE","invalid-verification-code"),Un(eo,"INVALID_SESSION_INFO","invalid-verification-id"),Un(eo,"INVALID_TEMPORARY_PROOF","invalid-credential"),Un(eo,"MISSING_SESSION_INFO","missing-verification-id"),Un(eo,"SESSION_EXPIRED","code-expired"),Un(eo,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Un(eo,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Un(eo,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Un(eo,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Un(eo,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Un(eo,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Un(eo,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Un(eo,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Un(eo,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Un(eo,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Un(eo,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),eo),Mo=new Po(3e4,6e4);function Fo(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Vo(e,t,n,r){return Uo.apply(this,arguments)}function Uo(){return Uo=zi(oi().mark((function e(t,n,r,i){var a,o=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",jo(t,a,zi(oi().mark((function e(){var a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=Ai(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Oo.fetch()(Wo(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Uo.apply(this,arguments)}function jo(e,t,n){return Bo.apply(this,arguments)}function Bo(){return Bo=zi(oi().mark((function e(t,n,r){var i,a,o,u,c,l,f,h,d,p;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Lo),n),e.prev=2,a=new Ko(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw Go(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(c=o.ok?u.errorMessage:u.error.message,l=c.split(" : "),f=s(l,2),h=f[0],d=f[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==h){e.next=23;break}throw Go(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==h){e.next=25;break}throw Go(t,"email-already-in-use",u);case 25:if(p=i[h]||h.toLowerCase().replace(/[_\s]+/g,"-"),!d){e.next=30;break}throw wo(t,p,d);case 30:ko(t,p);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof xi)){e.next=37;break}throw e.t0;case 37:ko(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])}))),Bo.apply(this,arguments)}function zo(e,t,n,r){return qo.apply(this,arguments)}function qo(){return qo=zi(oi().mark((function e(t,n,r,i){var a,o,u=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,Vo(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&ko(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),qo.apply(this,arguments)}function Wo(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Do(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Ko=function(){function e(t){var n=this;Xr(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(bo(n.auth,"network-request-failed"))}),Mo.get())}))}return k(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Go(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=bo(e,t,r);return i.customData._tokenResponse=n,i}function Ho(e,t){return Qo.apply(this,arguments)}function Qo(){return Qo=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Qo.apply(this,arguments)}function Yo(e,t){return Xo.apply(this,arguments)}function Xo(){return Xo=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Xo.apply(this,arguments)}function Jo(e,t){return Zo.apply(this,arguments)}function Zo(){return Zo=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),Zo.apply(this,arguments)}function $o(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function eu(){return eu=zi(oi().mark((function e(t){var n,r,i,a,o,u,s=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Li(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,So((a=nu(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:$o(tu(a.auth_time)),issuedAtTime:$o(tu(a.iat)),expirationTime:$o(tu(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),eu.apply(this,arguments)}function tu(e){return 1e3*Number(e)}function nu(e){var t=s(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return go("JWT malformed, contained fewer than 3 sections"),null;try{var a=li(r);return a?JSON.parse(a):(go("Failed to decode base64 JWT payload"),null)}catch(o){return go("Caught error parsing JWT payload as JSON",o),null}}function ru(e,t){return iu.apply(this,arguments)}function iu(){return iu=zi(oi().mark((function e(t,n){var r=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof xi&&au(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),iu.apply(this,arguments)}function au(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var ou=function(){function e(t){Xr(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return k(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(zi(oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),uu=function(){function e(t,n){Xr(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return k(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=$o(this.lastLoginAt),this.creationTime=$o(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function su(e){return cu.apply(this,arguments)}function cu(){return cu=zi(oi().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ru(t,Jo(r,{idToken:i}));case 6:So(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?hu(o.providerUserInfo):[],s=fu(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new uu(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),cu.apply(this,arguments)}function lu(){return(lu=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Li(t),e.next=3,su(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fu(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(mt(n),mt(t))}function hu(e){return e.map((function(e){var t=e.providerId,n=$a(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function du(e,t){return pu.apply(this,arguments)}function pu(){return pu=zi(oi().mark((function e(t,n){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jo(t,{},zi(oi().mark((function e(){var r,i,a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ai({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=Wo(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Oo.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),pu.apply(this,arguments)}var vu=function(){function e(){Xr(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return k(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){So(e.idToken,"internal-error"),So("undefined"!==typeof e.idToken,"internal-error"),So("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=nu(e);return So(t,"internal-error"),So("undefined"!==typeof t.exp,"internal-error"),So("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=zi(oi().mark((function e(t){var n,r=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],So(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=zi(oi().mark((function e(t,n){var r,i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,du(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Eo("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(So("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(So("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(So("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function yu(e,t){So("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var mu=function(){function e(t){Xr(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=$a(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ou(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?mt(a.providerData):[],this.metadata=new uu(a.createdAt||void 0,a.lastLoginAt||void 0)}return k(e,[{key:"getIdToken",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ru(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(So(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return eu.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return lu.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(So(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){So(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=zi(oi().mark((function e(t){var n,r,i=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,su(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ru(this,Ho(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,y=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,m=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,I=n.stsTokenManager;So(k&&I,t,"internal-error");var S=vu.fromJSON(this.name,I);So("string"===typeof k,t,"internal-error"),yu(f,t.name),yu(h,t.name),So("boolean"===typeof b,t,"internal-error"),So("boolean"===typeof w,t,"internal-error"),yu(d,t.name),yu(p,t.name),yu(v,t.name),yu(y,t.name),yu(m,t.name),yu(g,t.name);var E=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:m,lastLoginAt:g});return x&&Array.isArray(x)&&(E.providerData=x.map((function(e){return Object.assign({},e)}))),y&&(E._redirectEventId=y),E}},{key:"_fromIdTokenResponse",value:function(){var t=zi(oi().mark((function t(n,r){var i,a,o,u=arguments;return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new vu).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,su(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),gu=function(){function e(){Xr(this,e),this.type="NONE",this.storage={}}return k(e,[{key:"_isAvailable",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();gu.type="NONE";var ku=gu;function bu(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var wu=function(){function e(t,n,r){Xr(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=bu(this.userKey,a.apiKey,o),this.fullPersistenceKey=bu("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return k(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?mu._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=zi(oi().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Co(ku),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Co(ku),u=bu(i,n.config.apiKey,n.name),s=null,c=Jr(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=mu._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function xu(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(_u(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Iu(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Cu(t))return"Blackberry";if(Au(t))return"Webos";if(Su(t))return"Safari";if((t.includes("chrome/")||Eu(t))&&!t.includes("edge/"))return"Chrome";if(Tu(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Iu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/firefox\//i.test(e)}function Su(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Eu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/crios\//i.test(e)}function _u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/iemobile/i.test(e)}function Tu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/android/i.test(e)}function Cu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/blackberry/i.test(e)}function Au(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/webos/i.test(e)}function Nu(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/iphone|ipad|ipod/i.test(e)}function Ru(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return Nu(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Pu(){return bi()&&10===document.documentMode}function Du(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return Nu(e)||Tu(e)||Au(e)||Cu(e)||/windows phone/i.test(e)||_u(e)}function Ou(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=xu(vi());break;case"Worker":t="".concat(xu(vi()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(ba,"/").concat(r)}var Lu=function(){function e(t,n,r){Xr(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Fu(this),this.idTokenSubscription=new Fu(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=yo,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return k(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Co(t)),this._initializationPromise=this.queue(zi(oi().mark((function r(){var i,a;return oi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,wu.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=zi(oi().mark((function e(t){var n,r,i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,!t||!this.config.authDomain){e.next=12;break}return e.next=6,this.getOrInitRedirectPersistenceManager();case 6:return i=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,a=null===r||void 0===r?void 0:r._redirectEventId,e.next=10,this.tryRedirectSignIn(t);case 10:o=e.sent,i&&i!==a||!(null===o||void 0===o?void 0:o.user)||(r=o.user);case 12:if(r){e.next=14;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 14:if(r._redirectEventId){e.next=16;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 16:return So(this._popupRedirectResolver,this,"argument-error"),e.next=19,this.getOrInitRedirectPersistenceManager();case 19:if(!this.redirectUser||this.redirectUser._redirectEventId!==r._redirectEventId){e.next=21;break}return e.abrupt("return",this.directlySetCurrentUser(r));case 21:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(r));case 22:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,su(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Li(t):null)&&So(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=zi(oi().mark((function e(t){var n=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return t&&So(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e.abrupt("return",this.queue(zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.directlySetCurrentUser(t);case 2:n.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=3;break}return e.next=3,this._setRedirectUser(null);case 3:return e.abrupt("return",this._updateCurrentUser(null));case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(zi(oi().mark((function n(){return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Co(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ii("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=zi(oi().mark((function e(t,n){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return So(n=t&&Co(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,wu.create(this,[Co(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=zi(oi().mark((function e(t){var n=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return So(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return So(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ou(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=zi(oi().mark((function e(){var t,n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Un({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Mu(e){return Li(e)}var Fu=function(){function e(t){var n=this;Xr(this,e),this.auth=t,this.observer=null,this.addObserver=Pi((function(e){return n.observer=e}))}return k(e,[{key:"next",get:function(){return So(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Vu(e,t,n){var r=Mu(e);So(r._canInitEmulator,r,"emulator-config-failed"),So(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=Uu(t),o=function(e){var t=Uu(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:ju(r.substr(a.length+1))}}var o=s(r.split(":"),2);return{host:o[0],port:ju(o[1])}}(t),u=o.host,c=o.port,l=null===c?"":":".concat(c);r.config.emulator={url:"".concat(a,"//").concat(u).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:c,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Uu(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ju(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Bu=function(){function e(t,n){Xr(this,e),this.providerId=t,this.signInMethod=n}return k(e,[{key:"toJSON",value:function(){return Eo("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Eo("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Eo("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Eo("not implemented")}}]),e}();function zu(e,t){return qu.apply(this,arguments)}function qu(){return qu=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:resetPassword",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),qu.apply(this,arguments)}function Wu(e,t){return Ku.apply(this,arguments)}function Ku(){return Ku=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ku.apply(this,arguments)}function Gu(e,t){return Hu.apply(this,arguments)}function Hu(){return Hu=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:update",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Hu.apply(this,arguments)}function Qu(e,t){return Yu.apply(this,arguments)}function Yu(){return Yu=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithPassword",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Yu.apply(this,arguments)}function Xu(e,t){return Ju.apply(this,arguments)}function Ju(){return Ju=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:sendOobCode",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ju.apply(this,arguments)}function Zu(e,t){return $u.apply(this,arguments)}function $u(){return $u=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(t,n));case 1:case"end":return e.stop()}}),e)}))),$u.apply(this,arguments)}function es(e,t){return ts.apply(this,arguments)}function ts(){return ts=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(t,n));case 1:case"end":return e.stop()}}),e)}))),ts.apply(this,arguments)}function ns(e,t){return rs.apply(this,arguments)}function rs(){return rs=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(t,n));case 1:case"end":return e.stop()}}),e)}))),rs.apply(this,arguments)}function is(e,t){return as.apply(this,arguments)}function as(){return as=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Xu(t,n));case 1:case"end":return e.stop()}}),e)}))),as.apply(this,arguments)}function os(e,t){return us.apply(this,arguments)}function us(){return us=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),us.apply(this,arguments)}function ss(e,t){return cs.apply(this,arguments)}function cs(){return cs=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithEmailLink",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}var ls=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Xr(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return k(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Qu(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",os(t,{email:this._email,oobCode:this._password}));case 5:ko(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Wu(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",ss(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:ko(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Bu);function fs(e,t){return hs.apply(this,arguments)}function hs(){return hs=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithIdp",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),hs.apply(this,arguments)}var ds=function(e){Zr(n,e);var t=ni(n);function n(){var e;return Xr(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return k(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return fs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fs(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ai(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):ko("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=$a(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Bu);function ps(e,t){return vs.apply(this,arguments)}function vs(){return vs=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:sendVerificationCode",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ys(){return ys=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithPhoneNumber",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),ys.apply(this,arguments)}function ms(){return ms=zi(oi().mark((function e(t,n){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zo(t,"POST","/v1/accounts:signInWithPhoneNumber",Fo(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Go(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),ms.apply(this,arguments)}var gs=Un({},"USER_NOT_FOUND","user-not-found");function ks(){return ks=zi(oi().mark((function e(t,n){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithPhoneNumber",Fo(t,r),gs));case 2:case"end":return e.stop()}}),e)}))),ks.apply(this,arguments)}var bs=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this,"phone","phone")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return ys.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return ms.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return ks.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Bu);var ws=function(){function e(t){var n,r,i,a,o,u;Xr(this,e);var s=Ni(Ri(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);So(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return k(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Ni(Ri(e)).link,n=t?Ni(Ri(t)).deep_link_id:null,r=Ni(Ri(e)).deep_link_id;return(r?Ni(Ri(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(T_){return null}}}]),e}();var xs=function(){function e(){Xr(this,e),this.providerId=e.PROVIDER_ID}return k(e,null,[{key:"credential",value:function(e,t){return ls._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=ws.parseLink(t);return So(n,"argument-error"),ls._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();xs.PROVIDER_ID="password",xs.EMAIL_PASSWORD_SIGN_IN_METHOD="password",xs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Is=function(){function e(t){Xr(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return k(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Ss=function(e){Zr(n,e);var t=ni(n);function n(){var e;return Xr(this,n),(e=t.apply(this,arguments)).scopes=[],e}return k(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return mt(this.scopes)}}]),n}(Is),Es=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.apply(this,arguments)}return k(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return So(e.idToken||e.accessToken,"argument-error"),ds._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return So("providerId"in t&&"signInMethod"in t,"argument-error"),ds._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Ss),_s=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.call(this,"facebook.com")}return k(n,null,[{key:"credential",value:function(e){return ds._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(T_){return null}}}]),n}(Ss);_s.FACEBOOK_SIGN_IN_METHOD="facebook.com",_s.PROVIDER_ID="facebook.com";var Ts=function(e){Zr(n,e);var t=ni(n);function n(){var e;return Xr(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return k(n,null,[{key:"credential",value:function(e,t){return ds._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(T_){return null}}}]),n}(Ss);Ts.GOOGLE_SIGN_IN_METHOD="google.com",Ts.PROVIDER_ID="google.com";var Cs=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.call(this,"github.com")}return k(n,null,[{key:"credential",value:function(e){return ds._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(T_){return null}}}]),n}(Ss);Cs.GITHUB_SIGN_IN_METHOD="github.com",Cs.PROVIDER_ID="github.com";var As=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return k(n,[{key:"_getIdTokenResponse",value:function(e){return fs(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,fs(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,fs(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(Bu),Ns=function(e){Zr(n,e);var t=ni(n);function n(e){return Xr(this,n),So(e.startsWith("saml."),"argument-error"),t.call(this,e)}return k(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=As.fromJSON(e);return So(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return As._create(r,n)}catch(i){return null}}}]),n}(Is),Rs=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.call(this,"twitter.com")}return k(n,null,[{key:"credential",value:function(e,t){return ds._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(T_){return null}}}]),n}(Ss);function Ps(e,t){return Ds.apply(this,arguments)}function Ds(){return Ds=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signUp",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),Ds.apply(this,arguments)}Rs.TWITTER_SIGN_IN_METHOD="twitter.com",Rs.PROVIDER_ID="twitter.com";var Os=function(){function e(t){Xr(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return k(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=zi(oi().mark((function t(n,r,i){var a,o,u,s,c=arguments;return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,mu._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=Ls(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=zi(oi().mark((function t(n,r,i){var a;return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=Ls(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function Ls(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ms(){return Ms=zi(oi().mark((function e(t){var n,r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mu(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new Os({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,Ps(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,Os._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),Ms.apply(this,arguments)}var Fs=function(e){Zr(n,e);var t=ni(n);function n(e,r,i,a){var o,u;return Xr(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(x(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return k(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(xi);function Vs(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw Fs._fromErrorAndOperation(e,n,t,r);throw n}))}function Us(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function js(e,t){return Bs.apply(this,arguments)}function Bs(){return Bs=zi(oi().mark((function e(t,n){var r,i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,Ws(!0,r,n);case 3:return e.t0=Yo,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=Us(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),Bs.apply(this,arguments)}function zs(e,t){return qs.apply(this,arguments)}function qs(){return qs=zi(oi().mark((function e(t,n){var r,i,a=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ru,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",Os._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),qs.apply(this,arguments)}function Ws(e,t,n){return Ks.apply(this,arguments)}function Ks(){return Ks=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,su(n);case 2:i=Us(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",So(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)}))),Ks.apply(this,arguments)}function Gs(e,t){return Hs.apply(this,arguments)}function Hs(){return Hs=zi(oi().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ru(t,Vs(i,a,n,t),r);case 6:return So((o=e.sent).idToken,i,"internal-error"),So(u=nu(o.idToken),i,"internal-error"),s=u.sub,So(t.uid===s,i,"user-mismatch"),e.abrupt("return",Os._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&ko(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),Hs.apply(this,arguments)}function Qs(e,t){return Ys.apply(this,arguments)}function Ys(){return Ys=zi(oi().mark((function e(t,n){var r,i,a,o,u=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,Vs(t,i,n);case 4:return a=e.sent,e.next=7,Os._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),Ys.apply(this,arguments)}function Xs(e,t){return Js.apply(this,arguments)}function Js(){return Js=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Qs(Mu(t),n));case 1:case"end":return e.stop()}}),e)}))),Js.apply(this,arguments)}function Zs(e,t){return $s.apply(this,arguments)}function $s(){return($s=zi(oi().mark((function e(t,n){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,Ws(!1,r,n.providerId);case 3:return e.abrupt("return",zs(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ec(e,t){return tc.apply(this,arguments)}function tc(){return(tc=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Gs(Li(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zo(t,"POST","/v1/accounts:signInWithCustomToken",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),rc.apply(this,arguments)}function ic(){return ic=zi(oi().mark((function e(t,n){var r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Mu(t),e.next=3,nc(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,Os._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)}))),ic.apply(this,arguments)}var ac=function(){function e(t,n){Xr(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return k(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?oc._fromServerResponse(e,t):ko(e,"internal-error")}}]),e}(),oc=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return k(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(ac);function uc(e,t,n){var r;So((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),So("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(So(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(So(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function sc(){return sc=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),a={requestType:"PASSWORD_RESET",email:n},r&&uc(i,a,r),e.next=5,es(i,a);case 5:case"end":return e.stop()}}),e)}))),sc.apply(this,arguments)}function cc(){return cc=zi(oi().mark((function e(t,n,r){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zu(Li(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)}))),cc.apply(this,arguments)}function lc(){return lc=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gu(Li(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)}))),lc.apply(this,arguments)}function fc(e,t){return hc.apply(this,arguments)}function hc(){return hc=zi(oi().mark((function e(t,n){var r,i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,zu(r,{oobCode:n});case 3:i=e.sent,So(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return So(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:So(i.mfaInfo,r,"internal-error");case 13:So(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=ac._fromServerResponse(Mu(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)}))),hc.apply(this,arguments)}function dc(){return dc=zi(oi().mark((function e(t,n){var r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fc(Li(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)}))),dc.apply(this,arguments)}function pc(e,t,n){return vc.apply(this,arguments)}function vc(){return vc=zi(oi().mark((function e(t,n,r){var i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mu(t),e.next=3,Ps(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,Os._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),vc.apply(this,arguments)}function yc(){return yc=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),a={requestType:"EMAIL_SIGNIN",email:n},So(r.handleCodeInApp,i,"argument-error"),r&&uc(i,a,r),e.next=6,ns(i,a);case 6:case"end":return e.stop()}}),e)}))),yc.apply(this,arguments)}function mc(){return mc=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),So((a=xs.credentialWithLink(n,r||Ao()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",Xs(i,a));case 4:case"end":return e.stop()}}),e)}))),mc.apply(this,arguments)}function gc(e,t){return kc.apply(this,arguments)}function kc(){return kc=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:createAuthUri",Fo(t,n)));case 1:case"end":return e.stop()}}),e)}))),kc.apply(this,arguments)}function bc(){return bc=zi(oi().mark((function e(t,n){var r,i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=No()?Ao():"http://localhost",i={identifier:n,continueUri:r},e.next=4,gc(Li(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)}))),bc.apply(this,arguments)}function wc(){return(wc=zi(oi().mark((function e(t,n){var r,i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Li(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&uc(r.auth,a,n),e.next=8,Zu(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xc(){return(xc=zi(oi().mark((function e(t,n,r){var i,a,o,u;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&uc(i.auth,o,r),e.next=8,is(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ic(e,t){return Sc.apply(this,arguments)}function Sc(){return Sc=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Vo(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Sc.apply(this,arguments)}function Ec(){return(Ec=zi(oi().mark((function e(t,n){var r,i,a,o,u,s,c;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Li(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,ru(a,Ic(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _c(e,t,n){return Tc.apply(this,arguments)}function Tc(){return Tc=zi(oi().mark((function e(t,n,r){var i,a,o,u;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,ru(t,Wu(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)}))),Tc.apply(this,arguments)}var Cc=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Xr(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Ac=function(e){Zr(n,e);var t=ni(n);function n(e,r,i,a){var o;return Xr(this,n),(o=t.call(this,e,r,i)).username=a,o}return k(n)}(Cc),Nc=function(e){Zr(n,e);var t=ni(n);function n(e,r){return Xr(this,n),t.call(this,e,"facebook.com",r)}return k(n)}(Cc),Rc=function(e){Zr(n,e);var t=ni(n);function n(e,r){return Xr(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return k(n)}(Ac),Pc=function(e){Zr(n,e);var t=ni(n);function n(e,r){return Xr(this,n),t.call(this,e,"google.com",r)}return k(n)}(Cc),Dc=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){return Xr(this,n),t.call(this,e,"twitter.com",r,i)}return k(n)}(Ac);function Oc(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=nu(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Cc(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Nc(a,i);case"github.com":return new Rc(a,i);case"google.com":return new Pc(a,i);case"twitter.com":return new Dc(a,i,e.screenName||null);case"custom":case"anonymous":return new Cc(a,null);default:return new Cc(a,r,i)}}(n)}var Lc=function(){function e(t,n){Xr(this,e),this.type=t,this.credential=n}return k(e,[{key:"toJSON",value:function(){return{multiFactorSession:Un({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),Mc=function(){function e(t,n,r){Xr(this,e),this.session=t,this.hints=n,this.signInResolver=r}return k(e,[{key:"resolveSignIn",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=Mu(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return ac._fromServerResponse(r,e)}));So(i.mfaPendingCredential,r,"internal-error");var o=Lc._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=zi(oi().mark((function e(t){var a,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,Os._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return So(n.user,r,"internal-error"),e.abrupt("return",Os._forOperation(n.user,n.operationType,u));case 17:ko(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function Fc(e,t){return Vo(e,"POST","/v2/accounts/mfaEnrollment:start",Fo(e,t))}function Vc(e,t){return Vo(e,"POST","/v2/accounts/mfaEnrollment:withdraw",Fo(e,t))}var Uc=function(){function e(t){var n=this;Xr(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return ac._fromServerResponse(t.auth,e)})))}))}return k(e,[{key:"getSession",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Lc,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=zi(oi().mark((function e(t,n){var r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,ru(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=zi(oi().mark((function e(t){var n,r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,ru(this.user,Vc(this.user.auth,{idToken:r,mfaEnrollmentId:n}));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),jc=new WeakMap;var Bc="__sak",zc=function(){function e(t,n){Xr(this,e),this.storageRetriever=t,this.type=n}return k(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(Bc,"1"),this.storage.removeItem(Bc),Promise.resolve(!0)):Promise.resolve(!1)}catch(T_){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var qc=function(e){Zr(n,e);var t=ni(n);function n(){var e;return Xr(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=vi();return Su(e)||Nu(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=Du(),e._shouldAllowMigration=!0,e}return k(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Pu()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=zi(oi().mark((function e(t,r){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Za($r(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=zi(oi().mark((function e(t){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Za($r(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Za($r(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(zc);qc.type="LOCAL";var Wc=qc,Kc=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return k(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(zc);Kc.type="SESSION";var Gc=Kc;function Hc(e){return Promise.all(e.map(function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var Qc=function(){function e(t){Xr(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return k(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=zi(oi().mark((function e(t){var n,r,i,a,o,u,s,c;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,Hc(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function Yc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Qc.receivers=[];var Xc=function(){function e(t){Xr(this,e),this.target=t,this.handlers=new Set}return k(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=zi(oi().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=Yc("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Jc(){return window}function Zc(){return"undefined"!==typeof Jc().WorkerGlobalScope&&"function"===typeof Jc().importScripts}function $c(){return el.apply(this,arguments)}function el(){return(el=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function tl(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var nl="firebaseLocalStorageDb",rl="firebaseLocalStorage",il="fbase_key",al=function(){function e(t){Xr(this,e),this.request=t}return k(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function ol(e,t){return e.transaction([rl],t?"readwrite":"readonly").objectStore(rl)}function ul(){var e=indexedDB.deleteDatabase(nl);return new al(e).toPromise()}function sl(){var e=indexedDB.open(nl,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(rl,{keyPath:il})}catch(r){n(r)}})),e.addEventListener("success",zi(oi().mark((function n(){var r;return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(rl)){n.next=12;break}return r.close(),n.next=5,ul();case 5:return n.t0=t,n.next=8,sl();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function cl(e,t,n){return ll.apply(this,arguments)}function ll(){return ll=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ol(t,!0).put((Un(i={},il,n),Un(i,"value",r),i)),e.abrupt("return",new al(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(e,t){return hl.apply(this,arguments)}function hl(){return hl=zi(oi().mark((function e(t,n){var r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ol(t,!1).get(n),e.next=3,new al(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),hl.apply(this,arguments)}function dl(e,t){var n=ol(e,!0).delete(t);return new al(n).toPromise()}var pl=function(){function e(){Xr(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return k(e,[{key:"_openDb",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,sl();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zc()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=zi(oi().mark((function e(){var t=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=Qc._getInstance(Zc()?self:null),this.receiver._subscribe("keyChanged",function(){var e=zi(oi().mark((function e(n,r){var i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=zi(oi().mark((function e(){var t,n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,$c();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new Xc(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&tl()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,sl();case 5:return t=e.sent,e.next=8,cl(t,Bc,"1");case 8:return e.next=10,dl(t,Bc);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=zi(oi().mark((function e(t,n){var r=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return cl(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return fl(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=zi(oi().mark((function e(t){var n=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return dl(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=zi(oi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=ol(e,!1).getAll();return new al(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=Jr(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(zi(oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();pl.type="LOCAL";var vl=pl;function yl(e,t){return Vo(e,"POST","/v2/accounts/mfaSignIn:start",Fo(e,t))}function ml(e){return gl.apply(this,arguments)}function gl(){return gl=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Vo(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)}))),gl.apply(this,arguments)}function kl(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=bo("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function bl(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var wl=1e12,xl=function(){function e(t){Xr(this,e),this.auth=t,this.counter=wl,this._widgets=new Map}return k(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Il(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||wl;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||wl;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||wl,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Il=function(){function e(t,n,r){var i=this;Xr(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;So(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return k(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Sl=bl("rcb"),El=new Po(3e4,6e4),_l="https://www.google.com/recaptcha/api.js?",Tl=function(){function e(){Xr(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Jc().grecaptcha}return k(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return So(Cl(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(Jc().grecaptcha):new Promise((function(r,i){var a=Jc().setTimeout((function(){i(bo(e,"network-request-failed"))}),El.get());Jc()[Sl]=function(){Jc().clearTimeout(a),delete Jc()[Sl];var o=Jc().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(bo(e,"internal-error"))},kl("".concat(_l,"?").concat(Ai({onload:Sl,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(bo(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!Jc().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Cl(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Al=function(){function e(){Xr(this,e)}return k(e,[{key:"load",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new xl(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Nl="recaptcha",Rl={theme:"light",type:"image"},Pl=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Rl),r=arguments.length>2?arguments[2]:void 0;Xr(this,e),this.parameters=n,this.type=Nl,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Mu(r),this.isInvisible="invisible"===this.parameters.size,So("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;So(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Al:new Tl,this.validateStartingState()}return k(e,[{key:"verify",value:function(){var e=zi(oi().mark((function e(){var t,n,r,i=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){So(!this.parameters.sitekey,this.auth,"argument-error"),So(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),So("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=Jc()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){So(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=zi(oi().mark((function e(){var t,n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return So(No()&&!Zc(),this.auth,"internal-error"),e.next=3,Dl();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,ml(this.auth);case 8:So(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return So(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function Dl(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var Ol=function(){function e(t,n){Xr(this,e),this.verificationId=t,this.onConfirmation=n}return k(e,[{key:"confirm",value:function(e){var t=bs._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function Ll(){return Ll=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mu(t),e.next=3,Ul(i,n,Li(r));case 3:return a=e.sent,e.abrupt("return",new Ol(a,(function(e){return Xs(i,e)})));case 5:case"end":return e.stop()}}),e)}))),Ll.apply(this,arguments)}function Ml(e,t,n){return Fl.apply(this,arguments)}function Fl(){return(Fl=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,Ws(!1,i,"phone");case 3:return e.next=5,Ul(i.auth,n,Li(r));case 5:return a=e.sent,e.abrupt("return",new Ol(a,(function(e){return Zs(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vl(){return(Vl=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Li(t),e.next=3,Ul(i.auth,n,Li(r));case 3:return a=e.sent,e.abrupt("return",new Ol(a,(function(e){return ec(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ul(e,t,n){return jl.apply(this,arguments)}function jl(){return jl=zi(oi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,So("string"===typeof a,t,"argument-error"),So(r.type===Nl,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return So("enroll"===u.type,t,"internal-error"),e.next=13,Fc(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return So("signin"===u.type,t,"internal-error"),So(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,yl(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,ps(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),jl.apply(this,arguments)}function Bl(){return(Bl=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zs(Li(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zl=function(){function e(t){Xr(this,e),this.providerId=e.PROVIDER_ID,this.auth=Mu(t)}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return Ul(this.auth,e,Li(t))}}],[{key:"credential",value:function(e,t){return bs._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?bs._fromTokenResponse(n,r):null}}]),e}();function ql(e,t){return t?Co(t):(So(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}zl.PROVIDER_ID="phone",zl.PHONE_SIGN_IN_METHOD="phone";var Wl=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this,"custom","custom")).params=e,r}return k(n,[{key:"_getIdTokenResponse",value:function(e){return fs(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return fs(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return fs(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Bu);function Kl(e){return Qs(e.auth,new Wl(e),e.bypassAuthState)}function Gl(e){var t=e.auth,n=e.user;return So(n,t,"internal-error"),Gs(n,new Wl(e),e.bypassAuthState)}function Hl(e){return Ql.apply(this,arguments)}function Ql(){return Ql=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,So(r=t.user,n,"internal-error"),e.abrupt("return",zs(r,new Wl(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),Ql.apply(this,arguments)}var Yl=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Xr(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return k(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=zi(oi().mark((function t(n,r){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=zi(oi().mark((function e(t){var n,r,i,a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kl;case"linkViaPopup":case"linkViaRedirect":return Hl;case"reauthViaPopup":case"reauthViaRedirect":return Gl;default:ko(this.auth,"internal-error")}}},{key:"resolve",value:function(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){_o(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),Xl=new Po(2e3,1e4);function Jl(e,t,n){return Zl.apply(this,arguments)}function Zl(){return Zl=zi(oi().mark((function e(t,n,r){var i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mu(t),xo(t,n,Is),a=ql(i,r),o=new nf(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),Zl.apply(this,arguments)}function $l(){return $l=zi(oi().mark((function e(t,n,r){var i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xo((i=Li(t)).auth,n,Is),a=ql(i.auth,r),o=new nf(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),$l.apply(this,arguments)}function ef(e,t,n){return tf.apply(this,arguments)}function tf(){return tf=zi(oi().mark((function e(t,n,r){var i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xo((i=Li(t)).auth,n,Is),a=ql(i.auth,r),o=new nf(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),tf.apply(this,arguments)}var nf=function(e){Zr(n,e);var t=ni(n);function n(e,r,i,a,o){var u;return Xr(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=x(u),u}return k(n,[{key:"executeNotNull",value:function(){var e=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return So(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=zi(oi().mark((function e(){var t,n=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _o(1===this.filter.length,"Popup operations only handle one event"),t=Yc(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(bo(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(bo(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(bo(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,Xl.get())}()}}]),n}(Yl);nf.currentPopupAction=null;var rf=new Map,af=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Xr(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return k(n,[{key:"execute",value:function(){var e=zi(oi().mark((function e(){var t,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=rf.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,of(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,Za($r(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:rf.set(this.auth._key(),t);case 21:return this.bypassAuthState||rf.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=zi(oi().mark((function e(t){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",Za($r(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",Za($r(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(Yl);function of(e,t){return uf.apply(this,arguments)}function uf(){return uf=zi(oi().mark((function e(t,n){var r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ff(n),i=lf(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),uf.apply(this,arguments)}function sf(e,t){return cf.apply(this,arguments)}function cf(){return cf=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",lf(t)._set(ff(n),"true"));case 1:case"end":return e.stop()}}),e)}))),cf.apply(this,arguments)}function lf(e){return Co(e._redirectPersistence)}function ff(e){return bu("pendingRedirect",e.config.apiKey,e.name)}function hf(e,t,n){return function(e,t,n){return df.apply(this,arguments)}(e,t,n)}function df(){return df=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Mu(t),xo(t,n,Is),a=ql(i,r),e.next=5,sf(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)}))),df.apply(this,arguments)}function pf(e,t,n){return function(e,t,n){return vf.apply(this,arguments)}(e,t,n)}function vf(){return vf=zi(oi().mark((function e(t,n,r){var i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xo((i=Li(t)).auth,n,Is),a=ql(i.auth,r),e.next=5,sf(a,i.auth);case 5:return e.next=7,xf(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)}))),vf.apply(this,arguments)}function yf(e,t,n){return function(e,t,n){return mf.apply(this,arguments)}(e,t,n)}function mf(){return mf=zi(oi().mark((function e(t,n,r){var i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xo((i=Li(t)).auth,n,Is),a=ql(i.auth,r),e.next=5,Ws(!1,i,n.providerId);case 5:return e.next=7,sf(a,i.auth);case 7:return e.next=9,xf(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)}))),mf.apply(this,arguments)}function gf(e,t){return kf.apply(this,arguments)}function kf(){return kf=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mu(t)._initializationPromise;case 2:return e.abrupt("return",bf(t,n,!1));case 3:case"end":return e.stop()}}),e)}))),kf.apply(this,arguments)}function bf(e,t){return wf.apply(this,arguments)}function wf(){return wf=zi(oi().mark((function e(t,n){var r,i,a,o,u,s=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=Mu(t),a=ql(i,n),o=new af(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),wf.apply(this,arguments)}function xf(e){return If.apply(this,arguments)}function If(){return(If=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Yc("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sf=function(){function e(t){Xr(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return k(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _f(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!_f(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(bo(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ef(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Ef(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Ef(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function _f(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function Tf(e){return Cf.apply(this,arguments)}function Cf(){return Cf=zi(oi().mark((function e(t){var n,r=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Vo(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Cf.apply(this,arguments)}var Af=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Nf=/^https?/;function Rf(){return Rf=zi(oi().mark((function e(t){var n,r,i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Tf(t);case 4:n=e.sent,r=n.authorizedDomains,i=Jr(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!Pf(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:ko(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),Rf.apply(this,arguments)}function Pf(e){var t=Ao(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Nf.test(r))return!1;if(Af.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var Df=new Po(3e4,6e4);function Of(){var e=Jc().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=mt(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var Lf=null;function Mf(e){return Lf=Lf||function(e){return new Promise((function(t,n){var r,i,a;function o(){Of(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){Of(),n(bo(e,"network-request-failed"))},timeout:Df.get()})}if(null===(i=null===(r=Jc().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=Jc().gapi)||void 0===a?void 0:a.load)){var u=bl("iframefcb");return Jc()[u]=function(){gapi.load?o():n(bo(e,"network-request-failed"))},kl("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw Lf=null,e}))}(e),Lf}var Ff=new Po(5e3,15e3),Vf={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Uf=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jf(e){var t=e.config;So(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Do(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:ba},i=Uf.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(Ai(r).slice(1))}function Bf(e){return zf.apply(this,arguments)}function zf(){return zf=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Mf(t);case 2:return n=e.sent,So(r=Jc().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:jf(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Vf,dontclear:!0},(function(e){return new Promise(function(){var n=zi(oi().mark((function n(r,i){var a,o,u;return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){Jc().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=bo(t,"network-request-failed"),o=Jc().setTimeout((function(){i(a)}),Ff.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),zf.apply(this,arguments)}var qf={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wf="_blank",Kf="http://localhost",Gf=function(){function e(t){Xr(this,e),this.window=t,this.associatedEvent=null}return k(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function Hf(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",c=Object.assign(Object.assign({},qf),{width:r.toString(),height:i.toString(),top:a,left:o}),l=vi().toLowerCase();n&&(u=Eu(l)?Wf:n),Iu(l)&&(t=t||Kf,c.scrollbars="yes");var f=Object.entries(c).reduce((function(e,t){var n=s(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Ru(l)&&"_self"!==u)return Qf(t||"",u),new Gf(null);var h=window.open(t||"",u,f);So(h,e,"popup-blocked");try{h.focus()}catch(d){}return new Gf(h)}function Qf(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Yf="__/auth/handler",Xf="emulator/auth/handler";function Jf(e,t,n,r,i,a){So(e.config.authDomain,e,"auth-domain-config-required"),So(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:ba,eventId:i};if(t instanceof Is){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,c=Object.entries(a||{});u<c.length;u++){var l=s(c[u],2),f=l[0],h=l[1];o[f]=h}}if(t instanceof Ss){var d=t.getScopes().filter((function(e){return""!==e}));d.length>0&&(o.scopes=d.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var p=o,v=0,y=Object.keys(p);v<y.length;v++){var m=y[v];void 0===p[m]&&delete p[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Yf);return Do(t,Xf)}(e),"?").concat(Ai(p).slice(1))}var Zf="webStorageSupport",$f=function(){function e(){Xr(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gc,this._completeRedirectFn=bf}return k(e,[{key:"_openPopup",value:function(){var e=zi(oi().mark((function e(t,n,r,i){var a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _o(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=Jf(t,n,r,Ao(),i),e.abrupt("return",Hf(t,o,Yc()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=zi(oi().mark((function e(t,n,r,i){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=Jf(t,n,r,Ao(),i),Jc().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(_o(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Bf(t);case 2:return n=e.sent,r=new Sf(t),n.register("authEvent",(function(e){return So(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(Zf,{type:Zf},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),ko(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Rf.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return Du()||Su()||Nu()}}]),e}(),eh=$f,th=function(){function e(t){Xr(this,e),this.factorId=t}return k(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Eo("unexpected MultiFactorSessionType")}}}]),e}(),nh=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this,"phone")).credential=e,r}return k(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Vo(e,"POST","/v2/accounts/mfaEnrollment:finalize",Fo(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Vo(e,"POST","/v2/accounts/mfaSignIn:finalize",Fo(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(th),rh=function(){function e(){Xr(this,e)}return k(e,null,[{key:"assertion",value:function(e){return nh._fromCredential(e)}}]),e}();rh.FACTOR_ID="phone";var ih,ah="@firebase/auth",oh="0.19.12",uh=function(){function e(t){Xr(this,e),this.auth=t,this.internalListeners=new Map}return k(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){So(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function sh(){return window}ih="Browser",da(new qi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){So(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),So(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:ih,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ou(ih)},i=new Lu(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Co);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),da(new qi("auth-internal",(function(e){return function(e){return new uh(e)}(Mu(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),_a(ah,oh,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(ih)),_a(ah,oh,"esm2017");function ch(e,t,n){return lh.apply(this,arguments)}function lh(){return lh=zi(oi().mark((function e(t,n,r){var i,a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=sh(),o=a.BuildInfo,_o(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,yh(n.sessionId);case 4:return u=e.sent,s={},Nu()?s.ibi=o.packageName:Tu()?s.apn=o.packageName:ko(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",Jf(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(){return fh=zi(oi().mark((function e(t){var n,r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=sh(),r=n.BuildInfo,i={},Nu()?i.iosBundleId=r.packageName:Tu()?i.androidPackageName=r.packageName:ko(t,"operation-not-supported-in-this-environment"),e.next=5,Tf(t,i);case 5:case"end":return e.stop()}}),e)}))),fh.apply(this,arguments)}function hh(e){var t=sh().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function dh(e,t,n){return ph.apply(this,arguments)}function ph(){return ph=zi(oi().mark((function e(t,n,r){var i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=sh(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(bo(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Tu()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),ph.apply(this,arguments)}function vh(e){var t,n,r,i,a,o,u,s,c,l,f=sh();So("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),So("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),So("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),So("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),So("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function yh(e){return mh.apply(this,arguments)}function mh(){return(mh=zi(oi().mark((function e(t){var n,r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=gh(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gh(e){if(_o(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var kh=function(e){Zr(n,e);var t=ni(n);function n(){var e;return Xr(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return k(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),Za($r(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Sf);function bh(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Eh(),postBody:null,tenantId:e.tenantId,error:bo(e,"no-auth-event")}}function wh(e,t){return _h()._set(Th(e),t)}function xh(e){return Ih.apply(this,arguments)}function Ih(){return Ih=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_h()._get(Th(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,_h()._remove(Th(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)}))),Ih.apply(this,arguments)}function Sh(e,t){var n,r,i=function(e){var t=Ch(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ch(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ch(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=Ch(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?bo(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Eh(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function _h(){return Co(Wc)}function Th(e){return bu("authEvent",e.config.apiKey,e.name)}function Ch(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=i(t=n)||yt(t)||o(t)||u();r[0];return Ni(r.slice(1).join("?"))}var Ah=function(){function e(){Xr(this,e),this._redirectPersistence=Gc,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=bf}return k(e,[{key:"_initialize",value:function(){var e=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new kh(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){ko(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=zi(oi().mark((function e(t,n,r,i){var a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return vh(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),rf.clear(),e.next=10,this._originValidation(t);case 10:return o=bh(t,r,i),e.next=13,wh(t,o);case 13:return e.next=15,ch(t,o,n);case 15:return u=e.sent,e.next=18,hh(u);case 18:return s=e.sent,e.abrupt("return",dh(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return fh.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=sh(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(zi(oi().mark((function n(){return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,xh(e);case 2:t.onEvent(Rh());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=zi(oi().mark((function n(r){var i,a;return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,xh(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Sh(i,r.url)),t.onEvent(a||Rh());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");sh().handleOpenURL=function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Nh=Ah;function Rh(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:bo("no-auth-event")}}function Ph(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Dh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return!("file:"!==Ph()&&"ionic:"!==Ph()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Oh(){return bi()&&11===(null===document||void 0===document?void 0:document.documentMode)}function Lh(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return/Edge\/\d+/.test(e)}function Mh(){try{var e=self.localStorage,t=Yc();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:vi();return Oh()||Lh(e)}()||wi()}catch(n){return Fh()&&wi()}return!1}function Fh(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function Vh(){return("http:"===Ph()||"https:"===Ph()||gi()||Dh())&&!(ki()||mi())&&Mh()&&!Fh()}function Uh(){return Dh()&&"undefined"!==typeof document}function jh(){return Bh.apply(this,arguments)}function Bh(){return(Bh=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Uh()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zh={LOCAL:"local",NONE:"none",SESSION:"session"},qh=So,Wh="persistence";function Kh(e,t){qh(Object.values(zh).includes(t),e,"invalid-persistence-type"),ki()?qh(t!==zh.SESSION,e,"unsupported-persistence-type"):mi()?qh(t===zh.NONE,e,"unsupported-persistence-type"):Fh()?qh(t===zh.NONE||t===zh.LOCAL&&wi(),e,"unsupported-persistence-type"):qh(t===zh.NONE||Mh(),e,"unsupported-persistence-type")}function Gh(e){return Hh.apply(this,arguments)}function Hh(){return Hh=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=Qh(),r=bu(Wh,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),Hh.apply(this,arguments)}function Qh(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var Yh=So,Xh=function(){function e(){Xr(this,e),this.browserResolver=Co(eh),this.cordovaResolver=Co(Nh),this.underlyingResolver=null,this._redirectPersistence=Gc,this._completeRedirectFn=bf}return k(e,[{key:"_initialize",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=zi(oi().mark((function e(t,n,r,i){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=zi(oi().mark((function e(t,n,r,i){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return Uh()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return Yh(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,jh();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Jh(e){return e.unwrap()}function Zh(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new rd(e,function(e,t){var n,r=Li(e),i=t;return So(t.customData.operationType,r,"argument-error"),So(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Mc._fromError(r,i)}(e,t));else if(r){var i=$h(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function $h(e){var t=(e instanceof xi?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof xi)&&"temporaryProof"in t&&"phoneNumber"in t)return zl.credentialFromResult(e);var n,r=t.providerId;if(!r||r===io)return null;switch(r){case ro:n=Ts;break;case to:n=_s;break;case no:n=Cs;break;case ao:n=Rs;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?As._create(r,u):ds._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Es(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof xi?n.credentialFromError(e):n.credentialFromResult(e)}function ed(e,t){return t.catch((function(t){throw t instanceof xi&&Zh(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,$h(t)),additionalUserInfo:Oc(e),user:id.getOrCreate(r)}}))}function td(e,t){return nd.apply(this,arguments)}function nd(){return nd=zi(oi().mark((function e(t,n){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return ed(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)}))),nd.apply(this,arguments)}var rd=function(){function e(t,n){Xr(this,e),this.resolver=n,this.auth=t.wrapped()}return k(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return ed(Jh(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),id=function(){function e(t){Xr(this,e),this._delegate=t,this.multiFactor=function(e){var t=Li(e);return jc.has(t)||jc.set(t,Uc._fromUser(t)),jc.get(t)}(t)}return k(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ed(this.auth,Zs(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",td(this.auth,Ml(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ed(this.auth,ef(this._delegate,t,Xh)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gh(Mu(this.auth));case 2:return e.abrupt("return",yf(this._delegate,t,Xh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ed(this.auth,ec(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return td(this.auth,function(e,t,n){return Vl.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return ed(this.auth,function(e,t,n){return $l.apply(this,arguments)}(this._delegate,e,Xh))}},{key:"reauthenticateWithRedirect",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Gh(Mu(this.auth));case 2:return e.abrupt("return",pf(this._delegate,t,Xh));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return wc.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,js(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return _c(Li(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return _c(Li(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return Bl.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Ec.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return xc.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();id.USER_MAP=new WeakMap;var ad=So,od=function(){function e(t,n){if(Xr(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;ad(r,"invalid-api-key",{appName:t.name}),ad(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?Xh:void 0;this._delegate=n.initialize({options:{persistence:sd(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(po),this.linkUnderlyingAuth()}return k(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?id.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){Vu(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return lc.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return fc(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return cc.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ed(this._delegate,pc(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return bc.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=ws.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ad(Vh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,gf(this._delegate,Xh);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",ed(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){Mu(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=ud(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=ud(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return yc.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return sc.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Kh(this._delegate,t),e.t0=t,e.next=e.t0===zh.SESSION?4:e.t0===zh.LOCAL?6:e.t0===zh.NONE?11:13;break;case 4:return n=Gc,e.abrupt("break",14);case 6:return e.next=8,Co(vl)._isAvailable();case 8:return r=e.sent,n=r?vl:Wc,e.abrupt("break",14);case 11:return n=ku,e.abrupt("break",14);case 13:return e.abrupt("return",ko("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return ed(this._delegate,function(e){return Ms.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return ed(this._delegate,Xs(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return ed(this._delegate,function(e,t){return ic.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return ed(this._delegate,function(e,t,n){return Xs(Li(e),xs.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return ed(this._delegate,function(e,t,n){return mc.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return td(this._delegate,function(e,t,n){return Ll.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ad(Vh(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",ed(this._delegate,Jl(this._delegate,t,Xh)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ad(Vh(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Gh(this._delegate);case 3:return e.abrupt("return",hf(this._delegate,t,Xh));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return dc.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function ud(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&id.getOrCreate(e))},error:t,complete:n}}function sd(e,t){var n=function(e,t){var n=Qh();if(!n)return[];var r=bu(Wh,e,t);switch(n.getItem(r)){case zh.NONE:return[ku];case zh.LOCAL:return[vl,Gc];case zh.SESSION:return[Gc];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(vl)||n.push(vl),"undefined"!==typeof window)for(var r=0,i=[Wc,Gc];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(ku)||n.push(ku),n}od.Persistence=zh;var cd=function(){function e(){Xr(this,e),this.providerId="phone",this._delegate=new zl(Jh(Xa.auth()))}return k(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return zl.credential(e,t)}}]),e}();cd.PHONE_SIGN_IN_METHOD=zl.PHONE_SIGN_IN_METHOD,cd.PROVIDER_ID=zl.PROVIDER_ID;var ld,fd=So,hd=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xa.app();Xr(this,e),fd(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new Pl(t,n,i.auth()),this.type=this._delegate.type}return k(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(ld=Xa).INTERNAL.registerComponent(new qi("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new od(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:oo,PASSWORD_RESET:uo,RECOVER_EMAIL:so,REVERT_SECOND_FACTOR_ADDITION:co,VERIFY_AND_CHANGE_EMAIL:lo,VERIFY_EMAIL:fo}},EmailAuthProvider:xs,FacebookAuthProvider:_s,GithubAuthProvider:Cs,GoogleAuthProvider:Ts,OAuthProvider:Es,SAMLAuthProvider:Ns,PhoneAuthProvider:cd,PhoneMultiFactorGenerator:rh,RecaptchaVerifier:hd,TwitterAuthProvider:Rs,Auth:od,AuthCredential:Bu,Error:xi}).setInstantiationMode("LAZY").setMultipleInstances(!1)),ld.registerVersion("@firebase/auth-compat","0.2.12");var dd,pd="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},vd={},yd=yd||{},md=pd||self;function gd(){}function kd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function bd(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var wd="closure_uid_"+(1e9*Math.random()>>>0),xd=0;function Id(e,t,n){return e.call.apply(e.bind,arguments)}function Sd(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Ed(e,t,n){return(Ed=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Id:Sd).apply(null,arguments)}function _d(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Td(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function Cd(){this.s=this.s,this.o=this.o}var Ad={};Cd.prototype.s=!1,Cd.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,wd)&&e[wd]||(e[wd]=++xd)}(this);delete Ad[e]}},Cd.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Nd=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Rd=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Pd(e){return Array.prototype.concat.apply([],arguments)}function Dd(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Od(e){return/^[\s\xa0]*$/.test(e)}var Ld,Md=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Fd(e,t){return-1!=e.indexOf(t)}function Vd(e,t){return e<t?-1:e>t?1:0}e:{var Ud=md.navigator;if(Ud){var jd=Ud.userAgent;if(jd){Ld=jd;break e}}Ld=""}function Bd(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function zd(e){var t={};for(var n in e)t[n]=e[n];return t}var qd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Wd(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<qd.length;a++)n=qd[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Kd(e){return Kd[" "](e),e}Kd[" "]=gd;var Gd,Hd=Fd(Ld,"Opera"),Qd=Fd(Ld,"Trident")||Fd(Ld,"MSIE"),Yd=Fd(Ld,"Edge"),Xd=Yd||Qd,Jd=Fd(Ld,"Gecko")&&!(Fd(Ld.toLowerCase(),"webkit")&&!Fd(Ld,"Edge"))&&!(Fd(Ld,"Trident")||Fd(Ld,"MSIE"))&&!Fd(Ld,"Edge"),Zd=Fd(Ld.toLowerCase(),"webkit")&&!Fd(Ld,"Edge");function $d(){var e=md.document;return e?e.documentMode:void 0}e:{var ep="",tp=function(){var e=Ld;return Jd?/rv:([^\);]+)(\)|;)/.exec(e):Yd?/Edge\/([\d\.]+)/.exec(e):Qd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Zd?/WebKit\/(\S+)/.exec(e):Hd?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(tp&&(ep=tp?tp[1]:""),Qd){var np=$d();if(null!=np&&np>parseFloat(ep)){Gd=String(np);break e}}Gd=ep}var rp,ip={};function ap(){return function(e){var t=ip;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=Md(String(Gd)).split("."),n=Md("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=Vd(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||Vd(0==a[2].length,0==o[2].length)||Vd(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(md.document&&Qd){var op=$d();rp=op||(parseInt(Gd,10)||void 0)}else rp=void 0;var up=rp,sp=function(){if(!md.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{md.addEventListener("test",gd,t),md.removeEventListener("test",gd,t)}catch(n){}return e}();function cp(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function lp(e,t){if(cp.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Jd){e:{try{Kd(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:fp[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&lp.Z.h.call(this)}}cp.prototype.h=function(){this.defaultPrevented=!0},Td(lp,cp);var fp={2:"touch",3:"pen",4:"mouse"};lp.prototype.h=function(){lp.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var hp="closure_listenable_"+(1e6*Math.random()|0),dp=0;function pp(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++dp,this.ca=this.fa=!1}function vp(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function yp(e){this.src=e,this.g={},this.h=0}function mp(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Nd(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(vp(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function gp(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}yp.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=gp(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new pp(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var kp="closure_lm_"+(1e6*Math.random()|0),bp={};function wp(e,t,n,r,i){if(r&&r.once)return Ip(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)wp(e,t[a],n,r,i);return null}return n=Np(n),e&&e[hp]?e.N(t,n,bd(r)?!!r.capture:!!r,i):xp(e,t,n,!1,r,i)}function xp(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=bd(i)?!!i.capture:!!i,u=Cp(e);if(u||(e[kp]=u=new yp(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Tp;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)sp||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(_p(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Ip(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Ip(e,t[a],n,r,i);return null}return n=Np(n),e&&e[hp]?e.O(t,n,bd(r)?!!r.capture:!!r,i):xp(e,t,n,!0,r,i)}function Sp(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Sp(e,t[a],n,r,i);else r=bd(r)?!!r.capture:!!r,n=Np(n),e&&e[hp]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=gp(a=e.g[t],n,r,i))&&(vp(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Cp(e))&&(t=e.g[t.toString()],e=-1,t&&(e=gp(t,n,r,i)),(n=-1<e?t[e]:null)&&Ep(n))}function Ep(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[hp])mp(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(_p(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Cp(t))?(mp(n,e),0==n.h&&(n.src=null,t[kp]=null)):vp(e)}}}function _p(e){return e in bp?bp[e]:bp[e]="on"+e}function Tp(e,t){if(e.ca)e=!0;else{t=new lp(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Ep(e),e=n.call(r,t)}return e}function Cp(e){return(e=e[kp])instanceof yp?e:null}var Ap="__closure_events_fn_"+(1e9*Math.random()>>>0);function Np(e){return"function"===typeof e?e:(e[Ap]||(e[Ap]=function(t){return e.handleEvent(t)}),e[Ap])}function Rp(){Cd.call(this),this.i=new yp(this),this.P=this,this.I=null}function Pp(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new cp(t,e);else if(t instanceof cp)t.target=t.target||e;else{var i=t;Wd(t=new cp(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Dp(o,r,!0,t)&&i}if(i=Dp(o=t.g=e,r,!0,t)&&i,i=Dp(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Dp(o=t.g=n[a],r,!1,t)&&i}function Dp(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&mp(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Td(Rp,Cd),Rp.prototype[hp]=!0,Rp.prototype.removeEventListener=function(e,t,n,r){Sp(this,e,t,n,r)},Rp.prototype.M=function(){if(Rp.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vp(n[r]);delete t.g[e],t.h--}}this.I=null},Rp.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Rp.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Op=md.JSON.stringify;function Lp(){var e=qp,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Mp,Fp=function(){function e(){Xr(this,e),this.h=this.g=null}return k(e,[{key:"add",value:function(e,t){var n=Vp.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),Vp=new(function(){function e(t,n){Xr(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return k(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new Up}),(function(e){return e.reset()})),Up=function(){function e(){Xr(this,e),this.next=this.g=this.h=null}return k(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function jp(e){md.setTimeout((function(){throw e}),0)}function Bp(e,t){Mp||function(){var e=md.Promise.resolve(void 0);Mp=function(){e.then(Wp)}}(),zp||(Mp(),zp=!0),qp.add(e,t)}var zp=!1,qp=new Fp;function Wp(){for(var e;e=Lp();){try{e.h.call(e.g)}catch(n){jp(n)}var t=Vp;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}zp=!1}function Kp(e,t){Rp.call(this),this.h=e||1,this.g=t||md,this.j=Ed(this.kb,this),this.l=Date.now()}function Gp(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Hp(e,t,n){if("function"===typeof e)n&&(e=Ed(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Ed(e.handleEvent,e)}return 2147483647<Number(t)?-1:md.setTimeout(e,t||0)}function Qp(e){e.g=Hp((function(){e.g=null,e.i&&(e.i=!1,Qp(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Td(Kp,Rp),(dd=Kp.prototype).da=!1,dd.S=null,dd.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Pp(this,"tick"),this.da&&(Gp(this),this.start()))}},dd.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},dd.M=function(){Kp.Z.M.call(this),Gp(this),delete this.g};var Yp=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return k(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Qp(this)}},{key:"M",value:function(){Za($r(n.prototype),"M",this).call(this),this.g&&(md.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(Cd);function Xp(e){Cd.call(this),this.h=e,this.g={}}Td(Xp,Cd);var Jp=[];function Zp(e,t,n,r){Array.isArray(n)||(n&&(Jp[0]=n.toString()),n=Jp);for(var i=0;i<n.length;i++){var a=wp(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function $p(e){Bd(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Ep(e)}),e),e.g={}}function ev(){this.g=!0}function tv(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Op(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}Xp.prototype.M=function(){Xp.Z.M.call(this),$p(this)},Xp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ev.prototype.Aa=function(){this.g=!1},ev.prototype.info=function(){};var nv={},rv=null;function iv(){return rv=rv||new Rp}function av(e){cp.call(this,nv.Ma,e)}function ov(e){var t=iv();Pp(t,new av(t,e))}function uv(e,t){cp.call(this,nv.STAT_EVENT,e),this.stat=t}function sv(e){var t=iv();Pp(t,new uv(t,e))}function cv(e,t){cp.call(this,nv.Na,e),this.size=t}function lv(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return md.setTimeout((function(){e()}),t)}nv.Ma="serverreachability",Td(av,cp),nv.STAT_EVENT="statevent",Td(uv,cp),nv.Na="timingevent",Td(cv,cp);var fv={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},hv={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function dv(){}function pv(e){return e.h||(e.h=e.i())}function vv(){}dv.prototype.h=null;var yv,mv={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function gv(){cp.call(this,"d")}function kv(){cp.call(this,"c")}function bv(){}function wv(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new Xp(this),this.P=Iv,e=Xd?125:void 0,this.W=new Kp(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new xv}function xv(){this.i=null,this.g="",this.h=!1}Td(gv,cp),Td(kv,cp),Td(bv,dv),bv.prototype.g=function(){return new XMLHttpRequest},bv.prototype.i=function(){return{}},yv=new bv;var Iv=45e3,Sv={},Ev={};function _v(e,t,n){e.K=1,e.v=Yv(qv(t)),e.s=n,e.U=!0,Tv(e,null)}function Tv(e,t){e.F=Date.now(),Rv(e),e.A=qv(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),sy(n.h,"t",r),e.C=0,n=e.l.H,e.h=new xv,e.g=lm(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Yp(Ed(e.Ia,e,e.g),e.O)),Zp(e.V,e.g,"readystatechange",e.gb),t=e.H?zd(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ov(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function Cv(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Av(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Nv(e,n))==Ev){4==t&&(e.o=4,sv(14),i=!1),tv(e.j,e.m,null,"[Incomplete Response]");break}if(r==Sv){e.o=4,sv(15),tv(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}tv(e.j,e.m,r,null),Mv(e,r)}Cv(e)&&r!=Ev&&r!=Sv&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,sv(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),nm(t),t.L=!0,sv(11))):(tv(e.j,e.m,n,"[Invalid Chunked Response]"),Lv(e),Ov(e))}function Nv(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Ev:(n=Number(t.substring(n,r)),isNaN(n)?Sv:(r+=1)+n>t.length?Ev:(t=t.substr(r,n),e.C=r+n,t))}function Rv(e){e.Y=Date.now()+e.P,Pv(e,e.P)}function Pv(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=lv(Ed(e.eb,e),t)}function Dv(e){e.B&&(md.clearTimeout(e.B),e.B=null)}function Ov(e){0==e.l.G||e.I||am(e.l,e)}function Lv(e){Dv(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Gp(e.W),$p(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Mv(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||yy(n.i,e)))if(n.I=e.N,!e.J&&yy(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;im(n),Hy(n)}tm(n),sv(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=lv(Ed(n.ab,n),6e3));if(1>=vy(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else um(n,11)}else if((e.J||n.g==e)&&im(n),!Od(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(Fd(l,"spdy")||Fd(l,"quic")||Fd(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(my(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,Qv(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=cm(r,r.H?r.la:null,r.W),d.J){gy(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(Dv(p),Rv(p)),r.g=d}else em(r);0<n.l.length&&Xy(n)}else"stop"!=a[0]&&"close"!=a[0]||um(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?um(n,7):Gy(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}ov(4)}catch(a){}}function Fv(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(kd(e)||"string"===typeof e)Rd(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(kd(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(kd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function Vv(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Vv)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Uv(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];jv(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)jv(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function jv(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(dd=wv.prototype).setTimeout=function(e){this.P=e},dd.gb=function(e){e=e.target;var t=this.L;t&&3==By(e)?t.l():this.Ia(e)},dd.Ia=function(e){try{if(e==this.g)e:{var t=By(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||Xd||this.g&&(this.h.h||this.g.ga()||zy(this.g)))){this.I||4!=t||7==n||ov(8==n||0>=r?3:2),Dv(this);var i=this.g.ba();this.N=i;t:if(Cv(this)){var a=zy(this.g);e="";var o=a.length,u=4==By(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Lv(this),Ov(this);var s="";break t}this.h.i=new md.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Od(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,sv(12),Lv(this),Ov(this);break e}tv(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Mv(this,i)}this.U?(Av(this,t,s),Xd&&this.i&&3==t&&(Zp(this.V,this.W,"tick",this.fb),this.W.start())):(tv(this.j,this.m,s,null),Mv(this,s)),4==t&&Lv(this),this.i&&!this.I&&(4==t?am(this.l,this):(this.i=!1,Rv(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,sv(12)):(this.o=0,sv(13)),Lv(this),Ov(this)}}}catch(t){}},dd.fb=function(){if(this.g){var e=By(this.g),t=this.g.ga();this.C<t.length&&(Dv(this),Av(this,e,t),this.i&&4!=e&&Rv(this))}},dd.cancel=function(){this.I=!0,Lv(this)},dd.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(ov(3),sv(17)),Lv(this),this.o=2,Ov(this)):Pv(this,this.Y-e)},(dd=Vv.prototype).R=function(){Uv(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},dd.T=function(){return Uv(this),this.g.concat()},dd.get=function(e,t){return jv(this.h,e)?this.h[e]:t},dd.set=function(e,t){jv(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},dd.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var Bv=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function zv(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof zv){this.g=void 0!==t?t:e.g,Wv(this,e.j),this.s=e.s,Kv(this,e.i),Gv(this,e.m),this.l=e.l,t=e.h;var n=new iy;n.i=t.i,t.g&&(n.g=new Vv(t.g),n.h=t.h),Hv(this,n),this.o=e.o}else e&&(n=String(e).match(Bv))?(this.g=!!t,Wv(this,n[1]||"",!0),this.s=Xv(n[2]||""),Kv(this,n[3]||"",!0),Gv(this,n[4]),this.l=Xv(n[5]||"",!0),Hv(this,n[6]||"",!0),this.o=Xv(n[7]||"")):(this.g=!!t,this.h=new iy(null,this.g))}function qv(e){return new zv(e)}function Wv(e,t,n){e.j=n?Xv(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kv(e,t,n){e.i=n?Xv(t,!0):t}function Gv(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Hv(e,t,n){t instanceof iy?(e.h=t,function(e,t){t&&!e.j&&(ay(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(oy(this,t),sy(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=Jv(t,ny)),e.h=new iy(t,e.g))}function Qv(e,t,n){e.h.set(t,n)}function Yv(e){return Qv(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xv(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jv(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Zv),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zv(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}zv.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jv(t,$v,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Jv(t,$v,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jv(n,"/"==n.charAt(0)?ty:ey,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jv(n,ry)),e.join("")};var $v=/[#\/\?@]/g,ey=/[#\?:]/g,ty=/[#\?]/g,ny=/[#\?@]/g,ry=/#/g;function iy(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ay(e){e.g||(e.g=new Vv,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function oy(e,t){ay(e),t=cy(e,t),jv(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,jv((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Uv(e)))}function uy(e,t){return ay(e),t=cy(e,t),jv(e.g.h,t)}function sy(e,t,n){oy(e,t),0<n.length&&(e.i=null,e.g.set(cy(e,t),Dd(n)),e.h+=n.length)}function cy(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(dd=iy.prototype).add=function(e,t){ay(this),this.i=null,e=cy(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},dd.forEach=function(e,t){ay(this),this.g.forEach((function(n,r){Rd(n,(function(n){e.call(t,n,r,this)}),this)}),this)},dd.T=function(){ay(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},dd.R=function(e){ay(this);var t=[];if("string"===typeof e)uy(this,e)&&(t=Pd(t,this.g.get(cy(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Pd(t,e[n])}return t},dd.set=function(e,t){return ay(this),this.i=null,uy(this,e=cy(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},dd.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},dd.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var ly=k((function e(t,n){Xr(this,e),this.h=t,this.g=n}));function fy(e){this.l=e||dy,md.PerformanceNavigationTiming?e=0<(e=md.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(md.g&&md.g.Ea&&md.g.Ea()&&md.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var hy,dy=10;function py(e){return!!e.h||!!e.g&&e.g.size>=e.j}function vy(e){return e.h?1:e.g?e.g.size:0}function yy(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function my(e,t){e.g?e.g.add(t):e.h=t}function gy(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function ky(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=Jr(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return Dd(e.i)}function by(){}function wy(){this.g=new by}function xy(e,t,n){var r=n||"";try{Fv(e,(function(e,n){var i=e;bd(e)&&(i=Op(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Iy(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Sy(e){this.l=e.$b||null,this.j=e.ib||!1}function Ey(e,t){Rp.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=_y,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}fy.prototype.cancel=function(){if(this.i=ky(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=Jr(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},by.prototype.stringify=function(e){return md.JSON.stringify(e,void 0)},by.prototype.parse=function(e){return md.JSON.parse(e,void 0)},Td(Sy,dv),Sy.prototype.g=function(){return new Ey(this.l,this.j)},Sy.prototype.i=(hy={},function(){return hy}),Td(Ey,Rp);var _y=0;function Ty(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function Cy(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Ay(e)}function Ay(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(dd=Ey.prototype).open=function(e,t){if(this.readyState!=_y)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Ay(this)},dd.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||md).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},dd.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Cy(this)),this.readyState=_y},dd.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Ay(this)),this.g&&(this.readyState=3,Ay(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof md.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ty(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},dd.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Cy(this):Ay(this),3==this.readyState&&Ty(this)}},dd.Ua=function(e){this.g&&(this.response=this.responseText=e,Cy(this))},dd.Ta=function(e){this.g&&(this.response=e,Cy(this))},dd.ha=function(){this.g&&Cy(this)},dd.setRequestHeader=function(e,t){this.v.append(e,t)},dd.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},dd.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ey.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ny=md.JSON.parse;function Ry(e){Rp.call(this),this.headers=new Vv,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Py,this.K=this.L=!1}Td(Ry,Rp);var Py="",Dy=/^https?$/i,Oy=["POST","PUT"];function Ly(e){return"content-type"==e.toLowerCase()}function My(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Fy(e),Uy(e)}function Fy(e){e.D||(e.D=!0,Pp(e,"complete"),Pp(e,"error"))}function Vy(e){if(e.h&&"undefined"!=typeof yd&&(!e.C[1]||4!=By(e)||2!=e.ba()))if(e.v&&4==By(e))Hp(e.Fa,0,e);else if(Pp(e,"readystatechange"),4==By(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(Bv)[1]||null;if(!a&&md.self&&md.self.location){var o=md.self.location.protocol;a=o.substr(0,o.length-1)}i=!Dy.test(a?a.toLowerCase():"")}t=i}if(t)Pp(e,"complete"),Pp(e,"success");else{e.m=6;try{var u=2<By(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",Fy(e)}}finally{Uy(e)}}}function Uy(e,t){if(e.g){jy(e);var n=e.g,r=e.C[0]?gd:null;e.g=null,e.C=null,t||Pp(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function jy(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(md.clearTimeout(e.A),e.A=null)}function By(e){return e.g?e.g.readyState:0}function zy(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Py:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function qy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return Bd(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Qv(e,t,n))}function Wy(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ky(e){this.za=0,this.l=[],this.h=new ev,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Wy("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Wy("baseRetryDelayMs",5e3,e),this.$a=Wy("retryDelaySeedMs",1e4,e),this.Ya=Wy("forwardChannelMaxRetries",2,e),this.ra=Wy("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new fy(e&&e.concurrentRequestLimit),this.Ca=new wy,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Gy(e){if(Qy(e),3==e.G){var t=e.V++,n=qv(e.F);Qv(n,"SID",e.J),Qv(n,"RID",t),Qv(n,"TYPE","terminate"),Zy(e,n),(t=new wv(e,e.h,t,void 0)).K=2,t.v=Yv(qv(n)),n=!1,md.navigator&&md.navigator.sendBeacon&&(n=md.navigator.sendBeacon(t.v.toString(),"")),!n&&md.Image&&((new Image).src=t.v,n=!0),n||(t.g=lm(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Rv(t)}sm(e)}function Hy(e){e.g&&(nm(e),e.g.cancel(),e.g=null)}function Qy(e){Hy(e),e.u&&(md.clearTimeout(e.u),e.u=null),im(e),e.i.cancel(),e.m&&("number"===typeof e.m&&md.clearTimeout(e.m),e.m=null)}function Yy(e,t){e.l.push(new ly(e.Za++,t)),3==e.G&&Xy(e)}function Xy(e){py(e.i)||e.m||(e.m=!0,Bp(e.Ha,e),e.C=0)}function Jy(e,t){var n;n=t?t.m:e.V++;var r=qv(e.F);Qv(r,"SID",e.J),Qv(r,"RID",n),Qv(r,"AID",e.U),Zy(e,r),e.o&&e.s&&qy(r,e.o,e.s),n=new wv(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=$y(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),my(e.i,n),_v(n,r,t)}function Zy(e,t){e.j&&Fv({},(function(e,n){Qv(t,n,e)}))}function $y(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Ed(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{xy(l,o,"req"+c+"_")}catch(Vm){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function em(e){e.g||e.u||(e.Y=1,Bp(e.Ga,e),e.A=0)}function tm(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=lv(Ed(e.Ga,e),om(e,e.A)),e.A++,!0)}function nm(e){null!=e.B&&(md.clearTimeout(e.B),e.B=null)}function rm(e){e.g=new wv(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=qv(e.oa);Qv(t,"RID","rpc"),Qv(t,"SID",e.J),Qv(t,"CI",e.N?"0":"1"),Qv(t,"AID",e.U),Zy(e,t),Qv(t,"TYPE","xmlhttp"),e.o&&e.s&&qy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Yv(qv(t)),n.s=null,n.U=!0,Tv(n,e)}function im(e){null!=e.v&&(md.clearTimeout(e.v),e.v=null)}function am(e,t){var n=null;if(e.g==t){im(e),nm(e),e.g=null;var r=2}else{if(!yy(e.i,t))return;n=t.D,gy(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Pp(r=iv(),new cv(r,n,t,i)),Xy(e)}else em(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(vy(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=lv(Ed(e.Ha,e,t),om(e,e.C)),e.C++,!0))}(e,t)||2==r&&tm(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:um(e,5);break;case 4:um(e,10);break;case 3:um(e,6);break;default:um(e,2)}}function om(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function um(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Ed(e.jb,e);n||(n=new zv("//www.google.com/images/cleardot.gif"),md.location&&"http"==md.location.protocol||Wv(n,"https"),Yv(n)),function(e,t){var n=new ev;if(md.Image){var r=new Image;r.onload=_d(Iy,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_d(Iy,n,r,"TestLoadImage: error",!1,t),r.onabort=_d(Iy,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_d(Iy,n,r,"TestLoadImage: timeout",!1,t),md.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else sv(2);e.G=0,e.j&&e.j.va(t),sm(e),Qy(e)}function sm(e){e.G=0,e.I=-1,e.j&&(0==ky(e.i).length&&0==e.l.length||(e.i.i.length=0,Dd(e.l),e.l.length=0),e.j.ua())}function cm(e,t,n){var r=function(e){return e instanceof zv?qv(e):new zv(e,void 0)}(n);if(""!=r.i)t&&Kv(r,t+"."+r.i),Gv(r,r.m);else{var i=md.location;r=function(e,t,n,r){var i=new zv(null,void 0);return e&&Wv(i,e),t&&Kv(i,t),n&&Gv(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&Bd(e.aa,(function(e,t){Qv(r,t,e)})),t=e.D,n=e.sa,t&&n&&Qv(r,t,n),Qv(r,"VER",e.ma),Zy(e,r),r}function lm(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Ry(new Sy({ib:!0})):new Ry(e.qa)).L=e.H,t}function fm(){}function hm(){if(Qd&&!(10<=Number(up)))throw Error("Environmental error: no available transport.")}function dm(e,t){Rp.call(this),this.g=new Ky(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Od(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Od(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ym(this)}function pm(e){gv.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vm(){kv.call(this),this.status=1}function ym(e){this.g=e}(dd=Ry.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():yv.g(),this.C=this.u?pv(this.u):pv(yv),this.g.onreadystatechange=Ed(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void My(this,a)}e=n||"";var i=new Vv(this.headers);r&&Fv(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=Ly,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=md.FormData&&e instanceof md.FormData,!(0<=Nd(Oy,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{jy(this),0<this.B&&((this.K=function(e){return Qd&&ap()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ed(this.pa,this)):this.A=Hp(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){My(this,a)}},dd.pa=function(){"undefined"!=typeof yd&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Pp(this,"timeout"),this.abort(8))},dd.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Pp(this,"complete"),Pp(this,"abort"),Uy(this))},dd.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Uy(this,!0)),Ry.Z.M.call(this)},dd.Fa=function(){this.s||(this.F||this.v||this.l?Vy(this):this.cb())},dd.cb=function(){Vy(this)},dd.ba=function(){try{return 2<By(this)?this.g.status:-1}catch(hy){return-1}},dd.ga=function(){try{return this.g?this.g.responseText:""}catch(hy){return""}},dd.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ny(t)}},dd.Da=function(){return this.m},dd.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(dd=Ky.prototype).ma=8,dd.G=1,dd.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},dd.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new wv(this,this.h,e,void 0),n=this.s;if(this.P&&(n?Wd(n=zd(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=$y(this,t,r),Qv(i=qv(this.F),"RID",e),Qv(i,"CVER",22),this.D&&Qv(i,"X-HTTP-Session-Id",this.D),Zy(this,i),this.o&&n&&qy(i,this.o,n),my(this.i,t),this.Ra&&Qv(i,"TYPE","init"),this.ja?(Qv(i,"$req",r),Qv(i,"SID","null"),t.$=!0,_v(t,i,null)):_v(t,i,r),this.G=2}}else 3==this.G&&(e?Jy(this,e):0==this.l.length||py(this.i)||Jy(this))},dd.Ga=function(){if(this.u=null,rm(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=lv(Ed(this.bb,this),e)}},dd.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,sv(10),Hy(this),rm(this))},dd.ab=function(){null!=this.v&&(this.v=null,Hy(this),tm(this),sv(19))},dd.jb=function(e){e?(this.h.info("Successfully pinged google.com"),sv(2)):(this.h.info("Failed to ping google.com"),sv(1))},(dd=fm.prototype).xa=function(){},dd.wa=function(){},dd.va=function(){},dd.ua=function(){},dd.Oa=function(){},hm.prototype.g=function(e,t){return new dm(e,t)},Td(dm,Rp),dm.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),Bp(Ed(e.hb,e,t))),sv(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=cm(e,null,e.W),Xy(e)},dm.prototype.close=function(){Gy(this.g)},dm.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,Yy(this.g,t)}else this.v?((t={}).__data__=Op(e),Yy(this.g,t)):Yy(this.g,e)},dm.prototype.M=function(){this.g.j=null,delete this.j,Gy(this.g),delete this.g,dm.Z.M.call(this)},Td(pm,gv),Td(vm,kv),Td(ym,fm),ym.prototype.xa=function(){Pp(this.g,"a")},ym.prototype.wa=function(e){Pp(this.g,new pm(e))},ym.prototype.va=function(e){Pp(this.g,new vm(e))},ym.prototype.ua=function(){Pp(this.g,"b")},hm.prototype.createWebChannel=hm.prototype.g,dm.prototype.send=dm.prototype.u,dm.prototype.open=dm.prototype.m,dm.prototype.close=dm.prototype.close,fv.NO_ERROR=0,fv.TIMEOUT=8,fv.HTTP_ERROR=6,hv.COMPLETE="complete",vv.EventType=mv,mv.OPEN="a",mv.CLOSE="b",mv.ERROR="c",mv.MESSAGE="d",Rp.prototype.listen=Rp.prototype.N,Ry.prototype.listenOnce=Ry.prototype.O,Ry.prototype.getLastError=Ry.prototype.La,Ry.prototype.getLastErrorCode=Ry.prototype.Da,Ry.prototype.getStatus=Ry.prototype.ba,Ry.prototype.getResponseJson=Ry.prototype.Qa,Ry.prototype.getResponseText=Ry.prototype.ga,Ry.prototype.send=Ry.prototype.ea;var mm=vd.createWebChannelTransport=function(){return new hm},gm=vd.getStatEventTarget=function(){return iv()},km=vd.ErrorCode=fv,bm=vd.EventType=hv,wm=vd.Event=nv,xm=vd.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Im=vd.FetchXmlHttpFactory=Sy,Sm=vd.WebChannel=vv,Em=vd.XhrIo=Ry,_m="@firebase/firestore",Tm=function(){function e(t){Xr(this,e),this.uid=t}return k(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Tm.UNAUTHENTICATED=new Tm(null),Tm.GOOGLE_CREDENTIALS=new Tm("google-credentials-uid"),Tm.FIRST_PARTY=new Tm("first-party-uid"),Tm.MOCK_USER=new Tm("mock-user");var Cm="9.6.11",Am=new na("@firebase/firestore");function Nm(){return Am.logLevel}function Rm(e){if(Am.logLevel<=Hi.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Om);Am.debug.apply(Am,["Firestore (".concat(Cm,"): ").concat(e)].concat(mt(i)))}}function Pm(e){if(Am.logLevel<=Hi.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Om);Am.error.apply(Am,["Firestore (".concat(Cm,"): ").concat(e)].concat(mt(i)))}}function Dm(e){if(Am.logLevel<=Hi.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Om);Am.warn.apply(Am,["Firestore (".concat(Cm,"): ").concat(e)].concat(mt(i)))}}function Om(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Lm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Cm,") INTERNAL ASSERTION FAILED: ")+e;throw Pm(t),new Error(t)}function Mm(e,t){e||Lm()}function Fm(e,t){return e}var Vm={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Um=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return k(n)}(xi),jm=k((function e(){var t=this;Xr(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),Bm=k((function e(t,n){Xr(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),zm=function(){function e(){Xr(this,e)}return k(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tm.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),qm=function(){function e(t){Xr(this,e),this.token=t,this.changeListener=null}return k(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),Wm=function(){function e(t){Xr(this,e),this.t=t,this.currentUser=Tm.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new jm;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new jm,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Rm("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Rm("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new jm)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Rm("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(Mm("string"==typeof n.accessToken),new Bm(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return Mm(null===e||"string"==typeof e),new Tm(e)}}]),e}(),Km=k((function e(t,n,r){Xr(this,e),this.type="FirstParty",this.user=Tm.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),Gm=function(){function e(t,n,r){Xr(this,e),this.h=t,this.l=n,this.m=r}return k(e,[{key:"getToken",value:function(){return Promise.resolve(new Km(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Tm.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),Hm=k((function e(t){Xr(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),Qm=function(){function e(t){Xr(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return k(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Rm("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Rm("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Rm("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Rm("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(Mm("string"==typeof t.token),e.p=t.token,new Hm(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),Ym=function(){function e(t,n){var r=this;Xr(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return k(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function Xm(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}Ym.A=-1;var Jm=function(){function e(){Xr(this,e)}return k(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=Xm(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function Zm(e,t){return e<t?-1:e>t?1:0}function $m(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function eg(e){return e+"\0"}var tg=function(){function e(t,n){if(Xr(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new Um(Vm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Um(Vm.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Um(Vm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Um(Vm.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return k(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?Zm(this.nanoseconds,e.nanoseconds):Zm(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),ng=function(){function e(t){Xr(this,e),this.timestamp=t}return k(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new tg(0,0))}},{key:"max",value:function(){return new e(new tg(253402300799,999999999))}}]),e}();function rg(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function ig(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ag(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var og=function(){function e(t,n,r){Xr(this,e),void 0===n?n=0:n>t.length&&Lm(),void 0===r?r=t.length-n:r>t.length-n&&Lm(),this.segments=t,this.offset=n,this.len=r}return k(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),ug=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new Um(Vm.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,mt(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(og),sg=/^[_a-zA-Z][_a-zA-Z0-9]*$/,cg=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.apply(this,arguments)}return k(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return sg.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new Um(Vm.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new Um(Vm.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new Um(Vm.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new Um(Vm.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(og),lg=function(){function e(t){Xr(this,e),this.fields=t,t.sort(cg.comparator)}return k(e,[{key:"covers",value:function(e){var t,n=Jr(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return $m(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var fg=function(e){function t(e){Xr(this,t),this.binaryString=e}return k(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return Zm(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();fg.EMPTY_BYTE_STRING=new fg("");var hg=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function dg(e){if(Mm(!!e),"string"==typeof e){var t=0,n=hg.exec(e);if(Mm(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:pg(e.seconds),nanos:pg(e.nanos)}}function pg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function vg(e){return"string"==typeof e?fg.fromBase64String(e):fg.fromUint8Array(e)}function yg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function mg(e){var t=e.mapValue.fields.__previous_value__;return yg(t)?mg(t):t}function gg(e){var t=dg(e.mapValue.fields.__local_write_time__.timestampValue);return new tg(t.seconds,t.nanos)}var kg=k((function e(t,n,r,i,a,o,u,s){Xr(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),bg=function(){function e(t,n){Xr(this,e),this.projectId=t,this.database=n||"(default)"}return k(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function wg(e){return null==e}function xg(e){return 0===e&&1/e==-1/0}function Ig(e){return"number"==typeof e&&Number.isInteger(e)&&!xg(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Sg=function(){function e(t){Xr(this,e),this.path=t}return k(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===ug.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(ug.fromString(t))}},{key:"fromName",value:function(t){return new e(ug.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(ug.emptyPath())}},{key:"comparator",value:function(e,t){return ug.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new ug(t.slice()))}}]),e}(),Eg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},_g={nullValue:"NULL_VALUE"};function Tg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?yg(e)?4:Bg(e)?9:10:Lm()}function Cg(e,t){if(e===t)return!0;var n=Tg(e);if(n!==Tg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return gg(e).isEqual(gg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=dg(e.timestampValue),r=dg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return vg(e.bytesValue).isEqual(vg(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return pg(e.geoPointValue.latitude)===pg(t.geoPointValue.latitude)&&pg(e.geoPointValue.longitude)===pg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return pg(e.integerValue)===pg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=pg(e.doubleValue),r=pg(t.doubleValue);return n===r?xg(n)===xg(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $m(e.arrayValue.values||[],t.arrayValue.values||[],Cg);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(rg(n)!==rg(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Cg(n[i],r[i])))return!1;return!0}(e,t);default:return Lm()}}function Ag(e,t){return void 0!==(e.values||[]).find((function(e){return Cg(e,t)}))}function Ng(e,t){if(e===t)return 0;var n=Tg(e),r=Tg(t);if(n!==r)return Zm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zm(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=pg(e.integerValue||e.doubleValue),r=pg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Rg(e.timestampValue,t.timestampValue);case 4:return Rg(gg(e),gg(t));case 5:return Zm(e.stringValue,t.stringValue);case 6:return function(e,t){var n=vg(e),r=vg(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=Zm(n[i],r[i]);if(0!==a)return a}return Zm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=Zm(pg(e.latitude),pg(t.latitude));return 0!==n?n:Zm(pg(e.longitude),pg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Ng(n[i],r[i]);if(a)return a}return Zm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=Zm(r[o],a[o]);if(0!==u)return u;var s=Ng(n[r[o]],i[a[o]]);if(0!==s)return s}return Zm(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Lm()}}function Rg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Zm(e,t);var n=dg(e),r=dg(t),i=Zm(n.seconds,r.seconds);return 0!==i?i:Zm(n.nanos,r.nanos)}function Pg(e){return Dg(e)}function Dg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=dg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?vg(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Sg.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=Jr(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=Dg(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=Jr(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(Dg(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Lm();var t,n}function Og(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Lg(e){return!!e&&"integerValue"in e}function Mg(e){return!!e&&"arrayValue"in e}function Fg(e){return!!e&&"nullValue"in e}function Vg(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ug(e){return!!e&&"mapValue"in e}function jg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return ig(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=jg(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=jg(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Bg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function zg(e){return"nullValue"in e?_g:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Og(bg.empty(),Sg.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:Lm()}function qg(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Og(bg.empty(),Sg.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Eg:Lm()}function Wg(e,t){return void 0===e?t:void 0===t||Ng(e,t)>0?e:t}function Kg(e,t){return void 0===e?t:void 0===t||Ng(e,t)<0?e:t}var Gg=function(){function e(t){Xr(this,e),this.value=t}return k(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!Ug(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jg(t)}},{key:"setAll",value:function(e){var t=this,n=cg.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=jg(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());Ug(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return Cg(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];Ug(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){ig(t,(function(t,n){return e[t]=n}));var r,i=Jr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(jg(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Hg(e){var t=[];return ig(e.fields,(function(e,n){var r=new cg([e]);if(Ug(n)){var i=Hg(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=Jr(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new lg(t)}var Qg=function(){function e(t,n,r,i,a,o){Xr(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return k(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=Gg.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=Gg.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,ng.min(),ng.min(),Gg.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,ng.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,ng.min(),Gg.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,ng.min(),Gg.empty(),2)}}]),e}(),Yg=k((function e(t,n,r,i){Xr(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function Xg(e){return e.fields.find((function(e){return 2===e.kind}))}function Jg(e){return e.fields.filter((function(e){return 2!==e.kind}))}Yg.UNKNOWN_ID=-1;var Zg=k((function e(t,n){Xr(this,e),this.fieldPath=t,this.kind=n})),$g=function(){function e(t,n){Xr(this,e),this.sequenceNumber=t,this.offset=n}return k(e,null,[{key:"empty",value:function(){return new e(0,nk.min())}}]),e}();function ek(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ng.fromTimestamp(1e9===r?new tg(n+1,0):new tg(n,r));return new nk(i,Sg.empty(),t)}function tk(e){return new nk(e.readTime,e.key,-1)}var nk=function(){function e(t,n,r){Xr(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return k(e,null,[{key:"min",value:function(){return new e(ng.min(),Sg.empty(),-1)}},{key:"max",value:function(){return new e(ng.max(),Sg.empty(),-1)}}]),e}();function rk(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Sg.comparator(e.documentKey,t.documentKey))?n:Zm(e.largestBatchId,t.largestBatchId)}var ik=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Xr(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function ak(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new ik(e,t,n,r,i,a,o)}function ok(e){var t=Fm(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Pg(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),wg(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Pg(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Pg(e)})).join(",")),t.P=n}return t.P}function uk(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Ik(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!Cg(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ek(e.startAt,t.startAt)&&Ek(e.endAt,t.endAt)}function sk(e){return Sg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function ck(e,t){return e.filters.filter((function(e){return e instanceof hk&&e.field.isEqual(t)}))}function lk(e,t,n){var r,i,a=!0,o=Jr(ck(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case"<":case"<=":s=zg(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=_g}Wg(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Wg(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}function fk(e,t,n){var r,i,a=!0,o=Jr(ck(e,t));try{for(o.s();!(i=o.n()).done;){var u=i.value,s=void 0,c=!0;switch(u.op){case">=":case">":s=qg(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Eg}Kg(r,s)===s&&(r=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];Kg(r,f)===f&&(r=f,a=n.inclusive);break}return{value:r,inclusive:a}}var hk=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Ng(t,this.value)):null!==t&&Tg(this.value)===Tg(t)&&this.v(Ng(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Lm()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new dk(e,t,r):"array-contains"===t?new mk(e,r):"in"===t?new gk(e,r):"not-in"===t?new kk(e,r):"array-contains-any"===t?new bk(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new pk(e,n):new vk(e,n)}}]),n}(function(){return k((function e(){Xr(this,e)}))}()),dk=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this,e,r,i)).key=Sg.fromName(i.referenceValue),a}return k(n,[{key:"matches",value:function(e){var t=Sg.comparator(e.key,this.key);return this.v(t)}}]),n}(hk),pk=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e,"in",r)).keys=yk("in",r),i}return k(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(hk),vk=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e,"not-in",r)).keys=yk("not-in",r),i}return k(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(hk);function yk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Sg.fromName(e.referenceValue)}))}var mk=function(e){Zr(n,e);var t=ni(n);function n(e,r){return Xr(this,n),t.call(this,e,"array-contains",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return Mg(t)&&Ag(t.arrayValue,this.value)}}]),n}(hk),gk=function(e){Zr(n,e);var t=ni(n);function n(e,r){return Xr(this,n),t.call(this,e,"in",r)}return k(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Ag(this.value.arrayValue,t)}}]),n}(hk),kk=function(e){Zr(n,e);var t=ni(n);function n(e,r){return Xr(this,n),t.call(this,e,"not-in",r)}return k(n,[{key:"matches",value:function(e){if(Ag(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Ag(this.value.arrayValue,t)}}]),n}(hk),bk=function(e){Zr(n,e);var t=ni(n);function n(e,r){return Xr(this,n),t.call(this,e,"array-contains-any",r)}return k(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!Mg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Ag(t.value.arrayValue,e)}))}}]),n}(hk),wk=k((function e(t,n){Xr(this,e),this.position=t,this.inclusive=n})),xk=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Xr(this,e),this.field=t,this.dir=n}));function Ik(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Sk(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Sg.comparator(Sg.fromName(o.referenceValue),n.key):Ng(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Ek(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!Cg(e.position[n],t.position[n]))return!1;return!0}var _k=k((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Xr(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function Tk(e,t,n,r,i,a,o,u){return new _k(e,t,n,r,i,a,o,u)}function Ck(e){return new _k(e)}function Ak(e){return!wg(e.limit)&&"F"===e.limitType}function Nk(e){return!wg(e.limit)&&"L"===e.limitType}function Rk(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Pk(e){var t,n=Jr(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function Dk(e){return null!==e.collectionGroup}function Ok(e){var t=Fm(e);if(null===t.D){t.D=[];var n=Pk(t),r=Rk(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new xk(n)),t.D.push(new xk(cg.keyField(),"asc"));else{var i,a=!1,o=Jr(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new xk(cg.keyField(),s))}}}return t.D}function Lk(e){var t=Fm(e);if(!t.C)if("F"===t.limitType)t.C=ak(t.path,t.collectionGroup,Ok(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=Jr(Ok(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new xk(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new wk(t.endAt.position,!t.endAt.inclusive):null,s=t.startAt?new wk(t.startAt.position,!t.startAt.inclusive):null;t.C=ak(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function Mk(e,t,n){return new _k(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Fk(e,t){return uk(Lk(e),Lk(t))&&e.limitType===t.limitType}function Vk(e){return"".concat(ok(Lk(e)),"|lt:").concat(e.limitType)}function Uk(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Pg(t.value));var t})).join(", "),"]")),wg(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Pg(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Pg(e)})).join(",")),"Target(".concat(t,")")}(Lk(e)),"; limitType=").concat(e.limitType,")")}function jk(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Sg.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=Jr(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=Jr(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Sk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ok(e),t))&&!(e.endAt&&!function(e,t,n){var r=Sk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ok(e),t))}(e,t)}function Bk(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function zk(e){return function(t,n){var r,i=!1,a=Jr(Ok(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=qk(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function qk(e,t,n){var r=e.field.isKeyField()?Sg.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ng(r,i):Lm()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Lm()}}function Wk(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xg(t)?"-0":t}}function Kk(e){return{integerValue:""+e}}function Gk(e,t){return Ig(t)?Kk(t):Wk(e,t)}var Hk=k((function e(){Xr(this,e),this._=void 0}));function Qk(e,t,n){return e instanceof Jk?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zk?$k(e,t):e instanceof eb?tb(e,t):function(e,t){var n=Xk(e,t),r=rb(n)+rb(e.k);return Lg(n)&&Lg(e.k)?Kk(r):Wk(e.M,r)}(e,t)}function Yk(e,t,n){return e instanceof Zk?$k(e,t):e instanceof eb?tb(e,t):n}function Xk(e,t){return e instanceof nb?Lg(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var Jk=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.apply(this,arguments)}return k(n)}(Hk),Zk=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this)).elements=e,r}return k(n)}(Hk);function $k(e,t){var n,r=ib(t),i=Jr(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return Cg(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var eb=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this)).elements=e,r}return k(n)}(Hk);function tb(e,t){var n,r=ib(t),i=Jr(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!Cg(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var nb=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this)).M=e,i.k=r,i}return k(n)}(Hk);function rb(e){return pg(e.integerValue||e.doubleValue)}function ib(e){return Mg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var ab=k((function e(t,n){Xr(this,e),this.field=t,this.transform=n}));var ob=k((function e(t,n){Xr(this,e),this.version=t,this.transformResults=n})),ub=function(){function e(t,n){Xr(this,e),this.updateTime=t,this.exists=n}return k(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function sb(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var cb=k((function e(){Xr(this,e)}));function lb(e,t,n){e instanceof vb?function(e,t,n){var r=e.value.clone(),i=gb(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof yb?function(e,t,n){if(sb(e.precondition,t)){var r=gb(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(mb(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function fb(e,t,n){e instanceof vb?function(e,t,n){if(sb(e.precondition,t)){var r=e.value.clone(),i=kb(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(pb(t),r).setHasLocalMutations()}}(e,t,n):e instanceof yb?function(e,t,n){if(sb(e.precondition,t)){var r=kb(e.fieldTransforms,n,t),i=t.data;i.setAll(mb(e)),i.setAll(r),t.convertToFoundDocument(pb(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){sb(e.precondition,t)&&t.convertToNoDocument(ng.min())}(e,t)}function hb(e,t){var n,r=null,i=Jr(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=Xk(a.transform,o||null);null!=u&&(null==r&&(r=Gg.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function db(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$m(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zk&&t instanceof Zk||e instanceof eb&&t instanceof eb?$m(e.elements,t.elements,Cg):e instanceof nb&&t instanceof nb?Cg(e.k,t.k):e instanceof Jk&&t instanceof Jk}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function pb(e){return e.isFoundDocument()?e.version:ng.min()}var vb=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Xr(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return k(n)}(cb),yb=function(e){Zr(n,e);var t=ni(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Xr(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return k(n)}(cb);function mb(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function gb(e,t,n){var r=new Map;Mm(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,Yk(o,u,n[i]))}return r}function kb(e,t,n){var r,i=new Map,a=Jr(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,Qk(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var bb,wb,xb=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return k(n)}(cb),Ib=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return k(n)}(cb),Sb=k((function e(t){Xr(this,e),this.count=t}));function Eb(e){switch(e){default:return Lm();case Vm.CANCELLED:case Vm.UNKNOWN:case Vm.DEADLINE_EXCEEDED:case Vm.RESOURCE_EXHAUSTED:case Vm.INTERNAL:case Vm.UNAVAILABLE:case Vm.UNAUTHENTICATED:return!1;case Vm.INVALID_ARGUMENT:case Vm.NOT_FOUND:case Vm.ALREADY_EXISTS:case Vm.PERMISSION_DENIED:case Vm.FAILED_PRECONDITION:case Vm.ABORTED:case Vm.OUT_OF_RANGE:case Vm.UNIMPLEMENTED:case Vm.DATA_LOSS:return!0}}function _b(e){if(void 0===e)return Pm("GRPC error has no .code"),Vm.UNKNOWN;switch(e){case bb.OK:return Vm.OK;case bb.CANCELLED:return Vm.CANCELLED;case bb.UNKNOWN:return Vm.UNKNOWN;case bb.DEADLINE_EXCEEDED:return Vm.DEADLINE_EXCEEDED;case bb.RESOURCE_EXHAUSTED:return Vm.RESOURCE_EXHAUSTED;case bb.INTERNAL:return Vm.INTERNAL;case bb.UNAVAILABLE:return Vm.UNAVAILABLE;case bb.UNAUTHENTICATED:return Vm.UNAUTHENTICATED;case bb.INVALID_ARGUMENT:return Vm.INVALID_ARGUMENT;case bb.NOT_FOUND:return Vm.NOT_FOUND;case bb.ALREADY_EXISTS:return Vm.ALREADY_EXISTS;case bb.PERMISSION_DENIED:return Vm.PERMISSION_DENIED;case bb.FAILED_PRECONDITION:return Vm.FAILED_PRECONDITION;case bb.ABORTED:return Vm.ABORTED;case bb.OUT_OF_RANGE:return Vm.OUT_OF_RANGE;case bb.UNIMPLEMENTED:return Vm.UNIMPLEMENTED;case bb.DATA_LOSS:return Vm.DATA_LOSS;default:return Lm()}}(wb=bb||(bb={}))[wb.OK=0]="OK",wb[wb.CANCELLED=1]="CANCELLED",wb[wb.UNKNOWN=2]="UNKNOWN",wb[wb.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",wb[wb.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",wb[wb.NOT_FOUND=5]="NOT_FOUND",wb[wb.ALREADY_EXISTS=6]="ALREADY_EXISTS",wb[wb.PERMISSION_DENIED=7]="PERMISSION_DENIED",wb[wb.UNAUTHENTICATED=16]="UNAUTHENTICATED",wb[wb.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",wb[wb.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",wb[wb.ABORTED=10]="ABORTED",wb[wb.OUT_OF_RANGE=11]="OUT_OF_RANGE",wb[wb.UNIMPLEMENTED=12]="UNIMPLEMENTED",wb[wb.INTERNAL=13]="INTERNAL",wb[wb.UNAVAILABLE=14]="UNAVAILABLE",wb[wb.DATA_LOSS=15]="DATA_LOSS";var Tb=function(){function e(t,n){Xr(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return k(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=Jr(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(c){i.e(c)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){ig(this.inner,(function(t,n){var r,i=Jr(n);try{for(i.s();!(r=i.n()).done;){var a=s(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(c){i.e(c)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return ag(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Cb=function(){function e(t,n){Xr(this,e),this.comparator=t,this.root=n||Nb.EMPTY}return k(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Nb.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Nb.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ab(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ab(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ab(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ab(this.root,e,this.comparator,!0)}}]),e}(),Ab=function(){function e(t,n,r,i){Xr(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return k(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Nb=function(){function e(t,n,r,i,a){Xr(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return k(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Lm();if(this.right.isRed())throw Lm();var e=this.left.check();if(e!==this.right.check())throw Lm();return e+(this.isRed()?0:1)}}]),e}();Nb.EMPTY=null,Nb.RED=!0,Nb.BLACK=!1,Nb.EMPTY=new(function(){function e(){Xr(this,e),this.size=0}return k(e,[{key:"key",get:function(){throw Lm()}},{key:"value",get:function(){throw Lm()}},{key:"color",get:function(){throw Lm()}},{key:"left",get:function(){throw Lm()}},{key:"right",get:function(){throw Lm()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Nb(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Rb=function(){function e(t){Xr(this,e),this.comparator=t,this.data=new Cb(this.comparator)}return k(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Pb(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Pb(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Pb=function(){function e(t){Xr(this,e),this.iter=t}return k(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Db(e){return e.hasNext()?e.getNext():void 0}var Ob=new Cb(Sg.comparator);function Lb(){return Ob}var Mb=new Cb(Sg.comparator);function Fb(){return Mb}function Vb(){return new Tb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Ub=new Cb(Sg.comparator),jb=new Rb(Sg.comparator);function Bb(){for(var e=jb,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var zb=new Rb(Zm);function qb(){return zb}var Wb=function(){function e(t,n,r,i,a){Xr(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return k(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,Kb.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(ng.min(),r,qb(),Lb(),Bb())}}]),e}(),Kb=function(){function e(t,n,r,i,a){Xr(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return k(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(fg.EMPTY_BYTE_STRING,n,Bb(),Bb(),Bb())}}]),e}(),Gb=k((function e(t,n,r,i){Xr(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),Hb=k((function e(t,n){Xr(this,e),this.targetId=t,this.$=n})),Qb=k((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fg.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Xr(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),Yb=function(){function e(){Xr(this,e),this.B=0,this.L=Zb(),this.U=fg.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return k(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=Bb(),t=Bb(),n=Bb();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Lm()}})),new Kb(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=Zb()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),Xb=function(){function e(t){Xr(this,e),this.nt=t,this.st=new Map,this.it=Lb(),this.rt=Jb(),this.ot=new Rb(Zm)}return k(e,[{key:"ut",value:function(e){var t,n=Jr(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=Jr(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:Lm()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(sk(i))if(0===n){var a=new Sg(i.path);this.ct(t,a,Qg.newNoDocument(a,ng.min()))}else Mm(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&sk(a.target)){var o=new Sg(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,Qg.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=Bb();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new Wb(e,n,this.ot,this.it,r);return this.it=Lb(),this.rt=Jb(),this.ot=new Rb(Zm),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new Yb,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Rb(Zm),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Rm("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new Yb),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function Jb(){return new Cb(Sg.comparator)}function Zb(){return new Cb(Sg.comparator)}var $b={asc:"ASCENDING",desc:"DESCENDING"},ew={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tw=k((function e(t,n){Xr(this,e),this.databaseId=t,this.N=n}));function nw(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function rw(e,t){return e.N?t.toBase64():t.toUint8Array()}function iw(e,t){return nw(e,t.toTimestamp())}function aw(e){return Mm(!!e),ng.fromTimestamp(function(e){var t=dg(e);return new tg(t.seconds,t.nanos)}(e))}function ow(e,t){return function(e){return new ug(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function uw(e){var t=ug.fromString(e);return Mm(Nw(t)),t}function sw(e,t){return ow(e.databaseId,t.path)}function cw(e,t){var n=uw(t);if(n.get(1)!==e.databaseId.projectId)throw new Um(Vm.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Um(Vm.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Sg(dw(n))}function lw(e,t){return ow(e.databaseId,t)}function fw(e){var t=uw(e);return 4===t.length?ug.emptyPath():dw(t)}function hw(e){return new ug(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function dw(e){return Mm(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function pw(e,t,n){return{name:sw(e,t),fields:n.value.mapValue.fields}}function vw(e,t,n){var r=cw(e,t.name),i=aw(t.updateTime),a=new Gg({mapValue:{fields:t.fields}}),o=Qg.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function yw(e,t){return"found"in t?function(e,t){Mm(!!t.found),t.found.name,t.found.updateTime;var n=cw(e,t.found.name),r=aw(t.found.updateTime),i=new Gg({mapValue:{fields:t.found.fields}});return Qg.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Mm(!!t.missing),Mm(!!t.readTime);var n=cw(e,t.missing),r=aw(t.readTime);return Qg.newNoDocument(n,r)}(e,t):Lm()}function mw(e,t){var n;if(t instanceof vb)n={update:pw(e,t.key,t.value)};else if(t instanceof xb)n={delete:sw(e,t.key)};else if(t instanceof yb)n={update:pw(e,t.key,t.data),updateMask:Aw(t.fieldMask)};else{if(!(t instanceof Ib))return Lm();n={verify:sw(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Jk)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Zk)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof eb)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof nb)return{fieldPath:t.field.canonicalString(),increment:n.k};throw Lm()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:iw(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Lm()}(e,t.precondition)),n}function gw(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?ub.updateTime(aw(e.updateTime)):void 0!==e.exists?ub.exists(e.exists):ub.none()}(t.currentDocument):ub.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)Mm("REQUEST_TIME"===t.setToServerValue),n=new Jk;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new Zk(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new eb(i)}else"increment"in t?n=new nb(e,t.increment):Lm();var a=cg.fromServerFormat(t.fieldPath);return new ab(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=cw(e,t.update.name),a=new Gg({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new lg(t.map((function(e){return cg.fromServerFormat(e)})))}(t.updateMask);return new yb(i,a,o,n,r)}return new vb(i,a,n,r)}if(t.delete){var u=cw(e,t.delete);return new xb(u,n)}if(t.verify){var s=cw(e,t.verify);return new Ib(s,n)}return Lm()}function kw(e,t){return{documents:[lw(e,t.path)]}}function bw(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=lw(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=lw(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(Vg(e.value))return{unaryFilter:{field:Ew(e.field),op:"IS_NAN"}};if(Fg(e.value))return{unaryFilter:{field:Ew(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Vg(e.value))return{unaryFilter:{field:Ew(e.field),op:"IS_NOT_NAN"}};if(Fg(e.value))return{unaryFilter:{field:Ew(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ew(e.field),op:Sw(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:Ew(e.field),direction:Iw(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||wg(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function ww(e){var t=fw(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Mm(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=xw(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new xk(_w(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return wg(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new wk(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new wk(n,t)}(n.endAt)),Tk(t,i,u,o,s,"F",c,l)}function xw(e){return e?void 0!==e.unaryFilter?[Cw(e)]:void 0!==e.fieldFilter?[Tw(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return xw(e)})).reduce((function(e,t){return e.concat(t)})):Lm():[]}function Iw(e){return $b[e]}function Sw(e){return ew[e]}function Ew(e){return{fieldPath:e.canonicalString()}}function _w(e){return cg.fromServerFormat(e.fieldPath)}function Tw(e){return hk.create(_w(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Lm()}}(e.fieldFilter.op),e.fieldFilter.value)}function Cw(e){switch(e.unaryFilter.op){case"IS_NAN":var t=_w(e.unaryFilter.field);return hk.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=_w(e.unaryFilter.field);return hk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=_w(e.unaryFilter.field);return hk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=_w(e.unaryFilter.field);return hk.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Lm()}}function Aw(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function Nw(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Rw(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=Dw(t)),t=Pw(e.get(n),t);return Dw(t)}function Pw(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function Dw(e){return e+"\x01\x01"}function Ow(e){var t=e.length;if(Mm(t>=2),2===t)return Mm("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),ug.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&Lm(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:Lm()}a=o+2}return new ug(r)}var Lw=["userId","batchId"];function Mw(e,t){return[e,Rw(t)]}function Fw(e,t,n){return[e,Rw(t),n]}var Vw={},Uw=["prefixPath","collectionGroup","readTime","documentId"],jw=["prefixPath","collectionGroup","documentId"],Bw=["collectionGroup","readTime","prefixPath","documentId"],zw=["canonicalId","targetId"],qw=["targetId","path"],Ww=["path","targetId"],Kw=["collectionId","parent"],Gw=["indexId","uid"],Hw=["uid","sequenceNumber"],Qw=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Yw=["indexId","uid","orderedDocumentKey"],Xw=["userId","collectionPath","documentId"],Jw=["userId","collectionPath","largestBatchId"],Zw=["userId","collectionGroup","largestBatchId"],$w=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ex=[].concat(mt($w),["documentOverlays"]),tx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nx=[].concat(tx,["indexConfiguration","indexState","indexEntries"]),rx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ix=function(){function e(){Xr(this,e),this.onCommittedListeners=[]}return k(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),ax=function(){function e(t){var n=this;Xr(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return k(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Lm(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=Jr(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),ox=function(){function e(t,n){var r=this;Xr(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new jm,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new cx(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=px(e.target.error);r.At.reject(new cx(t,n))}}return k(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Rm("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"Pt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new fx(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new cx(n,t)}}}]),e}(),ux=function(){function e(t,n,r){Xr(this,e),this.name=t,this.version=n,this.bt=r,12.2===e.Vt(vi())&&Pm("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return k(e,[{key:"Nt",value:function(){var e=zi(oi().mark((function e(t){var n=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Rm("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new cx(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new Um(Vm.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new Um(Vm.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new cx(t,n))},i.onupgradeneeded=function(e){Rm("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.bt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Rm("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=zi(oi().mark((function e(t,n,r,i){var a,o,u,s,c=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(oi().mark((function e(){var n,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=ox.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.Pt(),e})).catch((function(e){return n.abort(e),ax.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Rm("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Rm("SimpleDb","Removing database:",e),hx(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!wi())return!1;if(e.St())return!0;var t=vi(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"/anoroamryv",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),sx=function(){function e(t){Xr(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return k(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return hx(this.Ft.delete())}}]),e}(),cx=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,Vm.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return k(n)}(Um);function lx(e){return"IndexedDbTransactionError"===e.name}var fx=function(){function e(t){Xr(this,e),this.store=t}return k(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Rm("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Rm("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),hx(n)}},{key:"add",value:function(e){return Rm("SimpleDb","ADD",this.store.name,e,e),hx(this.store.add(e))}},{key:"get",value:function(e){var t=this;return hx(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Rm("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Rm("SimpleDb","DELETE",this.store.name,e),hx(this.store.delete(e))}},{key:"count",value:function(){return Rm("SimpleDb","COUNT",this.store.name),hx(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new ax((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new ax((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Rm("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new ax((function(n,r){t.onerror=function(e){var t=px(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new ax((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new sx(i),o=t(i.primaryKey,i.value,a);if(o instanceof ax){var u=o.catch((function(e){return a.done(),ax.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return ax.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function hx(e){return new ax((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=px(e.target.error);n(t)}}))}var dx=!1;function px(e){var t=ux.Vt(vi());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new Um("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return dx||(dx=!0,setTimeout((function(){throw r}),0)),r}}return e}var vx=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return k(n)}(ix);function yx(e,t){var n=Fm(e);return ux.xt(n.Ht,t)}var mx=function(){function e(t,n,r,i){Xr(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return k(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&lb(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=Jr(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&fb(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=Jr(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&fb(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(ng.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Bb())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&$m(this.mutations,e.mutations,(function(e,t){return db(e,t)}))&&$m(this.baseMutations,e.baseMutations,(function(e,t){return db(e,t)}))}}]),e}(),gx=function(){function e(t,n,r,i){Xr(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return k(e,null,[{key:"from",value:function(t,n,r){Mm(t.mutations.length===r.length);for(var i=Ub,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),kx=function(){function e(t,n){Xr(this,e),this.largestBatchId=t,this.mutation=n}return k(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),bx=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ng.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:ng.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fg.EMPTY_BYTE_STRING;Xr(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return k(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),wx=k((function e(t){Xr(this,e),this.Jt=t}));function xx(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Ix(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:sw(e,t.key),fields:t.data.value.mapValue.fields,updateTime:nw(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Sx(t.version)};else{if(!t.isUnknownDocument())return Lm();r.unknownDocument={path:n.path.toArray(),version:Sx(t.version)}}return r}function Ix(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function Sx(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ex(e){var t=new tg(e.seconds,e.nanoseconds);return ng.fromTimestamp(t)}function _x(e,t){for(var n=(t.baseMutations||[]).map((function(t){return gw(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return gw(e.Jt,t)})),u=tg.fromMillis(t.localWriteTimeMs);return new mx(t.batchId,u,n,o)}function Tx(e){var t,n,r=Ex(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?Ex(e.lastLimboFreeSnapshotVersion):ng.min();return void 0!==e.query.documents?(Mm(1===(n=e.query).documents.length),t=Lk(Ck(fw(n.documents[0])))):t=function(e){return Lk(ww(e))}(e.query),new bx(t,e.targetId,0,e.lastListenSequenceNumber,r,i,fg.fromBase64String(e.resumeToken))}function Cx(e,t){var n,r=Sx(t.snapshotVersion),i=Sx(t.lastLimboFreeSnapshotVersion);n=sk(t.target)?kw(e.Jt,t.target):bw(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:ok(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function Ax(e){var t=ww({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Mk(t,t.limit,"L"):t}function Nx(e,t){return new kx(t.largestBatchId,gw(e.Jt,t.overlayMutation))}function Rx(e,t){var n=t.path.lastSegment();return[e,Rw(t.path.popLast()),n]}var Px=function(){function e(){Xr(this,e)}return k(e,[{key:"getBundleMetadata",value:function(e,t){return Dx(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:Ex(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return Dx(e).put({bundleId:(n=t).id,createTime:Sx(aw(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return Ox(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:Ax(t.bundledQuery),readTime:Ex(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return Ox(e).put(function(e){return{name:e.name,readTime:Sx(aw(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function Dx(e){return yx(e,"bundles")}function Ox(e){return yx(e,"namedQueries")}var Lx=function(){function e(t,n){Xr(this,e),this.M=t,this.userId=n}return k(e,[{key:"getOverlay",value:function(e,t){var n=this;return Mx(e).get(Rx(this.userId,t)).next((function(e){return e?Nx(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new kx(t,a);i.push(r.Xt(e,o))})),ax.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(Rw(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(Mx(e).Qt("collectionPathOverlayIndex",i))})),ax.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=Vb(),a=Rw(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return Mx(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=Jr(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=Nx(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=Vb(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mx(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=Nx(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return Mx(e).put(function(e,t,n){var r=s(Rx(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:mw(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function Mx(e){return yx(e,"documentOverlays")}var Fx=function(){function e(){Xr(this,e)}return k(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(pg(e.integerValue));else if("doubleValue"in e){var n=pg(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),xg(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(vg(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?Bg(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):Lm()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=Jr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Sg.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function Vx(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function Ux(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=Vx(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}Fx.fe=new Fx;var jx=function(){function e(){Xr(this,e),this.buffer=new Uint8Array(1024),this.position=0}return k(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=Jr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=Jr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=Ux(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=Ux(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"Pe",value:function(){this.be(255),this.be(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.be(0),this.be(255)):255===t?(this.be(255),this.be(0)):this.be(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.be(0),this.be(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"be",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),Bx=function(){function e(t){Xr(this,e),this.De=t}return k(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.Pe()}}]),e}(),zx=function(){function e(t){Xr(this,e),this.De=t}return k(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),qx=function(){function e(){Xr(this,e),this.De=new jx,this.Ce=new Bx(this.De),this.xe=new zx(this.De)}return k(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),Wx=function(){function e(t,n,r,i){Xr(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return k(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function Kx(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=Gx(e.arrayValue,t.arrayValue))?n:0!==(n=Gx(e.directionalValue,t.directionalValue))?n:Sg.comparator(e.documentKey,t.documentKey)}function Gx(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var Hx=function(){function e(t){Xr(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=Jr(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return k(e,[{key:"$e",value:function(e){var t=Xg(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=Jg(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=Jr(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),Qx=function(){function e(){Xr(this,e),this.qe=new Yx}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),ax.resolve()}},{key:"getCollectionParents",value:function(e,t){return ax.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return ax.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return ax.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return ax.resolve(null)}},{key:"getFieldIndex",value:function(e,t){return ax.resolve(null)}},{key:"getFieldIndexes",value:function(e,t){return ax.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return ax.resolve(null)}},{key:"updateCollectionGroup",value:function(e,t,n){return ax.resolve()}},{key:"updateIndexEntries",value:function(e,t){return ax.resolve()}}]),e}(),Yx=function(){function e(){Xr(this,e),this.index={}}return k(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Rb(ug.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Rb(ug.comparator)).toArray()}}]),e}(),Xx=new Uint8Array(0),Jx=function(){function e(t,n){Xr(this,e),this.user=t,this.databaseId=n,this.Ke=new Yx,this.Ge=new Tb((function(e){return ok(e)}),(function(e,t){return uk(e,t)})),this.uid=t.uid||""}return k(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:Rw(i)};return Zx(e).put(a)}return ax.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[eg(t),""],!1,!0);return Zx(e).qt(r).next((function(e){var r,i=Jr(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(Ow(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=eI(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=eI(e),r=tI(e),i=$x(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=$x(e),i=!0,a=new Map;return ax.forEach(this.Qe(t),(function(t){return n.getFieldIndex(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=Bb(),o=[];return ax.forEach(a,(function(i,a){var u;Rm("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(ok(t)));var s=function(e,t){var n=Xg(t);if(void 0===n)return null;var r,i=Jr(ck(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=Jr(Jg(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=Jr(ck(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=Jr(Jg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?lk(e,o.fieldPath,e.startAt):fk(e,o.fieldPath,e.startAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new wk(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=Jr(Jg(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?fk(e,o.fieldPath,e.endAt):lk(e,o.fieldPath,e.endAt);if(!u.value)return null;r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new wk(r,i)}(a,i),h=n.je(i,a,l),d=n.je(i,a,f),p=n.We(i,a,c),v=n.ze(i.indexId,s,h,!!l&&l.inclusive,d,!!f&&f.inclusive,p);return ax.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Sg.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return ax.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"ze",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(null!=n?n.length:1,null!=i?i.length:1),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.He(t[s/c]):Xx,h=n?u.Je(e,f,n[s%c],r):u.Ye(e),d=i?u.Xe(e,f,i[s%c],a):u.Ye(e+1);l.push.apply(l,mt(u.createRange(h,d,o.map((function(t){return u.Je(e,f,t,!0)})))))},h=0;h<s;++h)f(h);return l}},{key:"Je",value:function(e,t,n,r){var i=new Wx(e,Sg.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new Wx(e,Sg.empty(),t,n);return r?i.ke():i}},{key:"Ye",value:function(e){return new Wx(e,Sg.empty(),Xx,Xx)}},{key:"getFieldIndex",value:function(e,t){var n=new Hx(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t=e.filter((function(e){return n.$e(e)}));return t.sort((function(e,t){return t.fields.length-e.fields.length})),t.length>0?t[0]:null}))}},{key:"Ze",value:function(e,t){var n,r=new qx,i=Jr(Jg(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);Fx.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"He",value:function(e){var t=new qx;return Fx.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new qx;return Fx.fe.Zt(Og(this.databaseId,t),n.Ne(function(e){var t=Jg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"We",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new qx);var i,a=0,o=Jr(Jg(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=Jr(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&Mg(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);Fx.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"je",value:function(e,t,n){return null==n?null:this.We(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=mt(e),a=[],o=Jr(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=Jr(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new qx;f.seed(l.Se()),Fx.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof hk&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=eI(e),i=tI(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return ax.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new $g(t.sequenceNumber,new nk(Ex(t.readTime),new Sg(Ow(t.documentKey)),t.largestBatchId)):$g.empty(),r=e.fields.map((function(e){var t=s(e,2),n=t[0],r=t[1];return new Zg(cg.fromServerFormat(n),r)}));return new Yg(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Zm(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=eI(e),a=tI(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return ax.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:Sx(r.readTime),documentKey:Rw(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return ax.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?ax.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),ax.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?ax.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return $x(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return $x(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=$x(e),i=new Rb(Kx);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new Wx(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Rb(Kx),r=this.Ze(t,e);if(null==r)return n;var i=Xg(t);if(null!=i){var a=e.data.field(i.fieldPath);if(Mg(a)){var o,u=Jr(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new Wx(t.indexId,e.key,this.He(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new Wx(t.indexId,e.key,Xx,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Rm("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Db(a),s=Db(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Db(o)):l?(i(u),u=Db(a)):(u=Db(a),s=Db(o))}}(r,i,Kx,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),ax.waitFor(o)}},{key:"rn",value:function(e){var t=1;return tI(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return Kx(e,t)})).filter((function(e,t,n){return!t||0!==Kx(e,n[t-1])}));var r=[];r.push(e);var i,a=Jr(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=Kx(o,e),s=Kx(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,Xx,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,Xx,[]]));return c}}]),e}();function Zx(e){return yx(e,"collectionParents")}function $x(e){return yx(e,"indexEntries")}function eI(e){return yx(e,"indexConfiguration")}function tI(e){return yx(e,"indexState")}var nI={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},rI=function(){function e(t,n,r){Xr(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return k(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function iI(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){Mm(1===u)})));var c,l=[],f=Jr(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=Fw(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return ax.waitFor(a).next((function(){return l}))}function aI(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw Lm();t=e.noDocument}return JSON.stringify(t).length}rI.DEFAULT_COLLECTION_PERCENTILE=10,rI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rI.DEFAULT=new rI(41943040,rI.DEFAULT_COLLECTION_PERCENTILE,rI.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rI.DISABLED=new rI(-1,0,0);var oI=function(){function e(t,n,r,i){Xr(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return k(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return sI(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=cI(e),o=sI(e);return o.add({}).next((function(u){Mm("number"==typeof u);var s,c=new mx(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return mw(e.Jt,t)})),i=n.mutations.map((function(t){return mw(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Rb((function(e,t){return Zm(e.canonicalString(),t.canonicalString())})),d=Jr(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=Fw(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,Vw))}}catch(y){d.e(y)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),ax.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return sI(e).get(t).next((function(e){return e?(Mm(e.userId===n.userId),_x(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?ax.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return sI(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(Mm(t.batchId>=r),a=_x(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return sI(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return sI(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return _x(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=Mw(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return cI(e).Wt({range:i},(function(r,i,o){var u=s(r,3),c=u[0],l=u[1],f=u[2],h=Ow(l);if(c===n.userId&&t.path.isEqual(h))return sI(e).get(f).next((function(e){if(!e)throw Lm();Mm(e.userId===n.userId),a.push(_x(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rb(Zm),i=[];return t.forEach((function(t){var a=Mw(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=cI(e).Wt({range:o},(function(e,i,a){var o=s(e,3),u=o[0],c=o[1],l=o[2],f=Ow(c);u===n.userId&&t.path.isEqual(f)?r=r.add(l):a.done()}));i.push(u)})),ax.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=Mw(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Rb(Zm);return cI(e).Wt({range:o},(function(e,t,a){var o=s(e,3),c=o[0],l=o[1],f=o[2],h=Ow(l);c===n.userId&&r.isPrefixOf(h)?h.length===i&&(u=u.add(f)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(sI(e).get(t).next((function(e){if(null===e)throw Lm();Mm(e.userId===n.userId),r.push(_x(n.M,e))})))})),ax.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return iI(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),ax.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return ax.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return cI(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=Ow(e[1]);i.push(a)}else r.done()})).next((function(){Mm(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return uI(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return lI(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return Mm(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function uI(e,t,n){var r=Mw(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return cI(e).Wt({range:a,jt:!0},(function(e,n,r){var a=s(e,3),u=a[0],c=a[1];a[2];u===t&&c===i&&(o=!0),r.done()})).next((function(){return o}))}function sI(e){return yx(e,"mutations")}function cI(e){return yx(e,"documentMutations")}function lI(e){return yx(e,"mutationQueues")}var fI=function(){function e(t){Xr(this,e),this.mn=t}return k(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),hI=function(){function e(t,n){Xr(this,e),this.referenceDelegate=t,this.M=n}return k(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new fI(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return ng.fromTimestamp(new tg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return dI(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return Mm(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return dI(e).Wt((function(o,u){var s=Tx(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return ax.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return dI(e).Wt((function(e,n){var r=Tx(n);t(r)}))}},{key:"pn",value:function(e){return pI(e).get("targetGlobalKey").next((function(e){return Mm(null!==e),e}))}},{key:"In",value:function(e,t){return pI(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return dI(e).put(Cx(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=ok(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return dI(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=Tx(n);uk(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=vI(e);return t.forEach((function(t){var o=Rw(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),ax.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=vI(e);return ax.forEach(t,(function(t){var a=Rw(t.path);return ax.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=vI(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=vI(e),i=Bb();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=Ow(e[1]),a=new Sg(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=Rw(t.path),r=IDBKeyRange.bound([n],[eg(n)],!1,!0),i=0;return vI(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=s(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return dI(e).get(t).next((function(e){return e?Tx(e):null}))}}]),e}();function dI(e){return yx(e,"targets")}function pI(e){return yx(e,"targetGlobal")}function vI(e){return yx(e,"targetDocuments")}function yI(e){return mI.apply(this,arguments)}function mI(){return mI=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===Vm.FAILED_PRECONDITION&&t.message===rx){e.next=2;break}throw t;case 2:Rm("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function gI(e,t){var n=s(e,2),r=n[0],i=n[1],a=s(t,2),o=a[0],u=a[1],c=Zm(r,o);return 0===c?Zm(i,u):c}var kI=function(){function e(t){Xr(this,e),this.An=t,this.buffer=new Rb(gI),this.Rn=0}return k(e,[{key:"Pn",value:function(){return++this.Rn}},{key:"bn",value:function(e){var t=[e,this.Pn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();gI(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),bI=function(){function e(t,n){Xr(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return k(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Rm("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,zi(oi().mark((function n(){return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!lx(n.t0)){n.next=12;break}Rm("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,yI(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),wI=function(){function e(t,n){Xr(this,e),this.Dn=t,this.params=n}return k(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return ax.resolve(Ym.A);var r=new kI(t);return this.Dn.forEachTarget(e,(function(e){return r.bn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.bn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Rm("LruGarbageCollector","Garbage collection skipped; disabled"),ax.resolve(nI)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Rm("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),nI):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Rm("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Nm()<=Hi.DEBUG&&Rm("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),ax.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),xI=function(){function e(t,n){Xr(this,e),this.db=t,this.garbageCollector=function(e,t){return new wI(e,t)}(this,n)}return k(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return II(e,n)}},{key:"removeReference",value:function(e,t,n){return II(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return II(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return lI(e).zt((function(r){return uI(e,r,t).next((function(e){return e&&(n=!0),ax.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,ng.min()),vI(e).delete([0,Rw(o.path)])}))}));i.push(s)}})).next((function(){return ax.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return II(e,t)}},{key:"Mn",value:function(e,t){var n,r=vI(e),i=Ym.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=s(e,2),o=a[0],u=(a[1],r.path),c=r.sequenceNumber;0===o?(i!==Ym.A&&t(new Sg(Ow(n)),i),i=c,n=u):i=Ym.A})).next((function(){i!==Ym.A&&t(new Sg(Ow(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function II(e,t){return vI(e).put(function(e,t){return{targetId:0,path:Rw(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var SI=function(){function e(){Xr(this,e),this.changes=new Tb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return k(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Qg.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?ax.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),EI=function(){function e(t){Xr(this,e),this.M=t}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return CI(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return CI(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Ix(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=Qg.newInvalidDocument(t);return CI(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(AI(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:Qg.newInvalidDocument(t)};return CI(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(AI(t))},(function(e,i){r={document:n.$n(t,i),size:aI(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=Lb();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=Lb(),i=new Cb(Sg.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,aI(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return ax.resolve();var r=new Rb(RI);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(AI(r.first()),AI(r.last())),a=r.getIterator(),o=a.getNext();return CI(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Sg.fromSegments([].concat(mt(t.prefixPath),[t.collectionGroup,t.documentId]));o&&RI(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(AI(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),Ix(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return CI(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=Lb(),i=Jr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Sg.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=Lb(),o=NI(t,n),u=NI(t,nk.max());return CI(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(Sg.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new _I(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return TI(e).get("remoteDocumentGlobalKey").next((function(e){return Mm(!!e),e}))}},{key:"Fn",value:function(e,t){return TI(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=vw(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Sg.fromSegments(t.noDocument.path),i=Ex(t.noDocument.readTime);n=Qg.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return Lm();var a=Sg.fromSegments(t.unknownDocument.path),o=Ex(t.unknownDocument.version);n=Qg.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new tg(e[0],e[1]);return ng.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(ng.min()))return n}return Qg.newInvalidDocument(e)}}]),e}(),_I=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new Tb((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Rb((function(e,t){return Zm(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=xx(t.Kn.M,o);i=i.add(a.path.popLast());var c=aI(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=xx(t.Kn.M,o.convertToNoDocument(ng.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),ax.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(SI);function TI(e){return yx(e,"remoteDocumentGlobal")}function CI(e){return yx(e,"remoteDocumentsV14")}function AI(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function NI(e,t){var n=t.documentKey.path.toArray();return[e,Ix(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function RI(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=Zm(n[a],r[a]))return i;return(i=Zm(n.length,r.length))||((i=Zm(n[n.length-2],r[r.length-2]))||Zm(n[n.length-1],r[r.length-1]))}var PI=function(){function e(t){Xr(this,e),this.M=t}return k(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new ox("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lw,{unique:!0}),e.createObjectStore("documentMutations")}(e),DI(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=ax.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),DI(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ng.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lw,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return ax.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:Xw});t.createIndex("collectionPathOverlayIndex",Jw,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",Zw,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:Uw});t.createIndex("documentKeyIndex",jw),t.createIndex("collectionGroupIndex",Bw)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Gw}).createIndex("sequenceNumberIndex",Hw,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Qw}).createIndex("documentKeyIndex",Yw,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=aI(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return ax.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return ax.forEach(r,(function(r){Mm(r.userId===n.userId);var i=_x(t.M,r);return iI(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new ug(n),o=function(e){return[0,Rw(e)]}(a);r.push(t.get(o).next((function(n){return n?ax.resolve():function(n){return t.put({targetId:0,path:Rw(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return ax.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:Kw});var n=t.store("collectionParents"),r=new Yx,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:Rw(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new ug(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=s(e,3),r=(n[0],n[1]),a=(n[2],Ow(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=Tx(r),a=Cx(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Sg(ug.fromString(i.document.name).popFirst(5)):i.noDocument?Sg.fromSegments(i.noDocument.path):i.unknownDocument?Sg.fromSegments(i.unknownDocument.path):Lm()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return ax.waitFor(r)}))}}]),e}();function DI(e){e.createObjectStore("targetDocuments",{keyPath:qw}).createIndex("documentTargetsIndex",Ww,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zw,{unique:!0}),e.createObjectStore("targetGlobal")}var OI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",LI=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Xr(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new Um(Vm.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new xI(this,i),this.hs=n+"main",this.M=new wx(s),this.ls=new ux(this.hs,this.ts,new PI(this.M)),this.fs=new hI(this.referenceDelegate,this.M),this.ds=function(e){return new EI(e)}(this.M),this._s=new Px,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Pm("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return k(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new Um(Vm.FAILED_PRECONDITION,OI);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new Ym(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=zi(oi().mark((function n(r){return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=zi(oi().mark((function t(n){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return FI(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.Ps(t).next((function(){return!0}))}))})).catch((function(t){if(lx(t))return Rm("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Rm("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return MI(e).get("owner").next((function(e){return ax.resolve(t.bs(e))}))}},{key:"Vs",value:function(e){return FI(e).delete(this.clientId)}},{key:"vs",value:function(){var e=zi(oi().mark((function e(){var t,n,r,i,a=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=yx(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return ax.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=Jr(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"bs",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?ax.resolve(!0):MI(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.bs(n)&&t.networkEnabled)return!0;if(!t.bs(n)){if(!n.allowTabSynchronization)throw new Um(Vm.FAILED_PRECONDITION,OI);return!1}}return!(!t.networkEnabled||!t.inForeground)||FI(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Rm("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=zi(oi().mark((function e(){var t=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new vx(e,Ym.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return FI(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return oI.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new Jx(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return Lx.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Rm("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?nx:13===i?tx:12===i?ex:11===i?$w:void Lm();return this.ls.runTransaction(e,o,u,(function(i){return a=new vx(i,r.es?r.es.next():Ym.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Pm("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new Um(Vm.FAILED_PRECONDITION,rx);return n(a)})).next((function(e){return r.Ps(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return MI(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.bs(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new Um(Vm.FAILED_PRECONDITION,OI)}))}},{key:"Ps",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return MI(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=MI(e);return n.get("owner").next((function(e){return t.bs(e)?(Rm("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):ax.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Pm("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!mi()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Rm("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Pm("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Td){Pm("Failed to set zombie client id.",Td)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Td){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return ux.vt()}}]),e}();function MI(e){return yx(e,"owner")}function FI(e){return yx(e,"clientMetadata")}function VI(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var UI=function(){function e(t,n,r){Xr(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return k(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=Jr(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=Jr(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Sg.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):Dk(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Sg(t)).next((function(e){var t=Fb();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Fb();return this.indexManager.getCollectionParents(e,i).next((function(o){return ax.forEach(o,(function(o){var u=function(e,t){return new _k(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=Jr(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=Jr(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=Qg.newInvalidDocument(s),r=r.insert(s,c)),fb(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){jk(t,n)||(r=r.remove(e))})),r}))}}]),e}(),jI=function(){function e(t,n,r,i){Xr(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return k(e,null,[{key:"Ys",value:function(t,n){var r,i=Bb(),a=Bb(),o=Jr(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),BI=function(){function e(){Xr(this,e)}return k(e,[{key:"Xs",value:function(e){this.Zs=e}},{key:"Qs",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||n.isEqual(ng.min())?this.ti(e,t):this.Zs.Ks(e,r).next((function(a){var o=i.ei(t,a);return(Ak(t)||Nk(t))&&i.ni(t.limitType,o,r,n)?i.ti(e,t):(Nm()<=Hi.DEBUG&&Rm("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Uk(t)),i.Zs.Qs(e,t,ek(n,-1)).next((function(e){return o.forEach((function(t){e=e.insert(t.key,t)})),e})))}))}},{key:"ei",value:function(e,t){var n=new Rb(zk(e));return t.forEach((function(t,r){jk(e,r)&&(n=n.add(r))})),n}},{key:"ni",value:function(e,t,n,r){if(n.size!==t.size)return!0;var i="F"===e?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ti",value:function(e,t){return Nm()<=Hi.DEBUG&&Rm("QueryEngine","Using full collection scan to execute query:",Uk(t)),this.Zs.Qs(e,t,nk.min())}}]),e}(),zI=function(){function e(t,n,r,i){Xr(this,e),this.persistence=t,this.si=n,this.M=i,this.ii=new Cb(Zm),this.ri=new Tb((function(e){return ok(e)}),uk),this.oi=new Map,this.ui=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.ai(r)}return k(e,[{key:"ai",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.ci=new UI(this.ui,this.Bs,this.indexManager),this.ui.setIndexManager(this.indexManager),this.si.Xs(this.ci)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ii)}))}}]),e}();function qI(e,t,n,r){return new zI(e,t,n,r)}function WI(e,t){return KI.apply(this,arguments)}function KI(){return KI=zi(oi().mark((function e(t,n){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fm(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.ai(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=Bb(),s=Jr(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=Jr(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=Jr(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var y,m=Jr(v.mutations);try{for(m.s();!(y=m.n()).done;){var g=y.value;u=u.add(g.key)}}catch(k){m.e(k)}finally{m.f()}}}catch(k){p.e(k)}finally{p.f()}return r.ci.Ks(e,u).next((function(e){return{hi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),KI.apply(this,arguments)}function GI(e,t){var n=Fm(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=ax.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);Mm(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}function HI(e){var t=Fm(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function QI(e,t){var n=Fm(e),r=t.snapshotVersion,i=n.ii;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.ui.newChangeBuffer({trackRemovals:!0});i=n.ii;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(fg.EMPTY_BYTE_STRING,ng.min()).withLastLimboFreeSnapshotVersion(ng.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=Lb();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(YI(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(ng.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return ax.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.ci.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ii=i,e}))}function YI(e,t,n){var r=Bb();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Lb();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(ng.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Rm("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function XI(e,t){var n=Fm(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function JI(e,t){var n=Fm(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,ax.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new bx(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ii.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ii=n.ii.insert(e.targetId,e),n.ri.set(t,e.targetId)),e}))}function ZI(e,t,n){return $I.apply(this,arguments)}function $I(){return $I=zi(oi().mark((function e(t,n,r){var i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fm(t),a=i.ii.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),lx(e.t1)){e.next=12;break}throw e.t1;case 12:Rm("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ii=i.ii.remove(n),i.ri.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),$I.apply(this,arguments)}function eS(e,t,n){var r=Fm(e),i=ng.min(),a=Bb();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=Fm(e),i=r.ri.get(n);return void 0!==i?ax.resolve(r.ii.get(i)):r.fs.getTargetData(t,n)}(r,e,Lk(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.si.Qs(e,t,n?i:ng.min(),n?a:Bb())})).next((function(e){return rS(r,Bk(t),e),{documents:e,li:a}}))}))}function tS(e,t){var n=Fm(e),r=Fm(n.fs),i=n.ii.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function nS(e,t){var n=Fm(e),r=n.oi.get(t)||ng.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.ui.getAllFromCollectionGroup(e,t,ek(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return rS(n,t,e),e}))}function rS(e,t,n){var r=ng.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.oi.set(t,r)}function iS(e,t,n,r){return aS.apply(this,arguments)}function aS(){return aS=zi(oi().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Fm(t),o=Bb(),u=Lb(),s=Jr(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.fi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.di(l)).setReadTime(n._i(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.ui.newChangeBuffer({trackRemovals:!0}),e.next=7,JI(a,function(e){return Lk(Ck(ug.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return YI(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.ci.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),aS.apply(this,arguments)}function oS(e,t){return uS.apply(this,arguments)}function uS(){return uS=zi(oi().mark((function e(t,n){var r,i,a,o=arguments;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:Bb(),e.next=3,JI(t,Lk(Ax(n.bundledQuery)));case 3:return i=e.sent,a=Fm(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=aw(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(fg.EMPTY_BYTE_STRING,t);return a.ii=a.ii.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),uS.apply(this,arguments)}var sS=function(){function e(t){Xr(this,e),this.M=t,this.wi=new Map,this.mi=new Map}return k(e,[{key:"getBundleMetadata",value:function(e,t){return ax.resolve(this.wi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.wi.set(t.id,{id:(n=t).id,version:n.version,createTime:aw(n.createTime)}),ax.resolve()}},{key:"getNamedQuery",value:function(e,t){return ax.resolve(this.mi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.mi.set(t.name,function(e){return{name:e.name,query:Ax(e.bundledQuery),readTime:aw(e.readTime)}}(t)),ax.resolve()}}]),e}(),cS=function(){function e(){Xr(this,e),this.overlays=new Cb(Sg.comparator),this.gi=new Map}return k(e,[{key:"getOverlay",value:function(e,t){return ax.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),ax.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.gi.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.gi.delete(n)),ax.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=Vb(),i=t.length+1,a=new Sg(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return ax.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Cb((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=Vb(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=Vb(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return ax.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.gi.get(r.largestBatchId).delete(n.key);this.gi.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new kx(t,n));var a=this.gi.get(t);void 0===a&&(a=Bb(),this.gi.set(t,a)),this.gi.set(t,a.add(n.key))}}}]),e}(),lS=function(){function e(){Xr(this,e),this.yi=new Rb(fS.pi),this.Ii=new Rb(fS.Ti)}return k(e,[{key:"isEmpty",value:function(){return this.yi.isEmpty()}},{key:"addReference",value:function(e,t){var n=new fS(e,t);this.yi=this.yi.add(n),this.Ii=this.Ii.add(n)}},{key:"Ei",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ai(new fS(e,t))}},{key:"Ri",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Pi",value:function(e){var t=this,n=new Sg(new ug([])),r=new fS(n,e),i=new fS(n,e+1),a=[];return this.Ii.forEachInRange([r,i],(function(e){t.Ai(e),a.push(e.key)})),a}},{key:"bi",value:function(){var e=this;this.yi.forEach((function(t){return e.Ai(t)}))}},{key:"Ai",value:function(e){this.yi=this.yi.delete(e),this.Ii=this.Ii.delete(e)}},{key:"Vi",value:function(e){var t=new Sg(new ug([])),n=new fS(t,e),r=new fS(t,e+1),i=Bb();return this.Ii.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new fS(e,0),n=this.yi.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),fS=function(){function e(t,n){Xr(this,e),this.key=t,this.vi=n}return k(e,null,[{key:"pi",value:function(e,t){return Sg.comparator(e.key,t.key)||Zm(e.vi,t.vi)}},{key:"Ti",value:function(e,t){return Zm(e.vi,t.vi)||Sg.comparator(e.key,t.key)}}]),e}(),hS=function(){function e(t,n){Xr(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.Si=1,this.Di=new Rb(fS.pi)}return k(e,[{key:"checkEmpty",value:function(e){return ax.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.Si;this.Si++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new mx(i,t,n,r);this.Bs.push(a);var o,u=Jr(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Di=this.Di.add(new fS(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return ax.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return ax.resolve(this.Ci(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.xi(n),i=r<0?0:r;return ax.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return ax.resolve(0===this.Bs.length?-1:this.Si-1)}},{key:"getAllMutationBatches",value:function(e){return ax.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new fS(t,0),i=new fS(t,Number.POSITIVE_INFINITY),a=[];return this.Di.forEachInRange([r,i],(function(e){var t=n.Ci(e.vi);a.push(t)})),ax.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Rb(Zm);return t.forEach((function(e){var t=new fS(e,0),i=new fS(e,Number.POSITIVE_INFINITY);n.Di.forEachInRange([t,i],(function(e){r=r.add(e.vi)}))})),ax.resolve(this.Ni(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Sg.isDocumentKey(i)||(i=i.child(""));var a=new fS(new Sg(i),0),o=new Rb(Zm);return this.Di.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.vi)),!0)}),a),ax.resolve(this.Ni(o))}},{key:"Ni",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Ci(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;Mm(0===this.ki(t.batchId,"removed")),this.Bs.shift();var r=this.Di;return ax.forEach(t.mutations,(function(i){var a=new fS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Di=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new fS(t,0),r=this.Di.firstAfterOrEqual(n);return ax.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,ax.resolve()}},{key:"ki",value:function(e,t){return this.xi(e)}},{key:"xi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"Ci",value:function(e){var t=this.xi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),dS=function(){function e(t){Xr(this,e),this.Mi=t,this.docs=new Cb(Sg.comparator),this.size=0}return k(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Mi(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return ax.resolve(n?n.document.mutableCopy():Qg.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Lb();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Qg.newInvalidDocument(e))})),ax.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=Lb(),i=new Sg(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||rk(tk(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return ax.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Lm()}},{key:"Oi",value:function(e,t){return ax.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new pS(this)}},{key:"getSize",value:function(e){return ax.resolve(this.size)}}]),e}(),pS=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this)).Kn=e,r}return k(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),ax.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(SI),vS=function(){function e(t){Xr(this,e),this.persistence=t,this.Fi=new Tb((function(e){return ok(e)}),uk),this.lastRemoteSnapshotVersion=ng.min(),this.highestTargetId=0,this.$i=0,this.Bi=new lS,this.targetCount=0,this.Li=fI.gn()}return k(e,[{key:"forEachTarget",value:function(e,t){return this.Fi.forEach((function(e,n){return t(n)})),ax.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return ax.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return ax.resolve(this.$i)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Li.next(),ax.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.$i&&(this.$i=t),ax.resolve()}},{key:"Tn",value:function(e){this.Fi.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Li=new fI(t),this.highestTargetId=t),e.sequenceNumber>this.$i&&(this.$i=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,ax.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),ax.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Fi.delete(t.target),this.Bi.Pi(t.targetId),this.targetCount-=1,ax.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Fi.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Fi.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),ax.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return ax.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Fi.get(t)||null;return ax.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Bi.Ei(t,n),ax.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Bi.Ri(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),ax.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Bi.Pi(t),ax.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Bi.Vi(t);return ax.resolve(n)}},{key:"containsKey",value:function(e,t){return ax.resolve(this.Bi.containsKey(t))}}]),e}(),yS=function(){function e(t,n){var r=this;Xr(this,e),this.Ui={},this.overlays={},this.es=new Ym(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new vS(this),this.indexManager=new Qx,this.ds=new dS((function(e){return r.referenceDelegate.qi(e)})),this.M=new wx(n),this._s=new sS(this.M)}return k(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new cS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ui[e.toKey()];return n||(n=new hS(t,this.referenceDelegate),this.Ui[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Rm("MemoryPersistence","Starting transaction:",e);var i=new mS(this.es.next());return this.referenceDelegate.Ki(),n(i).next((function(e){return r.referenceDelegate.Gi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Qi",value:function(e,t){return ax.or(Object.values(this.Ui).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),mS=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return k(n)}(ix),gS=function(){function e(t){Xr(this,e),this.persistence=t,this.ji=new lS,this.Wi=null}return k(e,[{key:"Hi",get:function(){if(this.Wi)return this.Wi;throw Lm()}},{key:"addReference",value:function(e,t,n){return this.ji.addReference(n,t),this.Hi.delete(n.toString()),ax.resolve()}},{key:"removeReference",value:function(e,t,n){return this.ji.removeReference(n,t),this.Hi.add(n.toString()),ax.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Hi.add(t.toString()),ax.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.ji.Pi(t.targetId).forEach((function(e){return n.Hi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Hi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ki",value:function(){this.Wi=new Set}},{key:"Gi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ax.forEach(this.Hi,(function(r){var i=Sg.fromPath(r);return t.Ji(e,i).next((function(e){e||n.removeEntry(i,ng.min())}))})).next((function(){return t.Wi=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ji(e,t).next((function(e){e?n.Hi.delete(t.toString()):n.Hi.add(t.toString())}))}},{key:"qi",value:function(e){return 0}},{key:"Ji",value:function(e,t){var n=this;return ax.or([function(){return ax.resolve(n.ji.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Qi(e,t)}])}}],[{key:"zi",value:function(t){return new e(t)}}]),e}();function kS(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function bS(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function wS(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var xS=function(){function e(t,n,r,i){Xr(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return k(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new Um(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Pm("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),IS=function(){function e(t,n,r){Xr(this,e),this.targetId=t,this.state=n,this.error=r}return k(e,[{key:"Xi",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"Yi",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new Um(i.error.code,i.error.message))),a?new e(t,i.state,r):(Pm("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),SS=function(){function e(t,n){Xr(this,e),this.clientId=t,this.activeTargetIds=n}return k(e,null,[{key:"Yi",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=qb(),o=0;i&&o<r.activeTargetIds.length;++o)i=Ig(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Pm("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),ES=function(){function e(t,n){Xr(this,e),this.clientId=t,this.onlineState=n}return k(e,null,[{key:"Yi",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Pm("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),_S=function(){function e(){Xr(this,e),this.activeTargetIds=qb()}return k(e,[{key:"Zi",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),TS=function(){function e(t,n,r,i,a){Xr(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.er=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.nr=this.sr.bind(this),this.ir=new Cb(Zm),this.started=!1,this.rr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ur=kS(this.persistenceKey,this.er),this.ar=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ir=this.ir.insert(this.er,new _S),this.cr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this.hr=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.lr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.dr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this._r=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.nr)}return k(e,[{key:"start",value:function(){var e=zi(oi().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=Jr(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.er){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(kS(this.persistenceKey,i)))&&(o=SS.Yi(i,a))&&(this.ir=this.ir.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.wr(),(u=this.storage.getItem(this.dr))&&(s=this.mr(u))&&this.gr(s),c=Jr(this.rr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.sr(f)}catch(d){c.e(d)}finally{c.f()}this.rr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.ar,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.yr(this.ir)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ir.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.pr(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.pr(e,t,n),this.Ir(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(wS(this.persistenceKey,e));if(n){var r=IS.Yi(e,n);r&&(t=r.state)}}return this.Tr.Zi(e),this.wr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Tr.tr(e),this.wr()}},{key:"isLocalQueryTarget",value:function(e){return this.Tr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(wS(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.Er(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ir(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Ar(e)}},{key:"notifyBundleLoaded",value:function(e){this.Rr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.nr),this.removeItem(this.ur),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Rm("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Rm("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Rm("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"sr",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Rm("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ur)return void Pm("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(zi(oi().mark((function e(){var r,i,a,o,u,s,c;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.cr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.Pr(n.key),e.abrupt("return",t.br(r,null));case 6:if(!(i=t.Vr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.br(i.clientId,i));case 9:e.next=41;break;case 11:if(!t.hr.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.vr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Sr(a));case 16:e.next=41;break;case 18:if(!t.lr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.Dr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Cr(o));case 23:e.next=41;break;case 25:if(n.key!==t.dr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.mr(n.newValue))){e.next=30;break}return e.abrupt("return",t.gr(u));case 30:e.next=41;break;case 32:if(n.key!==t.ar){e.next=37;break}s=function(e){var t=Ym.A;if(null!=e)try{var n=JSON.parse(e);Mm("number"==typeof n),t=n}catch(e){Pm("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==Ym.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t._r){e.next=41;break}return c=t.Nr(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.kr(e)})));case 41:e.next=44;break;case 43:t.rr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Tr",get:function(){return this.ir.get(this.er)}},{key:"wr",value:function(){this.setItem(this.ur,this.Tr.Xi())}},{key:"pr",value:function(e,t,n){var r=new xS(this.currentUser,e,t,n),i=bS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Xi())}},{key:"Ir",value:function(e){var t=bS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Ar",value:function(e){var t={clientId:this.er,onlineState:e};this.storage.setItem(this.dr,JSON.stringify(t))}},{key:"Er",value:function(e,t,n){var r=wS(this.persistenceKey,e),i=new IS(e,t,n);this.setItem(r,i.Xi())}},{key:"Rr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this._r,t)}},{key:"Pr",value:function(e){var t=this.cr.exec(e);return t?t[1]:null}},{key:"Vr",value:function(e,t){var n=this.Pr(e);return SS.Yi(n,t)}},{key:"vr",value:function(e,t){var n=this.hr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return xS.Yi(new Tm(i),r,t)}},{key:"Dr",value:function(e,t){var n=this.lr.exec(e),r=Number(n[1]);return IS.Yi(r,t)}},{key:"mr",value:function(e){return ES.Yi(e)}},{key:"Nr",value:function(e){return JSON.parse(e)}},{key:"Sr",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.Mr(t.batchId,t.state,t.error));case 2:Rm("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Cr",value:function(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}},{key:"br",value:function(e,t){var n=this,r=t?this.ir.insert(e,t):this.ir.remove(e),i=this.yr(this.ir),a=this.yr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Fr(o,u).then((function(){n.ir=r}))}},{key:"gr",value:function(e){this.ir.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"yr",value:function(e){var t=qb();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),CS=function(){function e(){Xr(this,e),this.$r=new _S,this.Br={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return k(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.$r.Zi(e),this.Br[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Br[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.$r.tr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Br[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.$r.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.$r.activeTargetIds.has(e)}},{key:"start",value:function(){return this.$r=new _S,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),AS=function(){function e(){Xr(this,e)}return k(e,[{key:"Lr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),NS=function(){function e(){var t=this;Xr(this,e),this.Ur=function(){return t.qr()},this.Kr=function(){return t.Gr()},this.Qr=[],this.jr()}return k(e,[{key:"Lr",value:function(e){this.Qr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Kr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Kr)}},{key:"qr",value:function(){Rm("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=Jr(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Gr",value:function(){Rm("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=Jr(this.Qr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),RS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},PS=function(){function e(t){Xr(this,e),this.Wr=t.Wr,this.zr=t.zr}return k(e,[{key:"Hr",value:function(e){this.Jr=e}},{key:"Yr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.Zr=e}},{key:"close",value:function(){this.zr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"eo",value:function(){this.Jr()}},{key:"no",value:function(e){this.Xr(e)}},{key:"so",value:function(e){this.Zr(e)}}]),e}(),DS=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return k(n,[{key:"co",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Em;o.listenOnce(bm.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case km.NO_ERROR:var t=o.getResponseJson();Rm("Connection","XHR received:",JSON.stringify(t)),i(t);break;case km.TIMEOUT:Rm("Connection",'RPC "'+e+'" timed out'),a(new Um(Vm.DEADLINE_EXCEEDED,"Request time out"));break;case km.HTTP_ERROR:var n=o.getStatus();if(Rm("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(Vm).indexOf(t)>=0?t:Vm.UNKNOWN}(r.status);a(new Um(u,r.message))}else a(new Um(Vm.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Um(Vm.UNAVAILABLE,"Connection failed."));break;default:Lm()}}finally{Rm("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"lo",value:function(e,t,n){var r=[this.io,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=mm(),a=gm(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Im({})),this.ao(o.initMessageHeaders,t,n),yi()||ki()||vi().indexOf("Electron/")>=0||bi()||vi().indexOf("MSAppHost/")>=0||gi()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Rm("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new PS({Wr:function(e){l?Rm("Connection","Not sending because WebChannel is closed:",e):(c||(Rm("Connection","Opening WebChannel transport."),s.open(),c=!0),Rm("Connection","WebChannel sending:",e),s.send(e))},zr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Sm.EventType.OPEN,(function(){l||Rm("Connection","WebChannel transport opened.")})),h(s,Sm.EventType.CLOSE,(function(){l||(l=!0,Rm("Connection","WebChannel transport closed"),f.no())})),h(s,Sm.EventType.ERROR,(function(e){l||(l=!0,Dm("Connection","WebChannel transport errored:",e),f.no(new Um(Vm.UNAVAILABLE,"The operation could not be completed")))})),h(s,Sm.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];Mm(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Rm("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=bb[e];if(void 0!==t)return _b(t)}(a),u=i.message;void 0===o&&(o=Vm.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.no(new Um(o,u)),s.close()}else Rm("Connection","WebChannel received:",n),f.so(n)}})),h(a,wm.STAT_EVENT,(function(e){e.stat===xm.PROXY?Rm("Connection","Detected buffering proxy"):e.stat===xm.NOPROXY&&Rm("Connection","Detected no buffering proxy")})),setTimeout((function(){f.eo()}),0),f}}]),n}(function(){function e(t){Xr(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.io=n+"://"+t.host,this.ro="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return k(e,[{key:"oo",value:function(e,t,n,r,i){var a=this.uo(e,t);Rm("RestConnection","Sending: ",a,n);var o={};return this.ao(o,r,i),this.co(e,a,o,n).then((function(e){return Rm("RestConnection","Received: ",e),e}),(function(t){throw Dm("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"ho",value:function(e,t,n,r,i){return this.oo(e,t,n,r,i)}},{key:"ao",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Cm,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"uo",value:function(e,t){var n=RS[e];return"".concat(this.io,"/v1/").concat(t,":").concat(n)}}]),e}());function OS(){return"undefined"!=typeof window?window:null}function LS(){return"undefined"!=typeof document?document:null}function MS(e){return new tw(e,!0)}var FS=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Xr(this,e),this.Yn=t,this.timerId=n,this.fo=r,this._o=i,this.wo=a,this.mo=0,this.yo=null,this.po=Date.now(),this.reset()}return k(e,[{key:"reset",value:function(){this.mo=0}},{key:"Io",value:function(){this.mo=this.wo}},{key:"To",value:function(e){var t=this;this.cancel();var n=Math.floor(this.mo+this.Eo()),r=Math.max(0,Date.now()-this.po),i=Math.max(0,n-r);i>0&&Rm("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.mo," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.yo=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.po=Date.now(),e()})),this.mo*=this._o,this.mo<this.fo&&(this.mo=this.fo),this.mo>this.wo&&(this.mo=this.wo)}},{key:"Ao",value:function(){null!==this.yo&&(this.yo.skipDelay(),this.yo=null)}},{key:"cancel",value:function(){null!==this.yo&&(this.yo.cancel(),this.yo=null)}},{key:"Eo",value:function(){return(Math.random()-.5)*this.mo}}]),e}(),VS=function(){function e(t,n,r,i,a,o,u,s){Xr(this,e),this.Yn=t,this.Ro=r,this.Po=i,this.bo=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Vo=0,this.vo=null,this.So=null,this.stream=null,this.Do=new FS(t,n)}return k(e,[{key:"Co",value:function(){return 1===this.state||5===this.state||this.xo()}},{key:"xo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.No()}},{key:"stop",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Co(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ko",value:function(){this.state=0,this.Do.reset()}},{key:"Mo",value:function(){var e=this;this.xo()&&null===this.vo&&(this.vo=this.Yn.enqueueAfterDelay(this.Ro,6e4,(function(){return e.Oo()})))}},{key:"Fo",value:function(e){this.$o(),this.stream.send(e)}},{key:"Oo",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.xo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"$o",value:function(){this.vo&&(this.vo.cancel(),this.vo=null)}},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"close",value:function(){var e=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.$o(),this.Bo(),this.Do.cancel(),this.Vo++,4!==t?this.Do.reset():n&&n.code===Vm.RESOURCE_EXHAUSTED?(Pm(n.toString()),Pm("Using maximum backoff delay to prevent overloading the backend."),this.Do.Io()):n&&n.code===Vm.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Lo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Yr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Lo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=s(t,2),i=r[0],a=r[1];e.Vo===n&&e.qo(i,a)}),(function(n){t((function(){var t=new Um(Vm.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Ko(t)}))}))}},{key:"qo",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Go(e,t),this.stream.Hr((function(){r((function(){return n.state=2,n.So=n.Yn.enqueueAfterDelay(n.Po,1e4,(function(){return n.xo()&&(n.state=3),Promise.resolve()})),n.listener.Hr()}))})),this.stream.Yr((function(e){r((function(){return n.Ko(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"No",value:function(){var e=this;this.state=5,this.Do.To(zi(oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Ko",value:function(e){return Rm("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Vo===e?n():(Rm("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),US=function(e){Zr(n,e);var t=ni(n);function n(e,r,i,a,o,u){var s;return Xr(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return k(n,[{key:"Go",value:function(e,t){return this.bo.lo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Do.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Lm()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(Mm(void 0===t||"string"==typeof t),fg.fromBase64String(t||"")):(Mm(void 0===t||t instanceof Uint8Array),fg.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?Vm.UNKNOWN:_b(e.code);return new Um(t,e.message||"")}(o);n=new Qb(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=cw(e,s.document.name),l=aw(s.document.updateTime),f=new Gg({mapValue:{fields:s.document.fields}}),h=Qg.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new Gb(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var y=cw(e,v.document),m=v.readTime?aw(v.readTime):ng.min(),g=Qg.newNoDocument(y,m),k=v.removedTargetIds||[];n=new Gb([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var b=t.documentRemove;b.document;var w=cw(e,b.document),x=b.removedTargetIds||[];n=new Gb([],x,w,null)}else{if(!("filter"in t))return Lm();t.filter;var I=t.filter;I.targetId;var S=I.count||0,E=new Sb(S),_=I.targetId;n=new Hb(_,E)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return ng.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?ng.min():t.readTime?aw(t.readTime):ng.min()}(e);return this.listener.Qo(t,n)}},{key:"jo",value:function(e){var t={};t.database=hw(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=sk(r)?{documents:kw(e,r)}:{query:bw(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=rw(e,t.resumeToken):t.snapshotVersion.compareTo(ng.min())>0&&(n.readTime=nw(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Lm()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=hw(this.M),t.removeTarget=e,this.Fo(t)}}]),n}(VS),jS=function(e){Zr(n,e);var t=ni(n);function n(e,r,i,a,o,u){var s;return Xr(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.zo=!1,s}return k(n,[{key:"Ho",get:function(){return this.zo}},{key:"start",value:function(){this.zo=!1,this.lastStreamToken=void 0,Za($r(n.prototype),"start",this).call(this)}},{key:"Lo",value:function(){this.zo&&this.Jo([])}},{key:"Go",value:function(e,t){return this.bo.lo("Write",e,t)}},{key:"onMessage",value:function(e){if(Mm(!!e.streamToken),this.lastStreamToken=e.streamToken,this.zo){this.Do.reset();var t=function(e,t){return e&&e.length>0?(Mm(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?aw(e.updateTime):aw(t);return n.isEqual(ng.min())&&(n=aw(t)),new ob(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=aw(e.commitTime);return this.listener.Yo(n,t)}return Mm(!e.writeResults||0===e.writeResults.length),this.zo=!0,this.listener.Xo()}},{key:"Zo",value:function(){var e={};e.database=hw(this.M),this.Fo(e)}},{key:"Jo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return mw(t.M,e)}))};this.Fo(n)}}]),n}(VS),BS=function(e){Zr(n,e);var t=ni(n);function n(e,r,i,a){var o;return Xr(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.bo=i,o.M=a,o.tu=!1,o}return k(n,[{key:"eu",value:function(){if(this.tu)throw new Um(Vm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"oo",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.oo(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Um(Vm.UNKNOWN,e.toString())}))}},{key:"ho",value:function(e,t,n){var r=this;return this.eu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=s(i,2),o=a[0],u=a[1];return r.bo.ho(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===Vm.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new Um(Vm.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.tu=!0}}]),n}(function(){return k((function e(){Xr(this,e)}))}()),zS=function(){function e(t,n){Xr(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.nu=0,this.su=null,this.iu=!0}return k(e,[{key:"ru",value:function(){var e=this;0===this.nu&&(this.ou("Unknown"),this.su=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.su=null,e.uu("Backend didn't respond within 10 seconds."),e.ou("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.ou("Unknown"):(this.nu++,this.nu>=1&&(this.cu(),this.uu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.ou("Offline")))}},{key:"set",value:function(e){this.cu(),this.nu=0,"Online"===e&&(this.iu=!1),this.ou(e)}},{key:"ou",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"uu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.iu?(Pm(t),this.iu=!1):Rm("OnlineStateTracker",t)}},{key:"cu",value:function(){null!==this.su&&(this.su.cancel(),this.su=null)}}]),e}(),qS=k((function e(t,n,r,i,a){var o=this;Xr(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.hu=[],this.lu=new Map,this.fu=new Set,this.du=[],this._u=a,this._u.Lr((function(e){r.enqueueAndForget(zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=eE(o),!e.t0){e.next=5;break}return Rm("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fm(t)).fu.add(4),e.next=4,GS(n);case 4:return n.wu.set("Unknown"),n.fu.delete(4),e.next=8,WS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.wu=new zS(r,i)}));function WS(e){return KS.apply(this,arguments)}function KS(){return KS=zi(oi().mark((function e(t){var n,r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!eE(t)){e.next=18;break}n=Jr(t.du),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),KS.apply(this,arguments)}function GS(e){return HS.apply(this,arguments)}function HS(){return HS=zi(oi().mark((function e(t){var n,r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Jr(t.du),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),HS.apply(this,arguments)}function QS(e,t){var n=Fm(e);n.lu.has(t.targetId)||(n.lu.set(t.targetId,t),$S(n)?ZS(n):AE(n).xo()&&XS(n,t))}function YS(e,t){var n=Fm(e),r=AE(n);n.lu.delete(t),r.xo()&&JS(n,t),0===n.lu.size&&(r.xo()?r.Mo():eE(n)&&n.wu.set("Unknown"))}function XS(e,t){e.mu.Z(t.targetId),AE(e).jo(t)}function JS(e,t){e.mu.Z(t),AE(e).Wo(t)}function ZS(e){e.mu=new Xb({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e.lu.get(t)||null}}),AE(e).start(),e.wu.ru()}function $S(e){return eE(e)&&!AE(e).Co()&&e.lu.size>0}function eE(e){return 0===Fm(e).fu.size}function tE(e){e.mu=void 0}function nE(e){return rE.apply(this,arguments)}function rE(){return rE=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.lu.forEach((function(e,n){XS(t,e)}));case 1:case"end":return e.stop()}}),e)}))),rE.apply(this,arguments)}function iE(e,t){return aE.apply(this,arguments)}function aE(){return aE=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tE(t),$S(t)?(t.wu.au(n),ZS(t)):t.wu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),aE.apply(this,arguments)}function oE(e,t,n){return uE.apply(this,arguments)}function uE(){return uE=zi(oi().mark((function e(t,n,r){var i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.wu.set("Online"),!(n instanceof Qb&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=zi(oi().mark((function e(t,n){var r,i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=Jr(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.lu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.lu.delete(o),t.mu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Rm("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,sE(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Gb?t.mu.ut(n):n instanceof Hb?t.mu._t(n):t.mu.ht(n),r.isEqual(ng.min())){e.next=29;break}return e.prev=14,e.next=17,HI(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.mu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.lu.get(r);i&&e.lu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.lu.get(t);if(n){e.lu.set(t,n.withResumeToken(fg.EMPTY_BYTE_STRING,n.snapshotVersion)),JS(e,t);var r=new bx(n.target,t,1,n.sequenceNumber);XS(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Rm("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,sE(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),uE.apply(this,arguments)}function sE(e,t,n){return cE.apply(this,arguments)}function cE(){return cE=zi(oi().mark((function e(t,n,r){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(lx(n)){e.next=2;break}throw n;case 2:return t.fu.add(1),e.next=5,GS(t);case 5:t.wu.set("Offline"),r||(r=function(){return HI(t.localStore)}),t.asyncQueue.enqueueRetryable(zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rm("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.fu.delete(1),e.next=6,WS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),cE.apply(this,arguments)}function lE(e,t){return t().catch((function(n){return sE(e,n,t)}))}function fE(e){return hE.apply(this,arguments)}function hE(){return hE=zi(oi().mark((function e(t){var n,r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Fm(t),r=NE(n),i=n.hu.length>0?n.hu[n.hu.length-1].batchId:-1;case 2:if(!dE(n)){e.next=19;break}return e.prev=3,e.next=6,XI(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.hu.length&&r.Mo(),e.abrupt("break",19);case 10:i=a.batchId,pE(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,sE(n,e.t0);case 17:e.next=2;break;case 19:vE(n)&&yE(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),hE.apply(this,arguments)}function dE(e){return eE(e)&&e.hu.length<10}function pE(e,t){e.hu.push(t);var n=NE(e);n.xo()&&n.Ho&&n.Jo(t.mutations)}function vE(e){return eE(e)&&!NE(e).Co()&&e.hu.length>0}function yE(e){NE(e).start()}function mE(e){return gE.apply(this,arguments)}function gE(){return gE=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:NE(t).Zo();case 1:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e){return bE.apply(this,arguments)}function bE(){return bE=zi(oi().mark((function e(t){var n,r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=NE(t),r=Jr(t.hu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Jo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),bE.apply(this,arguments)}function wE(e,t,n){return xE.apply(this,arguments)}function xE(){return xE=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.hu.shift(),a=gx.from(i,n,r),e.next=3,lE(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,fE(t);case 5:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function IE(e,t){return SE.apply(this,arguments)}function SE(){return SE=zi(oi().mark((function e(t,n){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&NE(t).Ho,!e.t0){e.next=4;break}return e.next=4,function(){var e=zi(oi().mark((function e(t,n){var r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Eb(i=n.code)||i===Vm.ABORTED){e.next=7;break}return r=t.hu.shift(),NE(t).ko(),e.next=5,lE(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,fE(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:vE(t)&&yE(t);case 5:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function EE(e,t){return _E.apply(this,arguments)}function _E(){return _E=zi(oi().mark((function e(t,n){var r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=Fm(t)).asyncQueue.verifyOperationInProgress(),Rm("RemoteStore","RemoteStore received new credentials"),i=eE(r),r.fu.add(3),e.next=6,GS(r);case 6:return i&&r.wu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.fu.delete(3),e.next=12,WS(r);case 12:case"end":return e.stop()}}),e)}))),_E.apply(this,arguments)}function TE(e,t){return CE.apply(this,arguments)}function CE(){return CE=zi(oi().mark((function e(t,n){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fm(t),!n){e.next=7;break}return r.fu.delete(2),e.next=5,WS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.fu.add(2),e.next=12,GS(r);case 12:r.wu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),CE.apply(this,arguments)}function AE(e){return e.gu||(e.gu=function(e,t,n){var r=Fm(e);return r.eu(),new US(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:nE.bind(null,e),Yr:iE.bind(null,e),Qo:oE.bind(null,e)}),e.du.push(function(){var t=zi(oi().mark((function t(n){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.gu.ko(),$S(e)?ZS(e):e.wu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.gu.stop();case 6:tE(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.gu}function NE(e){return e.yu||(e.yu=function(e,t,n){var r=Fm(e);return r.eu(),new jS(t,r.bo,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Hr:mE.bind(null,e),Yr:IE.bind(null,e),Xo:kE.bind(null,e),Yo:wE.bind(null,e)}),e.du.push(function(){var t=zi(oi().mark((function t(n){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.yu.ko(),t.next=4,fE(e);case 4:t.next=9;break;case 6:return t.next=8,e.yu.stop();case 8:e.hu.length>0&&(Rm("RemoteStore","Stopping write stream with ".concat(e.hu.length," pending writes")),e.hu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}var RE=function(){function e(t,n,r,i,a){Xr(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new jm,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return k(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Um(Vm.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function PE(e,t){if(Pm("AsyncQueue","".concat(t,": ").concat(e)),lx(e))return new Um(Vm.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var DE=function(){function e(t){Xr(this,e),this.comparator=t?function(e,n){return t(e,n)||Sg.comparator(e.key,n.key)}:function(e,t){return Sg.comparator(e.key,t.key)},this.keyedMap=Fb(),this.sortedSet=new Cb(this.comparator)}return k(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),OE=function(){function e(){Xr(this,e),this.pu=new Cb(Sg.comparator)}return k(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.pu.get(t);n?0!==e.type&&3===n.type?this.pu=this.pu.insert(t,e):3===e.type&&1!==n.type?this.pu=this.pu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.pu=this.pu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.pu=this.pu.remove(t):1===e.type&&2===n.type?this.pu=this.pu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.pu=this.pu.insert(t,{type:2,doc:e.doc}):Lm():this.pu=this.pu.insert(t,e)}},{key:"Iu",value:function(){var e=[];return this.pu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),LE=function(){function e(t,n,r,i,a,o,u,s){Xr(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return k(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Fk(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,DE.emptySet(n),a,r,i,!0,!1)}}]),e}(),ME=k((function e(){Xr(this,e),this.Tu=void 0,this.listeners=[]})),FE=k((function e(){Xr(this,e),this.queries=new Tb((function(e){return Vk(e)}),Fk),this.onlineState="Unknown",this.Eu=new Set}));function VE(e,t){return UE.apply(this,arguments)}function UE(){return UE=zi(oi().mark((function e(t,n){var r,i,a,o,u;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fm(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new ME),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Tu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=PE(e.t0,"Initialization of query '".concat(Uk(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Au(r.onlineState),o.Tu&&n.Ru(o.Tu)&&WE(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),UE.apply(this,arguments)}function jE(e,t){return BE.apply(this,arguments)}function BE(){return BE=zi(oi().mark((function e(t,n){var r,i,a,o,u;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fm(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),BE.apply(this,arguments)}function zE(e,t){var n,r=Fm(e),i=!1,a=Jr(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=Jr(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Ru(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Tu=o}}}catch(f){a.e(f)}finally{a.f()}i&&WE(r)}function qE(e,t,n){var r=Fm(e),i=r.queries.get(t);if(i){var a,o=Jr(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function WE(e){e.Eu.forEach((function(e){e.next()}))}var KE=function(){function e(t,n,r){Xr(this,e),this.query=t,this.Pu=n,this.bu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return k(e,[{key:"Ru",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=Jr(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new LE(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.bu?this.vu(e)&&(this.Pu.next(e),a=!0):this.Su(e,this.onlineState)&&(this.Du(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.Pu.error(e)}},{key:"Au",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.bu&&this.Su(this.Vu,e)&&(this.Du(this.Vu),t=!0),t}},{key:"Su",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.Cu||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"vu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Du",value:function(e){e=LE.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Pu.next(e)}}]),e}(),GE=function(){function e(t,n){Xr(this,e),this.payload=t,this.byteLength=n}return k(e,[{key:"xu",value:function(){return"metadata"in this.payload}}]),e}(),HE=function(){function e(t){Xr(this,e),this.M=t}return k(e,[{key:"fi",value:function(e){return cw(this.M,e)}},{key:"di",value:function(e){return e.metadata.exists?vw(this.M,e.document,!1):Qg.newNoDocument(this.fi(e.metadata.name),this._i(e.metadata.readTime))}},{key:"_i",value:function(e){return aw(e)}}]),e}(),QE=function(){function e(t,n,r){Xr(this,e),this.Nu=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=YE(t)}return k(e,[{key:"ku",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=ug.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"Mu",value:function(e){var t,n=new Map,r=new HE(this.M),i=Jr(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.fi(a.metadata.name),s=Jr(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||Bb()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=zi(oi().mark((function e(){var t,n,r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iS(this.localStore,new HE(this.M),this.documents,this.Nu.id);case 2:t=e.sent,n=this.Mu(this.documents),r=Jr(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,oS(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Ou:this.collectionGroups,Fu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function YE(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var XE=k((function e(t){Xr(this,e),this.key=t})),JE=k((function e(t){Xr(this,e),this.key=t})),ZE=function(){function e(t,n){Xr(this,e),this.query=t,this.$u=n,this.Bu=null,this.current=!1,this.Lu=Bb(),this.mutatedKeys=Bb(),this.Uu=zk(t),this.qu=new DE(this.Uu)}return k(e,[{key:"Ku",get:function(){return this.$u}},{key:"Gu",value:function(e,t){var n=this,r=t?t.Qu:new OE,i=t?t.qu:this.qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s=Ak(this.query)&&i.size===this.query.limit?i.last():null,c=Nk(this.query)&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=jk(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.ju(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Uu(f,s)>0||c&&n.Uu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),Ak(this.query)||Nk(this.query))for(;o.size>this.query.limit;){var l=Ak(this.query)?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{qu:o,Qu:r,ni:u,mutatedKeys:a}}},{key:"ju",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.qu;this.qu=e.qu,this.mutatedKeys=e.mutatedKeys;var a=e.Qu.Iu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lm()}};return n(e)-n(t)}(e.type,t.type)||r.Uu(e.doc,t.doc)})),this.Wu(n);var o=t?this.zu():[],u=0===this.Lu.size&&this.current?1:0,s=u!==this.Bu;return this.Bu=u,0!==a.length||s?{snapshot:new LE(this.query,e.qu,i,a,e.mutatedKeys,0===u,s,!1),Hu:o}:{Hu:o}}},{key:"Au",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({qu:this.qu,Qu:new OE,mutatedKeys:this.mutatedKeys,ni:!1},!1)):{Hu:[]}}},{key:"Ju",value:function(e){return!this.$u.has(e)&&!!this.qu.has(e)&&!this.qu.get(e).hasLocalMutations}},{key:"Wu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.$u=t.$u.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.$u=t.$u.delete(e)})),this.current=e.current)}},{key:"zu",value:function(){var e=this;if(!this.current)return[];var t=this.Lu;this.Lu=Bb(),this.qu.forEach((function(t){e.Ju(t.key)&&(e.Lu=e.Lu.add(t.key))}));var n=[];return t.forEach((function(t){e.Lu.has(t)||n.push(new JE(t))})),this.Lu.forEach((function(e){t.has(e)||n.push(new XE(e))})),n}},{key:"Yu",value:function(e){this.$u=e.li,this.Lu=Bb();var t=this.Gu(e.documents);return this.applyChanges(t,!0)}},{key:"Xu",value:function(){return LE.fromInitialDocuments(this.query,this.qu,this.mutatedKeys,0===this.Bu)}}]),e}(),$E=k((function e(t,n,r){Xr(this,e),this.query=t,this.targetId=n,this.view=r})),e_=k((function e(t){Xr(this,e),this.key=t,this.Zu=!1})),t_=function(){function e(t,n,r,i,a,o){Xr(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ta={},this.ea=new Tb((function(e){return Vk(e)}),Fk),this.na=new Map,this.sa=new Set,this.ia=new Cb(Sg.comparator),this.ra=new Map,this.oa=new lS,this.ua={},this.aa=new Map,this.ca=fI.yn(),this.onlineState="Unknown",this.ha=void 0}return k(e,[{key:"isPrimaryClient",get:function(){return!0===this.ha}}]),e}();function n_(e,t){return r_.apply(this,arguments)}function r_(){return r_=zi(oi().mark((function e(t,n){var r,i,a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Y_(t),!(o=r.ea.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.Xu(),e.next=15;break;case 6:return e.next=8,JI(r.localStore,Lk(n));case 8:return u=e.sent,r.isPrimaryClient&&QS(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,i_(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),r_.apply(this,arguments)}function i_(e,t,n,r){return a_.apply(this,arguments)}function a_(){return a_=zi(oi().mark((function e(t,n,r,i){var a,o,u,s,c,l;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.la=function(e,n,r){return function(){var e=zi(oi().mark((function e(t,n,r,i){var a,o,u;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Gu(r),e.t0=a.ni,!e.t0){e.next=6;break}return e.next=5,eS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Gu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(E_(t,n.targetId,u.Hu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,eS(t.localStore,n,!0);case 3:return a=e.sent,o=new ZE(n,a.li),u=o.Gu(a.documents),s=Kb.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),E_(t,r,c.Hu),l=new $E(n,r,o),e.abrupt("return",(t.ea.set(n,l),t.na.has(r)?t.na.get(r).push(n):t.na.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),a_.apply(this,arguments)}function o_(e,t){return u_.apply(this,arguments)}function u_(){return u_=zi(oi().mark((function e(t,n){var r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Fm(t),i=r.ea.get(n),!((a=r.na.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.na.set(i.targetId,a.filter((function(e){return!Fk(e,n)}))),void r.ea.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,ZI(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),YS(r.remoteStore,i.targetId),I_(r,i.targetId)})).catch(yI);case 9:e.next=14;break;case 11:return I_(r,i.targetId),e.next=14,ZI(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),u_.apply(this,arguments)}function s_(e,t,n){return c_.apply(this,arguments)}function c_(){return c_=zi(oi().mark((function e(t,n,r){var i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=X_(t),e.prev=1,e.next=4,function(e,t){var n,r=Fm(e),i=tg.now(),a=t.reduce((function(e,t){return e.add(t.key)}),Bb());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.ci.Ks(e,a).next((function(a){n=a;var o,u=[],s=Jr(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=hb(c,n.get(c.key));null!=l&&u.push(new yb(c.key,l,Hg(l.value.mapValue),ub.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ua[e.currentUser.toKey()];r||(r=new Cb(Zm)),r=r.insert(t,n),e.ua[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,C_(i,a.changes);case 9:return e.next=11,fE(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=PE(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),c_.apply(this,arguments)}function l_(e,t){return f_.apply(this,arguments)}function f_(){return f_=zi(oi().mark((function e(t,n){var r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fm(t),e.prev=1,e.next=4,QI(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.ra.get(t);n&&(Mm(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.Zu=!0:e.modifiedDocuments.size>0?Mm(n.Zu):e.removedDocuments.size>0&&(Mm(n.Zu),n.Zu=!1))})),e.next=8,C_(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,yI(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),f_.apply(this,arguments)}function h_(e,t,n){var r=Fm(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ea.forEach((function(e,n){var r=n.view.Au(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=Fm(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=Jr(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Au(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&WE(n)}(r.eventManager,t),i.length&&r.ta.Qo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function d_(e,t,n){return p_.apply(this,arguments)}function p_(){return p_=zi(oi().mark((function e(t,n,r){var i,a,o,u,s,c;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=Fm(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.ra.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Cb(Sg.comparator)).insert(o,Qg.newNoDocument(o,ng.min())),s=Bb().add(o),c=new Wb(ng.min(),new Map,new Rb(Zm),u,s),e.next=9,l_(i,c);case 9:i.ia=i.ia.remove(o),i.ra.delete(n),T_(i),e.next=16;break;case 14:return e.next=16,ZI(i.localStore,n,!1).then((function(){return I_(i,n,r)})).catch(yI);case 16:case"end":return e.stop()}}),e)}))),p_.apply(this,arguments)}function v_(e,t){return y_.apply(this,arguments)}function y_(){return y_=zi(oi().mark((function e(t,n){var r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fm(t),i=n.batch.batchId,e.prev=1,e.next=4,GI(r.localStore,n);case 4:return a=e.sent,x_(r,i,null),w_(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,C_(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),y_.apply(this,arguments)}function m_(e,t,n){return g_.apply(this,arguments)}function g_(){return g_=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Fm(t),e.prev=1,e.next=4,function(e,t){var n=Fm(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return Mm(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.ci.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,x_(i,n,r),w_(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,C_(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,yI(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),g_.apply(this,arguments)}function k_(e,t){return b_.apply(this,arguments)}function b_(){return b_=zi(oi().mark((function e(t,n){var r,i,a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return eE((r=Fm(t)).remoteStore)||Rm("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=Fm(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.aa.get(i)||[]).push(n),r.aa.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=PE(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),b_.apply(this,arguments)}function w_(e,t){(e.aa.get(t)||[]).forEach((function(e){e.resolve()})),e.aa.delete(t)}function x_(e,t,n){var r=Fm(e),i=r.ua[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ua[r.currentUser.toKey()]=i}}function I_(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=Jr(e.na.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ea.delete(a),n&&e.ta.fa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.na.delete(t),e.isPrimaryClient&&e.oa.Pi(t).forEach((function(t){e.oa.containsKey(t)||S_(e,t)}))}function S_(e,t){e.sa.delete(t.path.canonicalString());var n=e.ia.get(t);null!==n&&(YS(e.remoteStore,n),e.ia=e.ia.remove(t),e.ra.delete(n),T_(e))}function E_(e,t,n){var r,i=Jr(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof XE?(e.oa.addReference(a.key,t),__(e,a)):a instanceof JE?(Rm("SyncEngine","Document no longer in limbo: "+a.key),e.oa.removeReference(a.key,t),e.oa.containsKey(a.key)||S_(e,a.key)):Lm()}}catch(o){i.e(o)}finally{i.f()}}function __(e,t){var n=t.key,r=n.path.canonicalString();e.ia.get(n)||e.sa.has(r)||(Rm("SyncEngine","New document in limbo: "+n),e.sa.add(r),T_(e))}function T_(e){for(;e.sa.size>0&&e.ia.size<e.maxConcurrentLimboResolutions;){var t=e.sa.values().next().value;e.sa.delete(t);var n=new Sg(ug.fromString(t)),r=e.ca.next();e.ra.set(r,new e_(n)),e.ia=e.ia.insert(n,r),QS(e.remoteStore,new bx(Lk(Ck(n.path)),r,2,Ym.A))}}function C_(e,t,n){return A_.apply(this,arguments)}function A_(){return A_=zi(oi().mark((function e(t,n,r){var i,a,o,u;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Fm(t),a=[],o=[],u=[],e.t0=i.ea.isEmpty(),e.t0){e.next=9;break}return i.ea.forEach((function(e,t){u.push(i.la(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=jI.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.ta.Qo(a),e.next=9,function(){var e=zi(oi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fm(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return ax.forEach(n,(function(t){return ax.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return ax.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),lx(e.t0)){e.next=10;break}throw e.t0;case 10:Rm("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=Jr(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ii.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ii=r.ii.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),A_.apply(this,arguments)}function N_(e,t){return R_.apply(this,arguments)}function R_(){return R_=zi(oi().mark((function e(t,n){var r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=Fm(t)).currentUser.isEqual(n)){e.next=11;break}return Rm("SyncEngine","User change. New user:",n.toKey()),e.next=5,WI(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.aa.forEach((function(e){e.forEach((function(e){e.reject(new Um(Vm.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.aa.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,C_(r,i.hi);case 11:case"end":return e.stop()}}),e)}))),R_.apply(this,arguments)}function P_(e,t){var n=Fm(e),r=n.ra.get(t);if(r&&r.Zu)return Bb().add(r.key);var i=Bb(),a=n.na.get(t);if(!a)return i;var o,u=Jr(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ea.get(s);i=i.unionWith(c.view.Ku)}}catch(l){u.e(l)}finally{u.f()}return i}function D_(e,t){return O_.apply(this,arguments)}function O_(){return O_=zi(oi().mark((function e(t,n){var r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fm(t),e.next=3,eS(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.Yu(i),e.abrupt("return",(r.isPrimaryClient&&E_(r,n.targetId,a.Hu),a));case 6:case"end":return e.stop()}}),e)}))),O_.apply(this,arguments)}function L_(e,t){return M_.apply(this,arguments)}function M_(){return M_=zi(oi().mark((function e(t,n){var r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fm(t),e.abrupt("return",nS(r.localStore,n).then((function(e){return C_(r,e)})));case 2:case"end":return e.stop()}}),e)}))),M_.apply(this,arguments)}function F_(e,t,n,r){return V_.apply(this,arguments)}function V_(){return V_=zi(oi().mark((function e(t,n,r,i){var a,o;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Fm(t),e.next=3,function(e,t){var n=Fm(e),r=Fm(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.ci.Ks(e,t):ax.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,fE(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(x_(a,n,i||null),w_(a,n),function(e,t){Fm(Fm(e).Bs)._n(t)}(a.localStore,n)):Lm();case 11:return e.next=13,C_(a,o);case 13:e.next=16;break;case 15:Rm("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),V_.apply(this,arguments)}function U_(e,t){return j_.apply(this,arguments)}function j_(){return j_=zi(oi().mark((function e(t,n){var r,i,a,o,u,s,c,l;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Y_(r=Fm(t)),X_(r),!0!==n||!0===r.ha){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,B_(r,i.toArray());case 5:return a=e.sent,r.ha=!0,e.next=9,TE(r.remoteStore,!0);case 9:o=Jr(a);try{for(o.s();!(u=o.n()).done;)s=u.value,QS(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.ha){e.next=25;break}return c=[],l=Promise.resolve(),r.na.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return I_(r,t),ZI(r.localStore,t,!0)})),YS(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,B_(r,c);case 21:return function(e){var t=Fm(e);t.ra.forEach((function(e,n){YS(t.remoteStore,n)})),t.oa.bi(),t.ra=new Map,t.ia=new Cb(Sg.comparator)}(r),r.ha=!1,e.next=25,TE(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),j_.apply(this,arguments)}function B_(e,t,n){return z_.apply(this,arguments)}function z_(){return z_=zi(oi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,y,m;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Fm(t),a=[],o=[],u=Jr(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.na.get(c))||0===f.length){e.next=34;break}return e.next=11,JI(i.localStore,Lk(f[0]));case 11:l=e.sent,h=Jr(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ea.get(p),e.next=20,D_(i,v);case 20:(y=e.sent).snapshot&&o.push(y.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,tS(i.localStore,c);case 36:return m=e.sent,e.next=39,JI(i.localStore,m);case 39:return l=e.sent,e.next=42,i_(i,q_(m),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.ta.Qo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),z_.apply(this,arguments)}function q_(e){return Tk(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function W_(e){var t=Fm(e);return Fm(Fm(t.localStore).persistence).Fs()}function K_(e,t,n,r){return G_.apply(this,arguments)}function G_(){return G_=zi(oi().mark((function e(t,n,r,i){var a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=Fm(t)).ha){e.next=3;break}return e.abrupt("return",void Rm("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.na.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,nS(a.localStore,Bk(o[0]));case 10:return u=e.sent,s=Wb.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,C_(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,ZI(a.localStore,n,!0);case 17:return I_(a,n,i),e.abrupt("break",20);case 19:Lm();case 20:case"end":return e.stop()}}),e)}))),G_.apply(this,arguments)}function H_(e,t,n){return Q_.apply(this,arguments)}function Q_(){return Q_=zi(oi().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=Y_(t)).ha){e.next=45;break}a=Jr(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.na.has(u)){e.next=10;break}return Rm("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,tS(i.localStore,u);case 12:return s=e.sent,e.next=15,JI(i.localStore,s);case 15:return c=e.sent,e.next=18,i_(i,q_(s),c.targetId,!1);case 18:QS(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=Jr(r),e.prev=30,h=oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.na.has(t),!e.t0){e.next=5;break}return e.next=5,ZI(i.localStore,t,!1).then((function(){YS(i.remoteStore,t),I_(i,t)})).catch(yI);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),Q_.apply(this,arguments)}function Y_(e){var t=Fm(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=l_.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=P_.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=d_.bind(null,t),t.ta.Qo=zE.bind(null,t.eventManager),t.ta.fa=qE.bind(null,t.eventManager),t}function X_(e){var t=Fm(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=v_.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=m_.bind(null,t),t}function J_(e,t,n){var r=Fm(e);(function(){var e=zi(oi().mark((function e(t,n,r){var i,a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=Fm(e),r=aw(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(YE(i)),a=new QE(i,t.localStore,n.M),e.next=15,n.da();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.ku(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.da();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,C_(t,s.Fu,void 0);case 31:return e.next=33,function(e,t){var n=Fm(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Ou));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(Dm("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var Z_=function(){function e(){Xr(this,e),this.synchronizeTabs=!1}return k(e,[{key:"initialize",value:function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=MS(t.databaseInfo.databaseId),this.sharedClientState=this._a(t),this.persistence=this.wa(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.ma(t),this.localStore=this.ga(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ma",value:function(e){return null}},{key:"ga",value:function(e){return qI(this.persistence,new BI,e.initialUser,this.M)}},{key:"wa",value:function(e){return new yS(gS.zi,this.M)}},{key:"_a",value:function(e){return new CS}},{key:"terminate",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),$_=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this)).ya=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return k(n,[{key:"initialize",value:function(){var e=zi(oi().mark((function e(t){var r=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Za($r(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.ya.initialize(this,t);case 4:return e.next=6,X_(this.ya.syncEngine);case 6:return e.next=8,fE(this.ya.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){return qI(this.persistence,new BI,e.initialUser,this.M)}},{key:"ma",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new bI(t,e.asyncQueue)}},{key:"wa",value:function(e){var t=VI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?rI.withCacheSize(this.cacheSizeBytes):rI.DEFAULT;return new LI(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,OS(),LS(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"_a",value:function(e){return new CS}}]),n}(Z_),eT=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e,r,!1)).ya=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return k(n,[{key:"initialize",value:function(){var e=zi(oi().mark((function e(t){var r,i=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Za($r(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.ya.syncEngine,e.t0=this.sharedClientState instanceof TS,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={Mr:F_.bind(null,r),Or:K_.bind(null,r),Fr:H_.bind(null,r),Fs:W_.bind(null,r),kr:L_.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,U_(i.ya.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_a",value:function(e){var t=OS();if(!TS.vt(t))throw new Um(Vm.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=VI(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new TS(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}($_),tT=function(){function e(){Xr(this,e)}return k(e,[{key:"initialize",value:function(){var e=zi(oi().mark((function e(t,n){var r=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return h_(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=N_.bind(null,this.syncEngine),e.next=12,TE(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new FE}},{key:"createDatastore",value:function(e){var t,n=MS(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new DS(t));return function(e,t,n,r){return new BS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return h_(o.syncEngine,e,0)},a=NS.vt()?new NS:new AS,new qS(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new t_(e,t,n,r,i,a);return o&&(u.ha=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Fm(t),Rm("RemoteStore","RemoteStore shutting down."),n.fu.add(5),e.next=5,GS(n);case 5:n._u.shutdown(),n.wu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function nT(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return zi(oi().mark((function r(){var i;return oi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var rT=function(){function e(t){Xr(this,e),this.observer=t,this.muted=!1}return k(e,[{key:"next",value:function(e){this.observer.next&&this.pa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.pa(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Ia",value:function(){this.muted=!0}},{key:"pa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),iT=function(){function e(t,n){var r=this;Xr(this,e),this.Ta=t,this.M=n,this.metadata=new jm,this.buffer=new Uint8Array,this.Ea=new TextDecoder("utf-8"),this.Aa().then((function(e){e&&e.xu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return k(e,[{key:"close",value:function(){return this.Ta.cancel()}},{key:"getMetadata",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"da",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Aa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Aa",value:function(){var e=zi(oi().mark((function e(){var t,n,r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.Ea.decode(t),r=Number(n),isNaN(r)&&this.Pa("length string (".concat(n,") is not valid number")),e.next=9,this.ba(r);case 9:return i=e.sent,e.abrupt("return",new GE(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Va",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Ra",value:function(){var e=zi(oi().mark((function e(){var t,n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Va()<0)){e.next=7;break}return e.next=3,this.va();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Va())<0&&this.Pa("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ba",value:function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.va();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.Pa("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.Ea.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Pa",value:function(e){throw this.Ta.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"va",value:function(){var e=zi(oi().mark((function e(){var t,n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ta.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),aT=function(){function e(t){Xr(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return k(e,[{key:"lookup",value:function(){var e=zi(oi().mark((function e(t){var n,r=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new Um(Vm.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=zi(oi().mark((function e(t,n){var r,i,a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fm(t),i=hw(r.M)+"/documents",a={documents:n.map((function(e){return sw(r.M,e)}))},e.next=5,r.ho("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=yw(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());Mm(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new xb(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=zi(oi().mark((function e(){var t,n=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Sg.fromPath(t);n.mutations.push(new Ib(r,n.precondition(r)))})),e.next=7,function(){var e=zi(oi().mark((function e(t,n){var r,i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Fm(t),i=hw(r.M)+"/documents",a={writes:n.map((function(e){return mw(r.M,e)}))},e.next=3,r.oo("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw Lm();t=ng.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Um(Vm.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?ub.updateTime(t):ub.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ng.min()))throw new Um(Vm.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return ub.updateTime(t)}return ub.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),oT=function(){function e(t,n,r,i){Xr(this,e),this.asyncQueue=t,this.datastore=n,this.updateFunction=r,this.deferred=i,this.Sa=5,this.Do=new FS(this.asyncQueue,"transaction_retry")}return k(e,[{key:"run",value:function(){this.Sa-=1,this.Da()}},{key:"Da",value:function(){var e=this;this.Do.To(zi(oi().mark((function t(){var n,r;return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new aT(e.datastore),(r=e.Ca(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.xa(t)}))}))})).catch((function(t){e.xa(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"Ca",value:function(e){try{var t=this.updateFunction(e);return!wg(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"xa",value:function(e){var t=this;this.Sa>0&&this.Na(e)?(this.Sa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Da(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Na",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Eb(t)}return!1}}]),e}(),uT=function(){function e(t,n,r,i){var a=this;Xr(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Tm.UNAUTHENTICATED,this.clientId=Jm.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Rm("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Rm("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return k(e,[{key:"getConfiguration",value:function(){var e=zi(oi().mark((function e(){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new Um(Vm.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new jm;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(zi(oi().mark((function n(){var r;return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=PE(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function sT(e,t){return cT.apply(this,arguments)}function cT(){return cT=zi(oi().mark((function e(t,n){var r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Rm("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,WI(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),cT.apply(this,arguments)}function lT(e,t){return fT.apply(this,arguments)}function fT(){return fT=zi(oi().mark((function e(t,n){var r,i;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,hT(t);case 3:return r=e.sent,Rm("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return EE(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return EE(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),fT.apply(this,arguments)}function hT(e){return dT.apply(this,arguments)}function dT(){return dT=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Rm("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,sT(t,new Z_);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),dT.apply(this,arguments)}function pT(e){return vT.apply(this,arguments)}function vT(){return vT=zi(oi().mark((function e(t){return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Rm("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,lT(t,new tT);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),vT.apply(this,arguments)}function yT(e){return hT(e).then((function(e){return e.persistence}))}function mT(e){return hT(e).then((function(e){return e.localStore}))}function gT(e){return pT(e).then((function(e){return e.remoteStore}))}function kT(e){return pT(e).then((function(e){return e.syncEngine}))}function bT(e){return wT.apply(this,arguments)}function wT(){return wT=zi(oi().mark((function e(t){var n,r;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=n_.bind(null,n.syncEngine),r.onUnlisten=o_.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),wT.apply(this,arguments)}function xT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new jm;return e.asyncQueue.enqueueAndForget(zi(oi().mark((function i(){return oi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rT({next:function(a){t.enqueueAndForget((function(){return jE(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new Um(Vm.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new Um(Vm.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new KE(Ck(n.path),a,{includeMetadataChanges:!0,Cu:!0});return VE(e,o)},i.next=3,bT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function IT(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new jm;return e.asyncQueue.enqueueAndForget(zi(oi().mark((function i(){return oi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new rT({next:function(n){t.enqueueAndForget((function(){return jE(e,o)})),n.fromCache&&"server"===r.source?i.reject(new Um(Vm.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new KE(n,a,{includeMetadataChanges:!0,Cu:!0});return VE(e,o)},i.next=3,bT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var ST=new Map;function ET(e,t,n){if(!n)throw new Um(Vm.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function _T(e,t,n,r){if(!0===t&&!0===r)throw new Um(Vm.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function TT(e){if(!Sg.isDocumentKey(e))throw new Um(Vm.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function CT(e){if(Sg.isDocumentKey(e))throw new Um(Vm.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function AT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Lm()}function NT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Um(Vm.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=AT(e);throw new Um(Vm.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function RT(e,t){if(t<=0)throw new Um(Vm.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var PT=function(){function e(t){var n;if(Xr(this,e),void 0===t.host){if(void 0!==t.ssl)throw new Um(Vm.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Um(Vm.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,_T("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return k(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),DT=function(){function e(t,n,r){Xr(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new PT({}),this._settingsFrozen=!1,t instanceof bg?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Um(Vm.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bg(e.options.projectId)}(t))}return k(e,[{key:"app",get:function(){if(!this._app)throw new Um(Vm.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new Um(Vm.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new PT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zm;switch(e.type){case"gapi":var t=e.client;return Mm(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Gm(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Um(Vm.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=ST.get(e);t&&(Rm("ComponentProvider","Removing Datastore"),ST.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function OT(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=NT(e,DT))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&Dm("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Tm.MOCK_USER;else{o=pi(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new Um(Vm.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Tm(s)}e._authCredentials=new qm(new Bm(o,u))}}var LT=function(){function e(t,n,r){Xr(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return k(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new FT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),MT=function(){function e(t,n,r){Xr(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return k(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),FT=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this,e,r,Ck(i)))._path=i,a.type="collection",a}return k(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new LT(this.firestore,null,new Sg(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(MT);function VT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),ET("collection","path",t),e instanceof DT){var a=ug.fromString.apply(ug,[t].concat(r));return CT(a),new FT(e,null,a)}if(!(e instanceof LT||e instanceof FT))throw new Um(Vm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ug.fromString.apply(ug,[t].concat(r)));return CT(o),new FT(e.firestore,null,o)}function UT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Li(e),1===arguments.length&&(t=Jm.R()),ET("doc","path",t),e instanceof DT){var a=ug.fromString.apply(ug,[t].concat(r));return TT(a),new LT(e,null,new Sg(a))}if(!(e instanceof LT||e instanceof FT))throw new Um(Vm.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(ug.fromString.apply(ug,[t].concat(r)));return TT(o),new LT(e.firestore,e instanceof FT?e.converter:null,new Sg(o))}function jT(e,t){return e=Li(e),t=Li(t),(e instanceof LT||e instanceof FT)&&(t instanceof LT||t instanceof FT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function BT(e,t){return e=Li(e),t=Li(t),e instanceof MT&&t instanceof MT&&e.firestore===t.firestore&&Fk(e._query,t._query)&&e.converter===t.converter}var zT=function(){function e(){var t=this;Xr(this,e),this.ka=Promise.resolve(),this.Ma=[],this.Oa=!1,this.Fa=[],this.$a=null,this.Ba=!1,this.La=!1,this.Ua=[],this.Do=new FS(this,"async_queue_retry"),this.qa=function(){var e=LS();e&&Rm("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Do.Ao()};var n=LS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qa)}return k(e,[{key:"isShuttingDown",get:function(){return this.Oa}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Ka(),this.Ga(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oa){this.Oa=!0,this.La=e||!1;var t=LS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.Ka(),this.Oa)return new Promise((function(){}));var n=new jm;return this.Ga((function(){return t.Oa&&t.La?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.Ma.push(e),t.Qa()}))}},{key:"Qa",value:function(){var e=zi(oi().mark((function e(){var t=this;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.Ma.length){e.next=14;break}return e.prev=1,e.next=4,this.Ma[0]();case 4:this.Ma.shift(),this.Do.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),lx(e.t0)){e.next=12;break}throw e.t0;case 12:Rm("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.Ma.length>0&&this.Do.To((function(){return t.Qa()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Ga",value:function(e){var t=this,n=this.ka.then((function(){return t.Ba=!0,e().catch((function(e){t.$a=e,t.Ba=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Pm("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Ba=!1,e}))}));return this.ka=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Ka(),this.Ua.indexOf(e)>-1&&(t=0);var i=RE.createAndSchedule(this,e,t,n,(function(e){return r.ja(e)}));return this.Fa.push(i),i}},{key:"Ka",value:function(){this.$a&&Lm()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Wa",value:function(){var e=zi(oi().mark((function e(){var t;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.ka,e.next=3,t;case 3:if(t!==this.ka){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"za",value:function(e){var t,n=Jr(this.Fa);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Ha",value:function(e){var t=this;return this.Wa().then((function(){t.Fa.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=Jr(t.Fa);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Wa()}))}},{key:"Ja",value:function(e){this.Ua.push(e)}},{key:"ja",value:function(e){var t=this.Fa.indexOf(e);this.Fa.splice(t,1)}}]),e}();function qT(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=Jr(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var WT=function(){function e(){Xr(this,e),this._progressObserver={},this._taskCompletionResolver=new jm,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return k(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),KT=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new zT,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return k(n,[{key:"_terminate",value:function(){return this._firestoreClient||HT(this),this._firestoreClient.terminate()}}]),n}(DT);function GT(e){return e._firestoreClient||HT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function HT(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new kg(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new uT(e._authCredentials,e._appCheckCredentials,e._queue,r)}function QT(e,t,n){var r=new jm;return e.asyncQueue.enqueue(zi(oi().mark((function i(){return oi().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,sT(e,n);case 3:return i.next=5,lT(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===Vm.FAILED_PRECONDITION||e.code===Vm.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function YT(e){return function(e){return e.asyncQueue.enqueue(zi(oi().mark((function t(){var n,r;return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yT(e);case 2:return n=t.sent,t.next=5,gT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=Fm(e);return t.fu.delete(0),WS(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(GT(e=NT(e,KT)))}function XT(e){return function(e){return e.asyncQueue.enqueue(zi(oi().mark((function t(){var n,r;return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yT(e);case 2:return n=t.sent,t.next=5,gT(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Fm(t)).fu.add(0),e.next=4,GS(n);case 4:n.wu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(GT(e=NT(e,KT)))}function JT(e,t){var n=GT(e=NT(e,KT)),r=new WT;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new iT(e,t)}(function(e,t){if(e instanceof Uint8Array)return nT(e,t);if(e instanceof ArrayBuffer)return nT(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,MS(t));e.asyncQueue.enqueueAndForget(zi(oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=J_,t.next=3,kT(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function ZT(e,t){return function(e,t){return e.asyncQueue.enqueue(zi(oi().mark((function n(){return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=Fm(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,mT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(GT(e=NT(e,KT)),t).then((function(t){return t?new MT(e,null,t.query):null}))}function $T(e){if(e._initialized||e._terminated)throw new Um(Vm.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var eC=function(){function e(){Xr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new Um(Vm.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new cg(n)}return k(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var tC=function(){function e(t){Xr(this,e),this._byteString=t}return k(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(fg.fromBase64String(t))}catch(t){throw new Um(Vm.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(fg.fromUint8Array(t))}}]),e}(),nC=k((function e(t){Xr(this,e),this._methodName=t})),rC=function(){function e(t,n){if(Xr(this,e),!isFinite(t)||t<-90||t>90)throw new Um(Vm.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Um(Vm.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return k(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return Zm(this._lat,e._lat)||Zm(this._long,e._long)}}]),e}(),iC=/^__.*__$/,aC=function(){function e(t,n,r){Xr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new yb(e,this.data,this.fieldMask,t,this.fieldTransforms):new vb(e,this.data,t,this.fieldTransforms)}}]),e}(),oC=function(){function e(t,n,r){Xr(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return k(e,[{key:"toMutation",value:function(e,t){return new yb(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function uC(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lm()}}var sC=function(){function e(t,n,r,i,a,o){Xr(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ya(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return k(e,[{key:"path",get:function(){return this.settings.path}},{key:"Xa",get:function(){return this.settings.Xa}},{key:"Za",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"tc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.nc(e),r}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Za({path:n,ec:!1});return r.Ya(),r}},{key:"ic",value:function(e){return this.Za({path:void 0,ec:!0})}},{key:"rc",value:function(e){return CC(e,this.settings.methodName,this.settings.oc||!1,this.path,this.settings.uc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ya",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.nc(this.path.get(e))}},{key:"nc",value:function(e){if(0===e.length)throw this.rc("Document fields must not be empty");if(uC(this.Xa)&&iC.test(e))throw this.rc('Document fields cannot begin and end with "__"')}}]),e}(),cC=function(){function e(t,n,r){Xr(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||MS(t)}return k(e,[{key:"ac",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new sC({Xa:e,methodName:t,uc:n,path:cg.emptyPath(),ec:!1,oc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function lC(e){var t=e._freezeSettings(),n=MS(e._databaseId);return new cC(e._databaseId,!!t.ignoreUndefinedProperties,n)}function fC(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ac(a.merge||a.mergeFields?2:0,t,n,i);SC("Data must be an object, but it was:",o,r);var u,s,c=xC(r,o);if(a.merge)u=new lg(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=Jr(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=EC(t,d,n);if(!o.contains(p))throw new Um(Vm.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));AC(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new lg(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new aC(new Gg(c),u,s)}var hC=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Xa)throw 1===e.Xa?e.rc("".concat(this._methodName,"() can only appear at the top level of your update data")):e.rc("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nC);function dC(e,t,n){return new sC({Xa:3,uc:t.settings.uc,methodName:e._methodName,ec:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var pC=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.apply(this,arguments)}return k(n,[{key:"_toFieldTransform",value:function(e){return new ab(e.path,new Jk)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(nC),vC=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e)).cc=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=dC(this,e,!0),n=this.cc.map((function(e){return wC(e,t)})),r=new Zk(n);return new ab(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nC),yC=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e)).cc=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=dC(this,e,!0),n=this.cc.map((function(e){return wC(e,t)})),r=new eb(n);return new ab(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nC),mC=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e)).hc=r,i}return k(n,[{key:"_toFieldTransform",value:function(e){var t=new nb(e.M,Gk(e.M,this.hc));return new ab(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(nC);function gC(e,t,n,r){var i=e.ac(1,t,n);SC("Data must be an object, but it was:",i,r);var a=[],o=Gg.empty();ig(r,(function(e,r){var u=TC(t,e,n);r=Li(r);var s=i.sc(u);if(r instanceof hC)a.push(u);else{var c=wC(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new lg(a);return new oC(o,u,i.fieldTransforms)}function kC(e,t,n,r,i,a){var o=e.ac(1,t,n),u=[EC(t,r,n)],s=[i];if(a.length%2!=0)throw new Um(Vm.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(EC(t,a[c])),s.push(a[c+1]);for(var l=[],f=Gg.empty(),h=u.length-1;h>=0;--h)if(!AC(l,u[h])){var d=u[h],p=s[h];p=Li(p);var v=o.sc(d);if(p instanceof hC)l.push(d);else{var y=wC(p,v);null!=y&&(l.push(d),f.set(d,y))}}var m=new lg(l);return new oC(f,m,o.fieldTransforms)}function bC(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return wC(n,e.ac(r?4:3,t))}function wC(e,t){if(IC(e=Li(e)))return SC("Unsupported field value:",t,e),xC(e,t);if(e instanceof nC)return function(e,t){if(!uC(t.Xa))throw t.rc("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.rc("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ec&&4!==t.Xa)throw t.rc("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=Jr(e);try{for(a.s();!(n=a.n()).done;){var o=wC(n.value,t.ic(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Li(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Gk(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=tg.fromDate(e);return{timestampValue:nw(t.M,n)}}if(e instanceof tg){var r=new tg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:nw(t.M,r)}}if(e instanceof rC)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof tC)return{bytesValue:rw(t.M,e._byteString)};if(e instanceof LT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.rc("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:ow(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.rc("Unsupported field value: ".concat(AT(e)))}(e,t)}function xC(e,t){var n={};return ag(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ig(e,(function(e,r){var i=wC(r,t.tc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function IC(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof tg||e instanceof rC||e instanceof tC||e instanceof LT||e instanceof nC)}function SC(e,t,n){if(!IC(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=AT(n);throw"an object"===r?t.rc(e+" a custom object"):t.rc(e+" "+r)}}function EC(e,t,n){if((t=Li(t))instanceof eC)return t._internalPath;if("string"==typeof t)return TC(e,t);throw CC("Field path arguments must be of type string or ",e,!1,void 0,n)}var _C=new RegExp("[~\\*/\\[\\]]");function TC(e,t,n){if(t.search(_C)>=0)throw CC("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return ri(eC,mt(t.split(".")))._internalPath}catch(r){throw CC("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function CC(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new Um(Vm.INVALID_ARGUMENT,u+e+s)}function AC(e,t){return e.some((function(e){return e.isEqual(t)}))}var NC=function(){function e(t,n,r,i,a){Xr(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return k(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new LT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new RC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(PC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),RC=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){return Za($r(n.prototype),"data",this).call(this)}}]),n}(NC);function PC(e,t){return"string"==typeof t?TC(e,t):t instanceof eC?t._internalPath:t._delegate._internalPath}var DC=function(){function e(t,n){Xr(this,e),this.hasPendingWrites=t,this.fromCache=n}return k(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),OC=function(e){Zr(n,e);var t=ni(n);function n(e,r,i,a,o,u){var s;return Xr(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return k(n,[{key:"exists",value:function(){return Za($r(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new LC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(PC("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(NC),LC=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Za($r(n.prototype),"data",this).call(this,e)}}]),n}(OC),MC=function(){function e(t,n,r,i){Xr(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new DC(i.hasPendingWrites,i.fromCache),this.query=r}return k(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new LC(n._firestore,n._userDataWriter,r.key,r,new DC(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Um(Vm.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new LC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new LC(e._firestore,e._userDataWriter,t.doc.key,t.doc,new DC(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:FC(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function FC(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lm()}}function VC(e,t){return e instanceof OC&&t instanceof OC?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof MC&&t instanceof MC&&e._firestore===t._firestore&&BT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function UC(e){if(Nk(e)&&0===e.explicitOrderBy.length)throw new Um(Vm.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var jC=k((function e(){Xr(this,e)}));function BC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var zC=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this)).lc=e,a.fc=r,a.dc=i,a.type="where",a}return k(n,[{key:"_apply",value:function(e){var t=lC(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new Um(Vm.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){$C(o,a);var s,c=[],l=Jr(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(ZC(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=ZC(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||$C(o,a),u=bC(n,"where",o,"in"===a||"not-in"===a);var h=hk.create(i,a,u);return function(e,t){if(t.S()){var n=Pk(e);if(null!==n&&!n.isEqual(t.field))throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=Rk(e);null!==r&&eA(e,t.field,r)}var i=function(e,t){var n,r=Jr(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new Um(Vm.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Um(Vm.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this.lc,this.fc,this.dc);return new MT(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new _k(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(jC);var qC=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this)).lc=e,i._c=r,i.type="orderBy",i}return k(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new xk(t,n);return function(e,t){if(null===Rk(e)){var n=Pk(e);null!==n&&eA(e,n,t.field)}}(e,r),r}(e._query,this.lc,this._c);return new MT(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new _k(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(jC);var WC=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this)).type=e,a.wc=r,a.mc=i,a}return k(n,[{key:"_apply",value:function(e){return new MT(e.firestore,e.converter,Mk(e._query,this.wc,this.mc))}}]),n}(jC);var KC=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return k(n,[{key:"_apply",value:function(e){var t=JC(e,this.type,this.gc,this.yc);return new MT(e.firestore,e.converter,function(e,t){return new _k(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(jC);function GC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KC("startAt",t,!0)}function HC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new KC("startAfter",t,!1)}var QC=function(e){Zr(n,e);var t=ni(n);function n(e,r,i){var a;return Xr(this,n),(a=t.call(this)).type=e,a.gc=r,a.yc=i,a}return k(n,[{key:"_apply",value:function(e){var t=JC(e,this.type,this.gc,this.yc);return new MT(e.firestore,e.converter,function(e,t){return new _k(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(jC);function YC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QC("endBefore",t,!1)}function XC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new QC("endAt",t,!0)}function JC(e,t,n,r){if(n[0]=Li(n[0]),n[0]instanceof NC)return function(e,t,n,r,i){if(!r)throw new Um(Vm.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=Jr(Ok(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(Og(t,r.key));else{var c=r.data.field(s.field);if(yg(c))throw new Um(Vm.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new wk(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=lC(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new Um(Vm.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!Dk(e)&&-1!==c.indexOf("/"))throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(ug.fromString(c));if(!Sg.isDocumentKey(l))throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Sg(l);u.push(Og(t,f))}else{var h=bC(n,r,c);u.push(h)}}return new wk(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function ZC(e,t,n){if("string"==typeof(n=Li(n))){if(""===n)throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Dk(t)&&-1!==n.indexOf("/"))throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(ug.fromString(n));if(!Sg.isDocumentKey(r))throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Og(e,new Sg(r))}if(n instanceof LT)return Og(e,n._key);throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(AT(n),"."))}function $C(e,t){if(!Array.isArray(e)||0===e.length)throw new Um(Vm.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new Um(Vm.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function eA(e,t,n){if(!n.isEqual(t))throw new Um(Vm.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var tA=function(){function e(){Xr(this,e)}return k(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Tg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(vg(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Lm()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return ig(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new rC(pg(e.latitude),pg(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=mg(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(gg(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=dg(e);return new tg(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=ug.fromString(e);Mm(Nw(n));var r=new bg(n.get(1),n.get(3)),i=new Sg(n.popFirst(5));return r.isEqual(t)||Pm("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function nA(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var rA=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new tC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LT(this.firestore,null,t)}}]),n}(tA),iA=function(){function e(t,n){Xr(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=lC(t)}return k(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=aA(e,this._firestore),i=nA(r.converter,t,n),a=fC(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,ub.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=aA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Li(t))||t instanceof eC?kC(this._dataReader,"WriteBatch.update",i._key,t,n,o):gC(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,ub.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=aA(e,this._firestore);return this._mutations=this._mutations.concat(new xb(t._key,ub.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new Um(Vm.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function aA(e,t){if((e=Li(e)).firestore!==t)throw new Um(Vm.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var oA=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new tC(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new LT(this.firestore,null,t)}}]),n}(tA);function uA(e){e=NT(e,LT);var t=NT(e.firestore,KT),n=GT(t),r=new oA(t);return function(e,t){var n=new jm;return e.asyncQueue.enqueueAndForget(zi(oi().mark((function r(){return oi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=zi(oi().mark((function e(t,n,r){var i,a;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=Fm(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.ci.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new Um(Vm.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=PE(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new OC(t,r,e._key,n,new DC(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function sA(e){e=NT(e,MT);var t=NT(e.firestore,KT),n=GT(t),r=new oA(t);return function(e,t){var n=new jm;return e.asyncQueue.enqueueAndForget(zi(oi().mark((function r(){return oi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=zi(oi().mark((function e(t,n,r){var i,a,o,u,s;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,eS(t,n,!0);case 3:i=e.sent,a=new ZE(n,i.li),o=a.Gu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=PE(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,mT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new MC(t,r,e,n)}))}function cA(e,t,n){e=NT(e,LT);var r=NT(e.firestore,KT),i=nA(e.converter,t,n);return dA(r,[fC(lC(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,ub.none())])}function lA(e,t,n){e=NT(e,LT);for(var r=NT(e.firestore,KT),i=lC(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return dA(r,[("string"==typeof(t=Li(t))||t instanceof eC?kC(i,"updateDoc",e._key,t,n,o):gC(i,"updateDoc",e._key,t)).toMutation(e._key,ub.exists(!0))])}function fA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Li(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||qT(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(qT(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof LT)l=NT(e.firestore,KT),f=Ck(e._key.path),c={next:function(t){n[s]&&n[s](pA(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=NT(e,MT);l=NT(p.firestore,KT),f=p._query;var v=new oA(l);c={next:function(e){n[s]&&n[s](new MC(l,v,p,e))},error:n[s+1],complete:n[s+2]},UC(e._query)}return function(e,t,n,r){var i=new rT(r),a=new KE(t,i,n);return e.asyncQueue.enqueueAndForget(zi(oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=VE,t.next=3,bT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Ia(),e.asyncQueue.enqueueAndForget(zi(oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=jE,t.next=3,bT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GT(l),f,h,c)}function hA(e,t){return function(e,t){var n=new rT(t);return e.asyncQueue.enqueueAndForget(zi(oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fm(e).Eu.add(t),t.next()},t.next=3,bT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Ia(),e.asyncQueue.enqueueAndForget(zi(oi().mark((function t(){return oi().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){Fm(e).Eu.delete(t)},t.next=3,bT(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(GT(e=NT(e,KT)),qT(t)?t:{next:t})}function dA(e,t){return function(e,t){var n=new jm;return e.asyncQueue.enqueueAndForget(zi(oi().mark((function r(){return oi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=s_,r.next=3,kT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(GT(e),t)}function pA(e,t,n){var r=n.docs.get(t._key),i=new oA(e);return new OC(e,i,t._key,r,new DC(n.hasPendingWrites,n.fromCache),t.converter)}var vA=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e,r))._firestore=e,i}return k(n,[{key:"get",value:function(e){var t=this,r=aA(e,this._firestore),i=new oA(this._firestore);return Za($r(n.prototype),"get",this).call(this,e).then((function(e){return new OC(t._firestore,i,r._key,e._document,new DC(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Xr(this,e),this._firestore=t,this._transaction=n,this._dataReader=lC(t)}return k(e,[{key:"get",value:function(e){var t=this,n=aA(e,this._firestore),r=new rA(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return Lm();var i=e[0];if(i.isFoundDocument())return new NC(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new NC(t._firestore,r,n._key,null,n.converter);throw Lm()}))}},{key:"set",value:function(e,t,n){var r=aA(e,this._firestore),i=nA(r.converter,t,n),a=fC(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=aA(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Li(t))||t instanceof eC?kC(this._dataReader,"Transaction.update",i._key,t,n,o):gC(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=aA(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function yA(e,t){return function(e,t){var n=new jm;return e.asyncQueue.enqueueAndForget(zi(oi().mark((function r(){var i;return oi().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,function(e){return pT(e).then((function(e){return e.datastore}))}(e);case 2:i=r.sent,new oT(e.asyncQueue,i,t,n).run();case 4:case"end":return r.stop()}}),r)})))),n.promise}(GT(e=NT(e,KT)),(function(n){return t(new vA(e,n))}))}function mA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new vC("arrayUnion",t)}function gA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new yC("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Cm=e}(ba),da(new qi("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new KT(i,new Wm(e.getProvider("auth-internal")),new Qm(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),_a(_m,"3.4.8",e),_a(_m,"3.4.8","esm2017")}();function kA(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Um("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function bA(){if("undefined"===typeof Uint8Array)throw new Um("unimplemented","Uint8Arrays are not available in this environment.")}function wA(){if("undefined"==typeof atob)throw new Um("unimplemented","Blobs are unavailable in Firestore in this environment.")}var xA=function(){function e(t){Xr(this,e),this._delegate=t}return k(e,[{key:"toBase64",value:function(){return wA(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return bA(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return wA(),new e(tC.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return bA(),new e(tC.fromUint8Array(t))}}]),e}();function IA(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=Jr(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var SA=function(){function e(){Xr(this,e)}return k(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){$T(e=NT(e,KT));var n=GT(e),r=e._freezeSettings(),i=new tT;return QT(n,i,new $_(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){$T(e=NT(e,KT));var t=GT(e),n=e._freezeSettings(),r=new tT;return QT(t,r,new eT(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new Um(Vm.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new jm;return e._queue.enqueueAndForgetEvenWhileRestricted(zi(oi().mark((function n(){return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=zi(oi().mark((function e(t){var n;return oi().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ux.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ux.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(VI(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),EA=function(){function e(t,n,r){var i=this;Xr(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof bg||(this._appCompat=t)}return k(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||Dm("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};OT(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return YT(this._delegate)}},{key:"disableNetwork",value:function(){return XT(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&_T("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new jm;return e.asyncQueue.enqueueAndForget(zi(oi().mark((function n(){return oi().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=k_,n.next=3,kT(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(GT(e=NT(e,KT)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return hA(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new Um("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new UA(this,VT(this._delegate,e))}catch(t){throw RA(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new NA(this,UT(this._delegate,e))}catch(t){throw RA(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new MA(this,function(e,t){if(e=NT(e,DT),ET("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Um(Vm.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new MT(e,null,function(e){return new _k(ug.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw RA(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return yA(this._delegate,(function(n){return e(new TA(t,n))}))}},{key:"batch",value:function(){var e=this;return GT(this._delegate),new CA(new iA(this._delegate,(function(t){return dA(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return JT(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return ZT(this._delegate,e).then((function(e){return e?new MA(t,e):null}))}}]),e}(),_A=function(e){Zr(n,e);var t=ni(n);function n(e){var r;return Xr(this,n),(r=t.call(this)).firestore=e,r}return k(n,[{key:"convertBytes",value:function(e){return new xA(new tC(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return NA.forKey(t,this.firestore,null)}}]),n}(tA);var TA=function(){function e(t,n){Xr(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new _A(t)}return k(e,[{key:"get",value:function(e){var t=this,n=jA(e);return this._delegate.get(n).then((function(e){return new OA(t._firestore,new OC(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=jA(e);return n?(kA("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=jA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jA(e);return this._delegate.delete(t),this}}]),e}(),CA=function(){function e(t){Xr(this,e),this._delegate=t}return k(e,[{key:"set",value:function(e,t,n){var r=jA(e);return n?(kA("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=jA(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=jA(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),AA=function(){function e(t,n,r){Xr(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return k(e,[{key:"fromFirestore",value:function(e,t){var n=new LC(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new LA(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new _A(t),n),i.set(n,a)),a}}]),e}();AA.INSTANCES=new WeakMap;var NA=function(){function e(t,n){Xr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _A(t)}return k(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new UA(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new UA(this.firestore,VT(this._delegate,e))}catch(t){throw RA(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Li(e))instanceof LT&&jT(this._delegate,e)}},{key:"set",value:function(e,t){t=kA("DocumentReference.set",t);try{return t?cA(this._delegate,e,t):cA(this._delegate,e)}catch(n){throw RA(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?lA(this._delegate,e):lA.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw RA(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return dA(NT(e.firestore,KT),[new xb(e._key,ub.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PA(n),a=DA(n,(function(t){return new OA(e.firestore,new OC(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return fA(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?uA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NT(e,LT);var t=NT(e.firestore,KT);return xT(GT(t),e._key,{source:"server"}).then((function(n){return pA(t,e,n)}))}(this._delegate):function(e){e=NT(e,LT);var t=NT(e.firestore,KT);return xT(GT(t),e._key).then((function(n){return pA(t,e,n)}))}(this._delegate),t.then((function(e){return new OA(n.firestore,new OC(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(AA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new Um("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new LT(n._delegate,r,new Sg(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new LT(n._delegate,r,t))}}]),e}();function RA(e,t,n){return e.message=e.message.replace(t,n),e}function PA(e){var t,n=Jr(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!IA(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function DA(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=IA(e[0])?e[0]:IA(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var OA=function(){function e(t,n){Xr(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"ref",get:function(){return new NA(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return VC(this._delegate,e._delegate)}}]),e}(),LA=function(e){Zr(n,e);var t=ni(n);function n(){return Xr(this,n),t.apply(this,arguments)}return k(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||Lm()}(void 0!==t),t}}]),n}(OA),MA=function(){function e(t,n){Xr(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new _A(t)}return k(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,BC(this._delegate,function(e,t,n){var r=t,i=PC("where",e);return new zC(i,r,n)}(t,n,r)))}catch(i){throw RA(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,BC(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=PC("orderBy",e);return new qC(n,t)}(t,n)))}catch(r){throw RA(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,BC(this._delegate,function(e){return RT("limit",e),new WC("limit",e,"F")}(t)))}catch(n){throw RA(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,BC(this._delegate,function(e){return RT("limitToLast",e),new WC("limitToLast",e,"L")}(t)))}catch(n){throw RA(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,BC(this._delegate,GC.apply(void 0,arguments)))}catch(t){throw RA(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,BC(this._delegate,HC.apply(void 0,arguments)))}catch(t){throw RA(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,BC(this._delegate,YC.apply(void 0,arguments)))}catch(t){throw RA(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,BC(this._delegate,XC.apply(void 0,arguments)))}catch(t){throw RA(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return BT(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?sA(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=NT(e,MT);var t=NT(e.firestore,KT),n=GT(t),r=new oA(t);return IT(n,e._query,{source:"server"}).then((function(n){return new MC(t,r,e,n)}))}(this._delegate):function(e){e=NT(e,MT);var t=NT(e.firestore,KT),n=GT(t),r=new oA(t);return UC(e._query),IT(n,e._query).then((function(n){return new MC(t,r,e,n)}))}(this._delegate),t.then((function(e){return new VA(n.firestore,new MC(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=PA(n),a=DA(n,(function(t){return new VA(e.firestore,new MC(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return fA(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter(AA.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),FA=function(){function e(t,n){Xr(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new LA(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),VA=function(){function e(t,n){Xr(this,e),this._firestore=t,this._delegate=n}return k(e,[{key:"query",get:function(){return new MA(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new LA(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new FA(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new LA(n._firestore,r))}))}},{key:"isEqual",value:function(e){return VC(this._delegate,e._delegate)}}]),e}(),UA=function(e){Zr(n,e);var t=ni(n);function n(e,r){var i;return Xr(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return k(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new NA(this.firestore,e):null}},{key:"doc",value:function(e){try{return new NA(this.firestore,void 0===e?UT(this._delegate):UT(this._delegate,e))}catch(t){throw RA(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=NT(e.firestore,KT),r=UT(e),i=nA(e.converter,t);return dA(n,[fC(lC(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,ub.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new NA(t.firestore,e)}))}},{key:"isEqual",value:function(e){return jT(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter(AA.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(MA);function jA(e){return NT(e,LT)}var BA=function(){function e(){Xr(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=ri(eC,n)}return k(e,[{key:"isEqual",value:function(e){return(e=Li(e))instanceof eC&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(cg.keyField().canonicalString())}}]),e}(),zA=function(){function e(t){Xr(this,e),this._delegate=t}return k(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new pC("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new hC("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=mA.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=gA.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new mC("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),qA={Firestore:EA,GeoPoint:rC,Timestamp:tg,Blob:xA,Transaction:TA,WriteBatch:CA,DocumentReference:NA,DocumentSnapshot:OA,Query:MA,QueryDocumentSnapshot:LA,QuerySnapshot:VA,CollectionReference:UA,FieldPath:BA,FieldValue:zA,setLogLevel:function(e){!function(e){Am.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new qi("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},qA)))}(e,(function(e,t){return new EA(e,t,new SA)})),e.registerVersion("@firebase/firestore-compat","0.1.17")}(Xa);var WA=Xa.initializeApp({apiKey:"AIzaSyBlPwQqjr9TYoKVpgCE65tVnk_I-0JYIuo",authDomain:"anoroam-ryv.firebaseapp.com",projectId:"anoroam-ryv",storageBucket:"anoroam-ryv.appspot.com",messagingSenderId:"590615179880",appId:"1:590615179880:web:d8865bacff0f4456a941dd",measurementId:"G-L12C2P13N8"}).firestore(),KA=Xa.auth(),GA=new Xa.auth.GoogleAuthProvider,HA=WA;var QA=function(){var e=(0,t.useRef)(null),r=s(Kr(),1)[0].user,i=s((0,t.useState)(""),2),a=i[0],o=i[1],u=s((0,t.useState)(""),2),c=u[0],l=u[1];return(0,zr.jsxs)("div",{className:"messageSender",children:[(0,zr.jsxs)("div",{className:"messageSender_top",children:[(0,zr.jsx)(Br,{src:r.photoURL}),(0,zr.jsxs)("form",{children:[(0,zr.jsx)("input",{value:a,onChange:function(e){return o(e.target.value)},className:"messageSender_input",ref:e,placeholder:"Type here, ".concat(r.displayName,"...")}),(0,zr.jsx)("input",{value:c,onChange:function(e){return l(e.target.value)},placeholder:"Image URL   "}),(0,zr.jsx)("button",{onClick:function(t){t.preventDefault(),e.current.value&&(HA.collection("posts").add({message:a,timestamp:Xa.firestore.FieldValue.serverTimestamp(),profilePic:r.photoURL,username:r.displayName,image:c}),o(""),l(""),e.current.value="")},type:"submit",children:"Hidden Submit"})]})]}),(0,zr.jsxs)("div",{className:"messageSender_bottom",children:[(0,zr.jsx)("div",{className:"messageSender_option",children:(0,zr.jsx)("img",{src:n(371),alt:""})}),(0,zr.jsx)("div",{className:"messageSender_option1",children:(0,zr.jsx)("img",{src:n(902),alt:""})}),(0,zr.jsx)("div",{className:"messageSender_option",children:(0,zr.jsx)("img",{src:n(371),alt:""})})]})]})};var YA=function(e){var t=e.profilePic,n=e.image,r=e.username,i=e.timestamp,a=e.message;return(0,zr.jsxs)("div",{className:"post",children:[(0,zr.jsxs)("div",{className:"post_top",children:[(0,zr.jsx)(Br,{src:t,className:"post_avatar"}),(0,zr.jsxs)("div",{className:"post_topInfo",children:[(0,zr.jsx)("h3",{children:r}),(0,zr.jsx)("p",{children:new Date(null===i||void 0===i?void 0:i.toDate()).toUTCString()})]})]}),(0,zr.jsx)("div",{className:"post_bottom",children:(0,zr.jsx)("p",{children:a})}),(0,zr.jsx)("div",{className:"post_image",children:(0,zr.jsx)("img",{src:n,alt:""})})]})};var XA=function(){var e=s((0,t.useState)([]),2),n=e[0],r=e[1];return(0,t.useEffect)((function(){HA.collection("posts").orderBy("timestamp","desc").onSnapshot((function(e){r(e.docs.map((function(e){return{id:e.id,data:e.data()}})))}))}),[]),(0,zr.jsxs)("div",{className:"feed",children:[(0,zr.jsx)(QA,{}),n.map((function(e){return(0,zr.jsx)(YA,{profilePic:e.data.profilePic,message:e.data.message,timestamp:e.data.timestamp,username:e.data.username,image:e.data.image},e.data.id)}))]})};var JA=function(){return(0,zr.jsx)("div",{className:"widgets",children:(0,zr.jsx)("iframe",{title:"Pages",src:"https://open.spotify.com/embed/playlist/7lJKyY83uOTOoNVGfsDJji?utm_source=generator&theme=0",width:"240",height:"861",style:{border:"none",overflow:"hidden"},scrolling:"yes",frameborder:"0",allowTransparency:"true",allow:"encrypted-media"})})};function ZA(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function $A(e,n){return t.useMemo((function(){return null==e&&null==n?null:function(t){ZA(e,t),ZA(n,t)}}),[e,n])}var eN="undefined"!==typeof window?t.useLayoutEffect:t.useEffect;function tN(e){var n=t.useRef(e);return eN((function(){n.current=e})),t.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}var nN=!0,rN=!1,iN=null,aN={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function oN(e){e.metaKey||e.altKey||e.ctrlKey||(nN=!0)}function uN(){nN=!1}function sN(){"hidden"===this.visibilityState&&rN&&(nN=!0)}function cN(e){var t=e.target;try{return t.matches(":focus-visible")}catch(n){}return nN||function(e){var t=e.type,n=e.tagName;return!("INPUT"!==n||!aN[t]||e.readOnly)||"TEXTAREA"===n&&!e.readOnly||!!e.isContentEditable}(t)}function lN(){rN=!0,window.clearTimeout(iN),iN=window.setTimeout((function(){rN=!1}),100)}function fN(){var e=t.useCallback((function(e){var t,n=r.findDOMNode(e);null!=n&&((t=n.ownerDocument).addEventListener("keydown",oN,!0),t.addEventListener("mousedown",uN,!0),t.addEventListener("pointerdown",uN,!0),t.addEventListener("touchstart",uN,!0),t.addEventListener("visibilitychange",sN,!0))}),[]);return{isFocusVisible:cN,onBlurVisible:lN,ref:e}}var hN=t.createContext(null);function dN(e,n){var r=Object.create(null);return e&&t.Children.map(e,(function(e){return e})).forEach((function(e){r[e.key]=function(e){return n&&(0,t.isValidElement)(e)?n(e):e}(e)})),r}function pN(e,t,n){return null!=n[t]?n[t]:e.props[t]}function vN(e,n,r){var i=dN(e.children),a=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),a=[];for(var o in e)o in t?a.length&&(i[o]=a,a=[]):a.push(o);var u={};for(var s in t){if(i[s])for(r=0;r<i[s].length;r++){var c=i[s][r];u[i[s][r]]=n(c)}u[s]=n(s)}for(r=0;r<a.length;r++)u[a[r]]=n(a[r]);return u}(n,i);return Object.keys(a).forEach((function(o){var u=a[o];if((0,t.isValidElement)(u)){var s=o in n,c=o in i,l=n[o],f=(0,t.isValidElement)(l)&&!l.props.in;!c||s&&!f?c||!s||f?c&&s&&(0,t.isValidElement)(l)&&(a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:l.props.in,exit:pN(u,"exit",e),enter:pN(u,"enter",e)})):a[o]=(0,t.cloneElement)(u,{in:!1}):a[o]=(0,t.cloneElement)(u,{onExited:r.bind(null,u),in:!0,exit:pN(u,"exit",e),enter:pN(u,"enter",e)})}})),a}var yN=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},mN=function(e){function n(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(x(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}w(n,e);var r=n.prototype;return r.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},r.componentWillUnmount=function(){this.mounted=!1},n.getDerivedStateFromProps=function(e,n){var r,i,a=n.children,o=n.handleExited;return{children:n.firstRender?(r=e,i=o,dN(r.children,(function(e){return(0,t.cloneElement)(e,{onExited:i.bind(null,e),in:!0,appear:pN(e,"appear",r),enter:pN(e,"enter",r),exit:pN(e,"exit",r)})}))):vN(e,a,o),firstRender:!1}},r.handleExited=function(e,t){var n=dN(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=c({},t.children);return delete n[e.key],{children:n}})))},r.render=function(){var e=this.props,n=e.component,r=e.childFactory,i=l(e,["component","childFactory"]),a=this.state.contextValue,o=yN(this.state.children).map(r);return delete i.appear,delete i.enter,delete i.exit,null===n?t.createElement(hN.Provider,{value:a},o):t.createElement(hN.Provider,{value:a},t.createElement(n,i,o))},n}(t.Component);mN.propTypes={},mN.defaultProps={component:"div",childFactory:function(e){return e}};var gN=mN,kN="undefined"===typeof window?t.useEffect:t.useLayoutEffect;var bN=function(e){var n=e.classes,r=e.pulsate,i=void 0!==r&&r,a=e.rippleX,o=e.rippleY,u=e.rippleSize,s=e.in,c=e.onExited,l=void 0===c?function(){}:c,f=e.timeout,h=t.useState(!1),p=h[0],v=h[1],y=d(n.ripple,n.rippleVisible,i&&n.ripplePulsate),m={width:u,height:u,top:-u/2+o,left:-u/2+a},g=d(n.child,p&&n.childLeaving,i&&n.childPulsate),k=tN(l);return kN((function(){if(!s){v(!0);var e=setTimeout(k,f);return function(){clearTimeout(e)}}}),[k,s,f]),t.createElement("span",{className:y,style:m},t.createElement("span",{className:g}))},wN=t.forwardRef((function(e,n){var r=e.center,i=void 0!==r&&r,a=e.classes,o=e.className,u=f(e,["center","classes","className"]),s=t.useState([]),l=s[0],h=s[1],p=t.useRef(0),v=t.useRef(null);t.useEffect((function(){v.current&&(v.current(),v.current=null)}),[l]);var y=t.useRef(!1),m=t.useRef(null),g=t.useRef(null),k=t.useRef(null);t.useEffect((function(){return function(){clearTimeout(m.current)}}),[]);var b=t.useCallback((function(e){var n=e.pulsate,r=e.rippleX,i=e.rippleY,o=e.rippleSize,u=e.cb;h((function(e){return[].concat(mt(e),[t.createElement(bN,{key:p.current,classes:a,timeout:550,pulsate:n,rippleX:r,rippleY:i,rippleSize:o})])})),p.current+=1,v.current=u}),[a]),w=t.useCallback((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=t.pulsate,a=void 0!==r&&r,o=t.center,u=void 0===o?i||t.pulsate:o,s=t.fakeElement,c=void 0!==s&&s;if("mousedown"===e.type&&y.current)y.current=!1;else{"touchstart"===e.type&&(y.current=!0);var l,f,h,d=c?null:k.current,p=d?d.getBoundingClientRect():{width:0,height:0,left:0,top:0};if(u||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)l=Math.round(p.width/2),f=Math.round(p.height/2);else{var v=e.touches?e.touches[0]:e,w=v.clientX,x=v.clientY;l=Math.round(w-p.left),f=Math.round(x-p.top)}if(u)(h=Math.sqrt((2*Math.pow(p.width,2)+Math.pow(p.height,2))/3))%2===0&&(h+=1);else{var I=2*Math.max(Math.abs((d?d.clientWidth:0)-l),l)+2,S=2*Math.max(Math.abs((d?d.clientHeight:0)-f),f)+2;h=Math.sqrt(Math.pow(I,2)+Math.pow(S,2))}e.touches?null===g.current&&(g.current=function(){b({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})},m.current=setTimeout((function(){g.current&&(g.current(),g.current=null)}),80)):b({pulsate:a,rippleX:l,rippleY:f,rippleSize:h,cb:n})}}),[i,b]),x=t.useCallback((function(){w({},{pulsate:!0})}),[w]),I=t.useCallback((function(e,t){if(clearTimeout(m.current),"touchend"===e.type&&g.current)return e.persist(),g.current(),g.current=null,void(m.current=setTimeout((function(){I(e,t)})));g.current=null,h((function(e){return e.length>0?e.slice(1):e})),v.current=t}),[]);return t.useImperativeHandle(n,(function(){return{pulsate:x,start:w,stop:I}}),[x,w,I]),t.createElement("span",c({className:d(a.root,o),ref:k},u),t.createElement(gN,{component:null,exit:!0},l))})),xN=Or((function(e){return{root:{overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"},ripple:{opacity:0,position:"absolute"},rippleVisible:{opacity:.3,transform:"scale(1)",animation:"$enter ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},ripplePulsate:{animationDuration:"".concat(e.transitions.duration.shorter,"ms")},child:{opacity:1,display:"block",width:"100%",height:"100%",borderRadius:"50%",backgroundColor:"currentColor"},childLeaving:{opacity:0,animation:"$exit ".concat(550,"ms ").concat(e.transitions.easing.easeInOut)},childPulsate:{position:"absolute",left:0,top:0,animation:"$pulsate 2500ms ".concat(e.transitions.easing.easeInOut," 200ms infinite")},"@keyframes enter":{"0%":{transform:"scale(0)",opacity:.1},"100%":{transform:"scale(1)",opacity:.3}},"@keyframes exit":{"0%":{opacity:1},"100%":{opacity:0}},"@keyframes pulsate":{"0%":{transform:"scale(1)"},"50%":{transform:"scale(0.92)"},"100%":{transform:"scale(1)"}}}}),{flip:!1,name:"MuiTouchRipple"})(t.memo(wN)),IN=t.forwardRef((function(e,n){var i=e.action,a=e.buttonRef,o=e.centerRipple,u=void 0!==o&&o,s=e.children,l=e.classes,h=e.className,p=e.component,v=void 0===p?"button":p,y=e.disabled,m=void 0!==y&&y,g=e.disableRipple,k=void 0!==g&&g,b=e.disableTouchRipple,w=void 0!==b&&b,x=e.focusRipple,I=void 0!==x&&x,S=e.focusVisibleClassName,E=e.onBlur,_=e.onClick,T=e.onFocus,C=e.onFocusVisible,A=e.onKeyDown,N=e.onKeyUp,R=e.onMouseDown,P=e.onMouseLeave,D=e.onMouseUp,O=e.onTouchEnd,L=e.onTouchMove,M=e.onTouchStart,F=e.onDragLeave,V=e.tabIndex,U=void 0===V?0:V,j=e.TouchRippleProps,B=e.type,z=void 0===B?"button":B,q=f(e,["action","buttonRef","centerRipple","children","classes","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","onBlur","onClick","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","onDragLeave","tabIndex","TouchRippleProps","type"]),W=t.useRef(null);var K=t.useRef(null),G=t.useState(!1),H=G[0],Q=G[1];m&&H&&Q(!1);var Y=fN(),X=Y.isFocusVisible,J=Y.onBlurVisible,Z=Y.ref;function $(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:w;return tN((function(r){return t&&t(r),!n&&K.current&&K.current[e](r),!0}))}t.useImperativeHandle(i,(function(){return{focusVisible:function(){Q(!0),W.current.focus()}}}),[]),t.useEffect((function(){H&&I&&!k&&K.current.pulsate()}),[k,I,H]);var ee=$("start",R),te=$("stop",F),ne=$("stop",D),re=$("stop",(function(e){H&&e.preventDefault(),P&&P(e)})),ie=$("start",M),ae=$("stop",O),oe=$("stop",L),ue=$("stop",(function(e){H&&(J(e),Q(!1)),E&&E(e)}),!1),se=tN((function(e){W.current||(W.current=e.currentTarget),X(e)&&(Q(!0),C&&C(e)),T&&T(e)})),ce=function(){var e=r.findDOMNode(W.current);return v&&"button"!==v&&!("A"===e.tagName&&e.href)},le=t.useRef(!1),fe=tN((function(e){I&&!le.current&&H&&K.current&&" "===e.key&&(le.current=!0,e.persist(),K.current.stop(e,(function(){K.current.start(e)}))),e.target===e.currentTarget&&ce()&&" "===e.key&&e.preventDefault(),A&&A(e),e.target===e.currentTarget&&ce()&&"Enter"===e.key&&!m&&(e.preventDefault(),_&&_(e))})),he=tN((function(e){I&&" "===e.key&&K.current&&H&&!e.defaultPrevented&&(le.current=!1,e.persist(),K.current.stop(e,(function(){K.current.pulsate(e)}))),N&&N(e),_&&e.target===e.currentTarget&&ce()&&" "===e.key&&!e.defaultPrevented&&_(e)})),de=v;"button"===de&&q.href&&(de="a");var pe={};"button"===de?(pe.type=z,pe.disabled=m):("a"===de&&q.href||(pe.role="button"),pe["aria-disabled"]=m);var ve=$A(a,n),ye=$A(Z,W),me=$A(ve,ye),ge=t.useState(!1),ke=ge[0],be=ge[1];t.useEffect((function(){be(!0)}),[]);var we=ke&&!k&&!m;return t.createElement(de,c({className:d(l.root,h,H&&[l.focusVisible,S],m&&l.disabled),onBlur:ue,onClick:_,onFocus:se,onKeyDown:fe,onKeyUp:he,onMouseDown:ee,onMouseLeave:re,onMouseUp:ne,onDragLeave:te,onTouchEnd:ae,onTouchMove:oe,onTouchStart:ie,ref:me,tabIndex:m?-1:U},pe,q),s,we?t.createElement(xN,c({ref:K,center:u},j)):null)})),SN=Or({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},"&$disabled":{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}},disabled:{},focusVisible:{}},{name:"MuiButtonBase"})(IN),EN=t.forwardRef((function(e,n){var r=e.children,i=e.classes,a=e.className,o=e.color,u=void 0===o?"default":o,s=e.component,l=void 0===s?"button":s,h=e.disabled,p=void 0!==h&&h,v=e.disableElevation,y=void 0!==v&&v,m=e.disableFocusRipple,g=void 0!==m&&m,k=e.endIcon,b=e.focusVisibleClassName,w=e.fullWidth,x=void 0!==w&&w,I=e.size,S=void 0===I?"medium":I,E=e.startIcon,_=e.type,T=void 0===_?"button":_,C=e.variant,A=void 0===C?"text":C,N=f(e,["children","classes","className","color","component","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"]),R=E&&t.createElement("span",{className:d(i.startIcon,i["iconSize".concat(Lr(S))])},E),P=k&&t.createElement("span",{className:d(i.endIcon,i["iconSize".concat(Lr(S))])},k);return t.createElement(SN,c({className:d(i.root,i[A],a,"inherit"===u?i.colorInherit:"default"!==u&&i["".concat(A).concat(Lr(u))],"medium"!==S&&[i["".concat(A,"Size").concat(Lr(S))],i["size".concat(Lr(S))]],y&&i.disableElevation,p&&i.disabled,x&&i.fullWidth),component:l,disabled:p,focusRipple:!g,focusVisibleClassName:d(i.focusVisible,b),ref:n,type:T},N),t.createElement("span",{className:i.label},R,r,P))})),_N=Or((function(e){return{root:c({},e.typography.button,{boxSizing:"border-box",minWidth:64,padding:"6px 16px",borderRadius:e.shape.borderRadius,color:e.palette.text.primary,transition:e.transitions.create(["background-color","box-shadow","border"],{duration:e.transitions.duration.short}),"&:hover":{textDecoration:"none",backgroundColor:er(e.palette.text.primary,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"},"&$disabled":{backgroundColor:"transparent"}},"&$disabled":{color:e.palette.action.disabled}}),label:{width:"100%",display:"inherit",alignItems:"inherit",justifyContent:"inherit"},text:{padding:"6px 8px"},textPrimary:{color:e.palette.primary.main,"&:hover":{backgroundColor:er(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},textSecondary:{color:e.palette.secondary.main,"&:hover":{backgroundColor:er(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlined:{padding:"5px 15px",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"&$disabled":{border:"1px solid ".concat(e.palette.action.disabledBackground)}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(er(e.palette.primary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.primary.main),backgroundColor:er(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(er(e.palette.secondary.main,.5)),"&:hover":{border:"1px solid ".concat(e.palette.secondary.main),backgroundColor:er(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"&$disabled":{border:"1px solid ".concat(e.palette.action.disabled)}},contained:{color:e.palette.getContrastText(e.palette.grey[300]),backgroundColor:e.palette.grey[300],boxShadow:e.shadows[2],"&:hover":{backgroundColor:e.palette.grey.A100,boxShadow:e.shadows[4],"@media (hover: none)":{boxShadow:e.shadows[2],backgroundColor:e.palette.grey[300]},"&$disabled":{backgroundColor:e.palette.action.disabledBackground}},"&$focusVisible":{boxShadow:e.shadows[6]},"&:active":{boxShadow:e.shadows[8]},"&$disabled":{color:e.palette.action.disabled,boxShadow:e.shadows[0],backgroundColor:e.palette.action.disabledBackground}},containedPrimary:{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.main,"&:hover":{backgroundColor:e.palette.primary.dark,"@media (hover: none)":{backgroundColor:e.palette.primary.main}}},containedSecondary:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,"&:hover":{backgroundColor:e.palette.secondary.dark,"@media (hover: none)":{backgroundColor:e.palette.secondary.main}}},disableElevation:{boxShadow:"none","&:hover":{boxShadow:"none"},"&$focusVisible":{boxShadow:"none"},"&:active":{boxShadow:"none"},"&$disabled":{boxShadow:"none"}},focusVisible:{},disabled:{},colorInherit:{color:"inherit",borderColor:"currentColor"},textSizeSmall:{padding:"4px 5px",fontSize:e.typography.pxToRem(13)},textSizeLarge:{padding:"8px 11px",fontSize:e.typography.pxToRem(15)},outlinedSizeSmall:{padding:"3px 9px",fontSize:e.typography.pxToRem(13)},outlinedSizeLarge:{padding:"7px 21px",fontSize:e.typography.pxToRem(15)},containedSizeSmall:{padding:"4px 10px",fontSize:e.typography.pxToRem(13)},containedSizeLarge:{padding:"8px 22px",fontSize:e.typography.pxToRem(15)},sizeSmall:{},sizeLarge:{},fullWidth:{width:"100%"},startIcon:{display:"inherit",marginRight:8,marginLeft:-4,"&$iconSizeSmall":{marginLeft:-2}},endIcon:{display:"inherit",marginRight:-4,marginLeft:8,"&$iconSizeSmall":{marginRight:-2}},iconSizeSmall:{"& > *:first-child":{fontSize:18}},iconSizeMedium:{"& > *:first-child":{fontSize:20}},iconSizeLarge:{"& > *:first-child":{fontSize:22}}}}),{name:"MuiButton"})(EN);function TN(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function CN(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?TN(Object(n),!0).forEach((function(t){Un(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TN(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var AN="SET_USER",NN=function(e,t){return console.log(t),t.type===AN?CN(CN({},e),{},{user:t.user}):e};var RN=function(){var e=s(Kr(),2),t=(e[0],e[1]);return(0,zr.jsxs)("div",{className:"login",children:[(0,zr.jsxs)("div",{className:"login_logo",children:[(0,zr.jsx)("img",{src:n(221),alt:""}),(0,zr.jsx)("div",{className:"logo2",children:(0,zr.jsx)("img",{src:n(592),alt:""})})]}),(0,zr.jsx)(_N,{type:"submit",onClick:function(){KA.signInWithPopup(GA).then((function(e){t({type:AN,user:e.user}),console.log(e)})).catch((function(e){return alert(e.message)}))},children:"Sign In"}),(0,zr.jsx)("div",{className:"logo_pever",children:(0,zr.jsx)("img",{src:n(462),alt:""})})]})};var PN=function(){var e=s(Kr(),2),t=e[0].user;return e[1],(0,zr.jsx)("div",{className:"app",children:t?(0,zr.jsxs)(zr.Fragment,{children:[(0,zr.jsx)(Gr,{}),(0,zr.jsxs)("div",{className:"app_body",children:[(0,zr.jsx)(Yr,{}),(0,zr.jsx)(XA,{}),(0,zr.jsx)(JA,{})]})]}):(0,zr.jsx)(RN,{})})},DN=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};r.render((0,zr.jsx)(t.StrictMode,{children:(0,zr.jsx)(Wr,{initialState:{user:null},reducer:NN,children:(0,zr.jsx)(PN,{})})}),document.getElementById("root")),DN()}()}();
//# sourceMappingURL=main.46ddc0ee.js.map